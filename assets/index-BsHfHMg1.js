(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function F1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Rf={exports:{}},Ds={},$f={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=Symbol.for("react.element"),j1=Symbol.for("react.portal"),V1=Symbol.for("react.fragment"),U1=Symbol.for("react.strict_mode"),W1=Symbol.for("react.profiler"),B1=Symbol.for("react.provider"),Y1=Symbol.for("react.context"),b1=Symbol.for("react.forward_ref"),X1=Symbol.for("react.suspense"),G1=Symbol.for("react.memo"),q1=Symbol.for("react.lazy"),Bc=Symbol.iterator;function Q1(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var If={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Af=Object.assign,Nf={};function qn(e,t,r){this.props=e,this.context=t,this.refs=Nf,this.updater=r||If}qn.prototype.isReactComponent={};qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Of(){}Of.prototype=qn.prototype;function lu(e,t,r){this.props=e,this.context=t,this.refs=Nf,this.updater=r||If}var uu=lu.prototype=new Of;uu.constructor=lu;Af(uu,qn.prototype);uu.isPureReactComponent=!0;var Yc=Array.isArray,Df=Object.prototype.hasOwnProperty,cu={current:null},Hf={key:!0,ref:!0,__self:!0,__source:!0};function Ff(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Df.call(t,n)&&!Hf.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:to,type:e,key:o,ref:s,props:i,_owner:cu.current}}function Z1(e,t){return{$$typeof:to,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hu(e){return typeof e=="object"&&e!==null&&e.$$typeof===to}function K1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bc=/\/+/g;function wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K1(""+e.key):t.toString(36)}function Xo(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case to:case j1:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+wa(s,0):n,Yc(i)?(r="",e!=null&&(r=e.replace(bc,"$&/")+"/"),Xo(i,t,r,"",function(u){return u})):i!=null&&(hu(i)&&(i=Z1(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(bc,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Yc(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+wa(o,a);s+=Xo(o,t,r,l,i)}else if(l=Q1(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+wa(o,a++),s+=Xo(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Po(e,t,r){if(e==null)return e;var n=[],i=0;return Xo(e,n,"","",function(o){return t.call(r,o,i++)}),n}function J1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Go={transition:null},em={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Go,ReactCurrentOwner:cu};function jf(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Po,forEach:function(e,t,r){Po(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Po(e,function(){t++}),t},toArray:function(e){return Po(e,function(t){return t})||[]},only:function(e){if(!hu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=qn;X.Fragment=V1;X.Profiler=W1;X.PureComponent=lu;X.StrictMode=U1;X.Suspense=X1;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=em;X.act=jf;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Af({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=cu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Df.call(t,l)&&!Hf.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:to,type:e.type,key:i,ref:o,props:n,_owner:s}};X.createContext=function(e){return e={$$typeof:Y1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B1,_context:e},e.Consumer=e};X.createElement=Ff;X.createFactory=function(e){var t=Ff.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:b1,render:e}};X.isValidElement=hu;X.lazy=function(e){return{$$typeof:q1,_payload:{_status:-1,_result:e},_init:J1}};X.memo=function(e,t){return{$$typeof:G1,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Go.transition;Go.transition={};try{e()}finally{Go.transition=t}};X.unstable_act=jf;X.useCallback=function(e,t){return Be.current.useCallback(e,t)};X.useContext=function(e){return Be.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};X.useEffect=function(e,t){return Be.current.useEffect(e,t)};X.useId=function(){return Be.current.useId()};X.useImperativeHandle=function(e,t,r){return Be.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Be.current.useMemo(e,t)};X.useReducer=function(e,t,r){return Be.current.useReducer(e,t,r)};X.useRef=function(e){return Be.current.useRef(e)};X.useState=function(e){return Be.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return Be.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return Be.current.useTransition()};X.version="18.3.1";$f.exports=X;var ye=$f.exports;const fu=au(ye);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=ye,rm=Symbol.for("react.element"),nm=Symbol.for("react.fragment"),im=Object.prototype.hasOwnProperty,om=tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sm={key:!0,ref:!0,__self:!0,__source:!0};function Vf(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)im.call(t,n)&&!sm.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:rm,type:e,key:o,ref:s,props:i,_owner:om.current}}Ds.Fragment=nm;Ds.jsx=Vf;Ds.jsxs=Vf;Rf.exports=Ds;var N=Rf.exports,ll={},Uf={exports:{}},ot={},Wf={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,F){var j=I.length;I.push(F);e:for(;0<j;){var ce=j-1>>>1,ve=I[ce];if(0<i(ve,F))I[ce]=F,I[j]=ve,j=ce;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var F=I[0],j=I.pop();if(j!==F){I[0]=j;e:for(var ce=0,ve=I.length,pn=ve>>>1;ce<pn;){var Wt=2*(ce+1)-1,Me=I[Wt],je=Wt+1,oe=I[je];if(0>i(Me,j))je<ve&&0>i(oe,Me)?(I[ce]=oe,I[je]=j,ce=je):(I[ce]=Me,I[Wt]=j,ce=Wt);else if(je<ve&&0>i(oe,j))I[ce]=oe,I[je]=j,ce=je;else break e}}return F}function i(I,F){var j=I.sortIndex-F.sortIndex;return j!==0?j:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,p=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=I)n(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=r(u)}}function S(I){if(w=!1,x(I),!p)if(r(l)!==null)p=!0,et(C);else{var F=r(u);F!==null&&K(S,F.startTime-I)}}function C(I,F){p=!1,w&&(w=!1,m(L),L=-1),d=!0;var j=f;try{for(x(F),h=r(l);h!==null&&(!(h.expirationTime>F)||I&&!H());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,f=h.priorityLevel;var ve=ce(h.expirationTime<=F);F=e.unstable_now(),typeof ve=="function"?h.callback=ve:h===r(l)&&n(l),x(F)}else n(l);h=r(l)}if(h!==null)var pn=!0;else{var Wt=r(u);Wt!==null&&K(S,Wt.startTime-F),pn=!1}return pn}finally{h=null,f=j,d=!1}}var T=!1,z=null,L=-1,D=5,$=-1;function H(){return!(e.unstable_now()-$<D)}function Y(){if(z!==null){var I=e.unstable_now();$=I;var F=!0;try{F=z(!0,I)}finally{F?G():(T=!1,z=null)}}else T=!1}var G;if(typeof y=="function")G=function(){y(Y)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,M=V.port2;V.port1.onmessage=Y,G=function(){M.postMessage(null)}}else G=function(){g(Y,0)};function et(I){z=I,T||(T=!0,G())}function K(I,F){L=g(function(){I(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){p||d||(p=!0,et(C))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var j=f;f=F;try{return I()}finally{f=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=f;f=I;try{return F()}finally{f=j}},e.unstable_scheduleCallback=function(I,F,j){var ce=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ce+j:ce):j=ce,I){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=j+ve,I={id:c++,callback:F,priorityLevel:I,startTime:j,expirationTime:ve,sortIndex:-1},j>ce?(I.sortIndex=j,t(u,I),r(l)===null&&I===r(u)&&(w?(m(L),L=-1):w=!0,K(S,j-ce))):(I.sortIndex=ve,t(l,I),p||d||(p=!0,et(C))),I},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(I){var F=f;return function(){var j=f;f=F;try{return I.apply(this,arguments)}finally{f=j}}}})(Bf);Wf.exports=Bf;var am=Wf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=ye,it=am;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yf=new Set,Ai={};function sn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(Ai[e]=t,e=0;e<t.length;e++)Yf.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ul=Object.prototype.hasOwnProperty,um=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xc={},Gc={};function cm(e){return ul.call(Gc,e)?!0:ul.call(Xc,e)?!1:um.test(e)?Gc[e]=!0:(Xc[e]=!0,!1)}function hm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fm(e,t,r,n){if(t===null||typeof t>"u"||hm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var du=/[\-:]([a-z])/g;function vu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(du,vu);Ie[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(du,vu);Ie[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(du,vu);Ie[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function pu(e,t,r,n){var i=Ie.hasOwnProperty(t)?Ie[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fm(t,r,i,n)&&(r=null),n||i===null?cm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var or=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),xn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),mu=Symbol.for("react.strict_mode"),cl=Symbol.for("react.profiler"),bf=Symbol.for("react.provider"),Xf=Symbol.for("react.context"),yu=Symbol.for("react.forward_ref"),hl=Symbol.for("react.suspense"),fl=Symbol.for("react.suspense_list"),_u=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),Gf=Symbol.for("react.offscreen"),qc=Symbol.iterator;function hi(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,xa;function gi(e){if(xa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xa=t&&t[1]||""}return`
`+xa+e}var Ea=!1;function Sa(e,t){if(!e||Ea)return"";Ea=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ea=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gi(e):""}function dm(e){switch(e.tag){case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 2:case 15:return e=Sa(e.type,!1),e;case 11:return e=Sa(e.type.render,!1),e;case 1:return e=Sa(e.type,!0),e;default:return""}}function dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case En:return"Fragment";case xn:return"Portal";case cl:return"Profiler";case mu:return"StrictMode";case hl:return"Suspense";case fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xf:return(e.displayName||"Context")+".Consumer";case bf:return(e._context.displayName||"Context")+".Provider";case yu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _u:return t=e.displayName||null,t!==null?t:dl(e.type)||"Memo";case vr:t=e._payload,e=e._init;try{return dl(e(t))}catch{}}return null}function vm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dl(t);case 8:return t===mu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pm(e){var t=qf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ko(e){e._valueTracker||(e._valueTracker=pm(e))}function Qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vl(e,t){var r=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=kr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zf(e,t){t=t.checked,t!=null&&pu(e,"checked",t,!1)}function pl(e,t){Zf(e,t);var r=kr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ml(e,t.type,r):t.hasOwnProperty("defaultValue")&&ml(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ml(e,t,r){(t!=="number"||ls(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wi=Array.isArray;function An(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+kr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function yl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(k(92));if(wi(r)){if(1<r.length)throw Error(k(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:kr(r)}}function Kf(e,t){var r=kr(t.value),n=kr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _l(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lo,ed=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ni(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mm=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(e){mm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ti[t]=Ti[e]})});function td(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ti.hasOwnProperty(e)&&Ti[e]?(""+t).trim():t+"px"}function rd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=td(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var ym=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(e,t){if(t){if(ym[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function wl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var El=null,Nn=null,On=null;function eh(e){if(e=io(e)){if(typeof El!="function")throw Error(k(280));var t=e.stateNode;t&&(t=Us(t),El(e.stateNode,e.type,t))}}function nd(e){Nn?On?On.push(e):On=[e]:Nn=e}function id(){if(Nn){var e=Nn,t=On;if(On=Nn=null,eh(e),t)for(e=0;e<t.length;e++)eh(t[e])}}function od(e,t){return e(t)}function sd(){}var Ma=!1;function ad(e,t,r){if(Ma)return e(t,r);Ma=!0;try{return od(e,t,r)}finally{Ma=!1,(Nn!==null||On!==null)&&(sd(),id())}}function Oi(e,t){var r=e.stateNode;if(r===null)return null;var n=Us(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(k(231,t,typeof r));return r}var Sl=!1;if(Kt)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Sl=!1}function _m(e,t,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Ci=!1,us=null,cs=!1,Ml=null,gm={onError:function(e){Ci=!0,us=e}};function wm(e,t,r,n,i,o,s,a,l){Ci=!1,us=null,_m.apply(gm,arguments)}function xm(e,t,r,n,i,o,s,a,l){if(wm.apply(this,arguments),Ci){if(Ci){var u=us;Ci=!1,us=null}else throw Error(k(198));cs||(cs=!0,Ml=u)}}function an(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function th(e){if(an(e)!==e)throw Error(k(188))}function Em(e){var t=e.alternate;if(!t){if(t=an(e),t===null)throw Error(k(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return th(i),e;if(o===n)return th(i),t;o=o.sibling}throw Error(k(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(k(189))}}if(r.alternate!==n)throw Error(k(190))}if(r.tag!==3)throw Error(k(188));return r.stateNode.current===r?e:t}function ud(e){return e=Em(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var hd=it.unstable_scheduleCallback,rh=it.unstable_cancelCallback,Sm=it.unstable_shouldYield,Mm=it.unstable_requestPaint,_e=it.unstable_now,Tm=it.unstable_getCurrentPriorityLevel,wu=it.unstable_ImmediatePriority,fd=it.unstable_UserBlockingPriority,hs=it.unstable_NormalPriority,Cm=it.unstable_LowPriority,dd=it.unstable_IdlePriority,Hs=null,Ot=null;function Pm(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Hs,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Lm,zm=Math.log,km=Math.LN2;function Lm(e){return e>>>=0,e===0?32:31-(zm(e)/km|0)|0}var Ro=64,$o=4194304;function xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=xi(a):(o&=s,o!==0&&(n=xi(o)))}else s=r&~i,s!==0?n=xi(s):o!==0&&(n=xi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Tt(t),i=1<<r,n|=e[r],t&=~i;return n}function Rm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $m(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Tt(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=Rm(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vd(){var e=Ro;return Ro<<=1,!(Ro&4194240)&&(Ro=64),e}function Ta(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ro(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=r}function Im(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Tt(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function xu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Tt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ee=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,Eu,yd,_d,gd,Cl=!1,Io=[],xr=null,Er=null,Sr=null,Di=new Map,Hi=new Map,yr=[],Am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nh(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(t.pointerId)}}function di(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=io(t),t!==null&&Eu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Nm(e,t,r,n,i){switch(t){case"focusin":return xr=di(xr,e,t,r,n,i),!0;case"dragenter":return Er=di(Er,e,t,r,n,i),!0;case"mouseover":return Sr=di(Sr,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Di.set(o,di(Di.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Hi.set(o,di(Hi.get(o)||null,e,t,r,n,i)),!0}return!1}function wd(e){var t=Xr(e.target);if(t!==null){var r=an(t);if(r!==null){if(t=r.tag,t===13){if(t=ld(r),t!==null){e.blockedOn=t,gd(e.priority,function(){yd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xl=n,r.target.dispatchEvent(n),xl=null}else return t=io(r),t!==null&&Eu(t),e.blockedOn=r,!1;t.shift()}return!0}function ih(e,t,r){qo(e)&&r.delete(t)}function Om(){Cl=!1,xr!==null&&qo(xr)&&(xr=null),Er!==null&&qo(Er)&&(Er=null),Sr!==null&&qo(Sr)&&(Sr=null),Di.forEach(ih),Hi.forEach(ih)}function vi(e,t){e.blockedOn===t&&(e.blockedOn=null,Cl||(Cl=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Om)))}function Fi(e){function t(i){return vi(i,e)}if(0<Io.length){vi(Io[0],e);for(var r=1;r<Io.length;r++){var n=Io[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xr!==null&&vi(xr,e),Er!==null&&vi(Er,e),Sr!==null&&vi(Sr,e),Di.forEach(t),Hi.forEach(t),r=0;r<yr.length;r++)n=yr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yr.length&&(r=yr[0],r.blockedOn===null);)wd(r),r.blockedOn===null&&yr.shift()}var Dn=or.ReactCurrentBatchConfig,ds=!0;function Dm(e,t,r,n){var i=ee,o=Dn.transition;Dn.transition=null;try{ee=1,Su(e,t,r,n)}finally{ee=i,Dn.transition=o}}function Hm(e,t,r,n){var i=ee,o=Dn.transition;Dn.transition=null;try{ee=4,Su(e,t,r,n)}finally{ee=i,Dn.transition=o}}function Su(e,t,r,n){if(ds){var i=Pl(e,t,r,n);if(i===null)Na(e,t,n,vs,r),nh(e,n);else if(Nm(i,e,t,r,n))n.stopPropagation();else if(nh(e,n),t&4&&-1<Am.indexOf(e)){for(;i!==null;){var o=io(i);if(o!==null&&md(o),o=Pl(e,t,r,n),o===null&&Na(e,t,n,vs,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Na(e,t,n,null,r)}}var vs=null;function Pl(e,t,r,n){if(vs=null,e=gu(n),e=Xr(e),e!==null)if(t=an(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ld(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vs=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tm()){case wu:return 1;case fd:return 4;case hs:case Cm:return 16;case dd:return 536870912;default:return 16}default:return 16}}var gr=null,Mu=null,Qo=null;function Ed(){if(Qo)return Qo;var e,t=Mu,r=t.length,n,i="value"in gr?gr.value:gr.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return Qo=i.slice(e,1<n?1-n:void 0)}function Zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ao(){return!0}function oh(){return!1}function st(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ao:oh,this.isPropagationStopped=oh,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=st(Qn),no=de({},Qn,{view:0,detail:0}),Fm=st(no),Ca,Pa,pi,Fs=de({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(Ca=e.screenX-pi.screenX,Pa=e.screenY-pi.screenY):Pa=Ca=0,pi=e),Ca)},movementY:function(e){return"movementY"in e?e.movementY:Pa}}),sh=st(Fs),jm=de({},Fs,{dataTransfer:0}),Vm=st(jm),Um=de({},no,{relatedTarget:0}),za=st(Um),Wm=de({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Bm=st(Wm),Ym=de({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bm=st(Ym),Xm=de({},Qn,{data:0}),ah=st(Xm),Gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qm[e])?!!t[e]:!1}function Cu(){return Zm}var Km=de({},no,{key:function(e){if(e.key){var t=Gm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cu,charCode:function(e){return e.type==="keypress"?Zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jm=st(Km),ey=de({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=st(ey),ty=de({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cu}),ry=st(ty),ny=de({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),iy=st(ny),oy=de({},Fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sy=st(oy),ay=[9,13,27,32],Pu=Kt&&"CompositionEvent"in window,Pi=null;Kt&&"documentMode"in document&&(Pi=document.documentMode);var ly=Kt&&"TextEvent"in window&&!Pi,Sd=Kt&&(!Pu||Pi&&8<Pi&&11>=Pi),uh=" ",ch=!1;function Md(e,t){switch(e){case"keyup":return ay.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function uy(e,t){switch(e){case"compositionend":return Td(t);case"keypress":return t.which!==32?null:(ch=!0,uh);case"textInput":return e=t.data,e===uh&&ch?null:e;default:return null}}function cy(e,t){if(Sn)return e==="compositionend"||!Pu&&Md(e,t)?(e=Ed(),Qo=Mu=gr=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hy[e.type]:t==="textarea"}function Cd(e,t,r,n){nd(n),t=ps(t,"onChange"),0<t.length&&(r=new Tu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zi=null,ji=null;function fy(e){Dd(e,0)}function js(e){var t=Cn(e);if(Qf(t))return e}function dy(e,t){if(e==="change")return t}var Pd=!1;if(Kt){var ka;if(Kt){var La="oninput"in document;if(!La){var fh=document.createElement("div");fh.setAttribute("oninput","return;"),La=typeof fh.oninput=="function"}ka=La}else ka=!1;Pd=ka&&(!document.documentMode||9<document.documentMode)}function dh(){zi&&(zi.detachEvent("onpropertychange",zd),ji=zi=null)}function zd(e){if(e.propertyName==="value"&&js(ji)){var t=[];Cd(t,ji,e,gu(e)),ad(fy,t)}}function vy(e,t,r){e==="focusin"?(dh(),zi=t,ji=r,zi.attachEvent("onpropertychange",zd)):e==="focusout"&&dh()}function py(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return js(ji)}function my(e,t){if(e==="click")return js(t)}function yy(e,t){if(e==="input"||e==="change")return js(t)}function _y(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:_y;function Vi(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ul.call(t,i)||!Pt(e[i],t[i]))return!1}return!0}function vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ph(e,t){var r=vh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vh(r)}}function kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ld(){for(var e=window,t=ls();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ls(e.document)}return t}function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gy(e){var t=Ld(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kd(r.ownerDocument.documentElement,r)){if(n!==null&&zu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=ph(r,o);var s=ph(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wy=Kt&&"documentMode"in document&&11>=document.documentMode,Mn=null,zl=null,ki=null,kl=!1;function mh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kl||Mn==null||Mn!==ls(n)||(n=Mn,"selectionStart"in n&&zu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ki&&Vi(ki,n)||(ki=n,n=ps(zl,"onSelect"),0<n.length&&(t=new Tu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mn)))}function No(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Tn={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},Ra={},Rd={};Kt&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function Vs(e){if(Ra[e])return Ra[e];if(!Tn[e])return e;var t=Tn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rd)return Ra[e]=t[r];return e}var $d=Vs("animationend"),Id=Vs("animationiteration"),Ad=Vs("animationstart"),Nd=Vs("transitionend"),Od=new Map,yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(e,t){Od.set(e,t),sn(t,[e])}for(var $a=0;$a<yh.length;$a++){var Ia=yh[$a],xy=Ia.toLowerCase(),Ey=Ia[0].toUpperCase()+Ia.slice(1);$r(xy,"on"+Ey)}$r($d,"onAnimationEnd");$r(Id,"onAnimationIteration");$r(Ad,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(Nd,"onTransitionEnd");Vn("onMouseEnter",["mouseout","mouseover"]);Vn("onMouseLeave",["mouseout","mouseover"]);Vn("onPointerEnter",["pointerout","pointerover"]);Vn("onPointerLeave",["pointerout","pointerover"]);sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function _h(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,xm(n,t,void 0,e),e.currentTarget=null}function Dd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;_h(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;_h(i,a,u),o=l}}}if(cs)throw e=Ml,cs=!1,Ml=null,e}function se(e,t){var r=t[Al];r===void 0&&(r=t[Al]=new Set);var n=e+"__bubble";r.has(n)||(Hd(t,e,2,!1),r.add(n))}function Aa(e,t,r){var n=0;t&&(n|=4),Hd(r,e,n,t)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Oo]){e[Oo]=!0,Yf.forEach(function(r){r!=="selectionchange"&&(Sy.has(r)||Aa(r,!1,e),Aa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oo]||(t[Oo]=!0,Aa("selectionchange",!1,t))}}function Hd(e,t,r,n){switch(xd(t)){case 1:var i=Dm;break;case 4:i=Hm;break;default:i=Su}r=i.bind(null,t,r,e),i=void 0,!Sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Na(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Xr(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}ad(function(){var u=o,c=gu(r),h=[];e:{var f=Od.get(e);if(f!==void 0){var d=Tu,p=e;switch(e){case"keypress":if(Zo(r)===0)break e;case"keydown":case"keyup":d=Jm;break;case"focusin":p="focus",d=za;break;case"focusout":p="blur",d=za;break;case"beforeblur":case"afterblur":d=za;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=ry;break;case $d:case Id:case Ad:d=Bm;break;case Nd:d=iy;break;case"scroll":d=Fm;break;case"wheel":d=sy;break;case"copy":case"cut":case"paste":d=bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=lh}var w=(t&4)!==0,g=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var y=u,x;y!==null;){x=y;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,m!==null&&(S=Oi(y,m),S!=null&&w.push(Wi(y,S,x)))),g)break;y=y.return}0<w.length&&(f=new d(f,p,null,r,c),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&r!==xl&&(p=r.relatedTarget||r.fromElement)&&(Xr(p)||p[Jt]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=u,p=p?Xr(p):null,p!==null&&(g=an(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(w=sh,S="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=lh,S="onPointerLeave",m="onPointerEnter",y="pointer"),g=d==null?f:Cn(d),x=p==null?f:Cn(p),f=new w(S,y+"leave",d,r,c),f.target=g,f.relatedTarget=x,S=null,Xr(c)===u&&(w=new w(m,y+"enter",p,r,c),w.target=x,w.relatedTarget=g,S=w),g=S,d&&p)t:{for(w=d,m=p,y=0,x=w;x;x=_n(x))y++;for(x=0,S=m;S;S=_n(S))x++;for(;0<y-x;)w=_n(w),y--;for(;0<x-y;)m=_n(m),x--;for(;y--;){if(w===m||m!==null&&w===m.alternate)break t;w=_n(w),m=_n(m)}w=null}else w=null;d!==null&&gh(h,f,d,w,!1),p!==null&&g!==null&&gh(h,g,p,w,!0)}}e:{if(f=u?Cn(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var C=dy;else if(hh(f))if(Pd)C=yy;else{C=py;var T=vy}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=my);if(C&&(C=C(e,u))){Cd(h,C,r,c);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&ml(f,"number",f.value)}switch(T=u?Cn(u):window,e){case"focusin":(hh(T)||T.contentEditable==="true")&&(Mn=T,zl=u,ki=null);break;case"focusout":ki=zl=Mn=null;break;case"mousedown":kl=!0;break;case"contextmenu":case"mouseup":case"dragend":kl=!1,mh(h,r,c);break;case"selectionchange":if(wy)break;case"keydown":case"keyup":mh(h,r,c)}var z;if(Pu)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Sn?Md(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(Sd&&r.locale!=="ko"&&(Sn||L!=="onCompositionStart"?L==="onCompositionEnd"&&Sn&&(z=Ed()):(gr=c,Mu="value"in gr?gr.value:gr.textContent,Sn=!0)),T=ps(u,L),0<T.length&&(L=new ah(L,e,null,r,c),h.push({event:L,listeners:T}),z?L.data=z:(z=Td(r),z!==null&&(L.data=z)))),(z=ly?uy(e,r):cy(e,r))&&(u=ps(u,"onBeforeInput"),0<u.length&&(c=new ah("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=z))}Dd(h,t)})}function Wi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ps(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Oi(e,r),o!=null&&n.unshift(Wi(e,o,i)),o=Oi(e,t),o!=null&&n.push(Wi(e,o,i))),e=e.return}return n}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gh(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Oi(r,o),l!=null&&s.unshift(Wi(r,l,a))):i||(l=Oi(r,o),l!=null&&s.push(Wi(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var My=/\r\n?/g,Ty=/\u0000|\uFFFD/g;function wh(e){return(typeof e=="string"?e:""+e).replace(My,`
`).replace(Ty,"")}function Do(e,t,r){if(t=wh(t),wh(e)!==t&&r)throw Error(k(425))}function ms(){}var Ll=null,Rl=null;function $l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Il=typeof setTimeout=="function"?setTimeout:void 0,Cy=typeof clearTimeout=="function"?clearTimeout:void 0,xh=typeof Promise=="function"?Promise:void 0,Py=typeof queueMicrotask=="function"?queueMicrotask:typeof xh<"u"?function(e){return xh.resolve(null).then(e).catch(zy)}:Il;function zy(e){setTimeout(function(){throw e})}function Oa(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Fi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Fi(t)}function Mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Zn,Bi="__reactProps$"+Zn,Jt="__reactContainer$"+Zn,Al="__reactEvents$"+Zn,ky="__reactListeners$"+Zn,Ly="__reactHandles$"+Zn;function Xr(e){var t=e[Nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Jt]||r[Nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Eh(e);e!==null;){if(r=e[Nt])return r;e=Eh(e)}return t}e=r,r=e.parentNode}return null}function io(e){return e=e[Nt]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function Us(e){return e[Bi]||null}var Nl=[],Pn=-1;function Ir(e){return{current:e}}function ae(e){0>Pn||(e.current=Nl[Pn],Nl[Pn]=null,Pn--)}function ne(e,t){Pn++,Nl[Pn]=e.current,e.current=t}var Lr={},Fe=Ir(Lr),Qe=Ir(!1),Kr=Lr;function Un(e,t){var r=e.type.contextTypes;if(!r)return Lr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function ys(){ae(Qe),ae(Fe)}function Sh(e,t,r){if(Fe.current!==Lr)throw Error(k(168));ne(Fe,t),ne(Qe,r)}function Fd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(k(108,vm(e)||"Unknown",i));return de({},r,n)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lr,Kr=Fe.current,ne(Fe,e),ne(Qe,Qe.current),!0}function Mh(e,t,r){var n=e.stateNode;if(!n)throw Error(k(169));r?(e=Fd(e,t,Kr),n.__reactInternalMemoizedMergedChildContext=e,ae(Qe),ae(Fe),ne(Fe,e)):ae(Qe),ne(Qe,r)}var Gt=null,Ws=!1,Da=!1;function jd(e){Gt===null?Gt=[e]:Gt.push(e)}function Ry(e){Ws=!0,jd(e)}function Ar(){if(!Da&&Gt!==null){Da=!0;var e=0,t=ee;try{var r=Gt;for(ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Gt=null,Ws=!1}catch(i){throw Gt!==null&&(Gt=Gt.slice(e+1)),hd(wu,Ar),i}finally{ee=t,Da=!1}}return null}var zn=[],kn=0,gs=null,ws=0,ft=[],dt=0,Jr=null,qt=1,Qt="";function Wr(e,t){zn[kn++]=ws,zn[kn++]=gs,gs=e,ws=t}function Vd(e,t,r){ft[dt++]=qt,ft[dt++]=Qt,ft[dt++]=Jr,Jr=e;var n=qt;e=Qt;var i=32-Tt(n)-1;n&=~(1<<i),r+=1;var o=32-Tt(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,qt=1<<32-Tt(t)+i|r<<i|n,Qt=o+e}else qt=1<<o|r<<i|n,Qt=e}function ku(e){e.return!==null&&(Wr(e,1),Vd(e,1,0))}function Lu(e){for(;e===gs;)gs=zn[--kn],zn[kn]=null,ws=zn[--kn],zn[kn]=null;for(;e===Jr;)Jr=ft[--dt],ft[dt]=null,Qt=ft[--dt],ft[dt]=null,qt=ft[--dt],ft[dt]=null}var nt=null,rt=null,le=!1,St=null;function Ud(e,t){var r=pt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Th(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,rt=Mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jr!==null?{id:qt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nt=e,rt=null,!0):!1;default:return!1}}function Ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dl(e){if(le){var t=rt;if(t){var r=t;if(!Th(e,t)){if(Ol(e))throw Error(k(418));t=Mr(r.nextSibling);var n=nt;t&&Th(e,t)?Ud(n,r):(e.flags=e.flags&-4097|2,le=!1,nt=e)}}else{if(Ol(e))throw Error(k(418));e.flags=e.flags&-4097|2,le=!1,nt=e}}}function Ch(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function Ho(e){if(e!==nt)return!1;if(!le)return Ch(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$l(e.type,e.memoizedProps)),t&&(t=rt)){if(Ol(e))throw Wd(),Error(k(418));for(;t;)Ud(e,t),t=Mr(t.nextSibling)}if(Ch(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rt=Mr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=nt?Mr(e.stateNode.nextSibling):null;return!0}function Wd(){for(var e=rt;e;)e=Mr(e.nextSibling)}function Wn(){rt=nt=null,le=!1}function Ru(e){St===null?St=[e]:St.push(e)}var $y=or.ReactCurrentBatchConfig;function mi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(k(309));var n=r.stateNode}if(!n)throw Error(k(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(k(284));if(!r._owner)throw Error(k(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ph(e){var t=e._init;return t(e._payload)}function Bd(e){function t(m,y){if(e){var x=m.deletions;x===null?(m.deletions=[y],m.flags|=16):x.push(y)}}function r(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function n(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=zr(m,y),m.index=0,m.sibling=null,m}function o(m,y,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<y?(m.flags|=2,y):x):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,y,x,S){return y===null||y.tag!==6?(y=Ba(x,m.mode,S),y.return=m,y):(y=i(y,x),y.return=m,y)}function l(m,y,x,S){var C=x.type;return C===En?c(m,y,x.props.children,S,x.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===vr&&Ph(C)===y.type)?(S=i(y,x.props),S.ref=mi(m,y,x),S.return=m,S):(S=is(x.type,x.key,x.props,null,m.mode,S),S.ref=mi(m,y,x),S.return=m,S)}function u(m,y,x,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Ya(x,m.mode,S),y.return=m,y):(y=i(y,x.children||[]),y.return=m,y)}function c(m,y,x,S,C){return y===null||y.tag!==7?(y=Zr(x,m.mode,S,C),y.return=m,y):(y=i(y,x),y.return=m,y)}function h(m,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ba(""+y,m.mode,x),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zo:return x=is(y.type,y.key,y.props,null,m.mode,x),x.ref=mi(m,null,y),x.return=m,x;case xn:return y=Ya(y,m.mode,x),y.return=m,y;case vr:var S=y._init;return h(m,S(y._payload),x)}if(wi(y)||hi(y))return y=Zr(y,m.mode,x,null),y.return=m,y;Fo(m,y)}return null}function f(m,y,x,S){var C=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(m,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zo:return x.key===C?l(m,y,x,S):null;case xn:return x.key===C?u(m,y,x,S):null;case vr:return C=x._init,f(m,y,C(x._payload),S)}if(wi(x)||hi(x))return C!==null?null:c(m,y,x,S,null);Fo(m,x)}return null}function d(m,y,x,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(x)||null,a(y,m,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zo:return m=m.get(S.key===null?x:S.key)||null,l(y,m,S,C);case xn:return m=m.get(S.key===null?x:S.key)||null,u(y,m,S,C);case vr:var T=S._init;return d(m,y,x,T(S._payload),C)}if(wi(S)||hi(S))return m=m.get(x)||null,c(y,m,S,C,null);Fo(y,S)}return null}function p(m,y,x,S){for(var C=null,T=null,z=y,L=y=0,D=null;z!==null&&L<x.length;L++){z.index>L?(D=z,z=null):D=z.sibling;var $=f(m,z,x[L],S);if($===null){z===null&&(z=D);break}e&&z&&$.alternate===null&&t(m,z),y=o($,y,L),T===null?C=$:T.sibling=$,T=$,z=D}if(L===x.length)return r(m,z),le&&Wr(m,L),C;if(z===null){for(;L<x.length;L++)z=h(m,x[L],S),z!==null&&(y=o(z,y,L),T===null?C=z:T.sibling=z,T=z);return le&&Wr(m,L),C}for(z=n(m,z);L<x.length;L++)D=d(z,m,L,x[L],S),D!==null&&(e&&D.alternate!==null&&z.delete(D.key===null?L:D.key),y=o(D,y,L),T===null?C=D:T.sibling=D,T=D);return e&&z.forEach(function(H){return t(m,H)}),le&&Wr(m,L),C}function w(m,y,x,S){var C=hi(x);if(typeof C!="function")throw Error(k(150));if(x=C.call(x),x==null)throw Error(k(151));for(var T=C=null,z=y,L=y=0,D=null,$=x.next();z!==null&&!$.done;L++,$=x.next()){z.index>L?(D=z,z=null):D=z.sibling;var H=f(m,z,$.value,S);if(H===null){z===null&&(z=D);break}e&&z&&H.alternate===null&&t(m,z),y=o(H,y,L),T===null?C=H:T.sibling=H,T=H,z=D}if($.done)return r(m,z),le&&Wr(m,L),C;if(z===null){for(;!$.done;L++,$=x.next())$=h(m,$.value,S),$!==null&&(y=o($,y,L),T===null?C=$:T.sibling=$,T=$);return le&&Wr(m,L),C}for(z=n(m,z);!$.done;L++,$=x.next())$=d(z,m,L,$.value,S),$!==null&&(e&&$.alternate!==null&&z.delete($.key===null?L:$.key),y=o($,y,L),T===null?C=$:T.sibling=$,T=$);return e&&z.forEach(function(Y){return t(m,Y)}),le&&Wr(m,L),C}function g(m,y,x,S){if(typeof x=="object"&&x!==null&&x.type===En&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case zo:e:{for(var C=x.key,T=y;T!==null;){if(T.key===C){if(C=x.type,C===En){if(T.tag===7){r(m,T.sibling),y=i(T,x.props.children),y.return=m,m=y;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===vr&&Ph(C)===T.type){r(m,T.sibling),y=i(T,x.props),y.ref=mi(m,T,x),y.return=m,m=y;break e}r(m,T);break}else t(m,T);T=T.sibling}x.type===En?(y=Zr(x.props.children,m.mode,S,x.key),y.return=m,m=y):(S=is(x.type,x.key,x.props,null,m.mode,S),S.ref=mi(m,y,x),S.return=m,m=S)}return s(m);case xn:e:{for(T=x.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(m,y.sibling),y=i(y,x.children||[]),y.return=m,m=y;break e}else{r(m,y);break}else t(m,y);y=y.sibling}y=Ya(x,m.mode,S),y.return=m,m=y}return s(m);case vr:return T=x._init,g(m,y,T(x._payload),S)}if(wi(x))return p(m,y,x,S);if(hi(x))return w(m,y,x,S);Fo(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(m,y.sibling),y=i(y,x),y.return=m,m=y):(r(m,y),y=Ba(x,m.mode,S),y.return=m,m=y),s(m)):r(m,y)}return g}var Bn=Bd(!0),Yd=Bd(!1),xs=Ir(null),Es=null,Ln=null,$u=null;function Iu(){$u=Ln=Es=null}function Au(e){var t=xs.current;ae(xs),e._currentValue=t}function Hl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hn(e,t){Es=e,$u=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if($u!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if(Es===null)throw Error(k(308));Ln=e,Es.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var Gr=null;function Nu(e){Gr===null?Gr=[e]:Gr.push(e)}function bd(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Nu(t)):(r.next=i.next,i.next=r),t.interleaved=r,er(e,n)}function er(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pr=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,er(e,r)}return i=n.interleaved,i===null?(t.next=t,Nu(n)):(t.next=i.next,i.next=t),n.interleaved=t,er(e,r)}function Ko(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xu(e,r)}}function zh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ss(e,t,r,n){var i=e.updateQueue;pr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,d=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,w=a;switch(f=t,d=r,w.tag){case 1:if(p=w.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=de({},h,f);break e;case 2:pr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);tn|=s,e.lanes=s,e.memoizedState=h}}function kh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(k(191,i));i.call(n)}}}var oo={},Dt=Ir(oo),Yi=Ir(oo),bi=Ir(oo);function qr(e){if(e===oo)throw Error(k(174));return e}function Du(e,t){switch(ne(bi,t),ne(Yi,e),ne(Dt,oo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_l(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_l(t,e)}ae(Dt),ne(Dt,t)}function Yn(){ae(Dt),ae(Yi),ae(bi)}function Gd(e){qr(bi.current);var t=qr(Dt.current),r=_l(t,e.type);t!==r&&(ne(Yi,e),ne(Dt,r))}function Hu(e){Yi.current===e&&(ae(Dt),ae(Yi))}var he=Ir(0);function Ms(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ha=[];function Fu(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var Jo=or.ReactCurrentDispatcher,Fa=or.ReactCurrentBatchConfig,en=0,fe=null,xe=null,Te=null,Ts=!1,Li=!1,Xi=0,Iy=0;function Oe(){throw Error(k(321))}function ju(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pt(e[r],t[r]))return!1;return!0}function Vu(e,t,r,n,i,o){if(en=o,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=e===null||e.memoizedState===null?Dy:Hy,e=r(n,i),Li){o=0;do{if(Li=!1,Xi=0,25<=o)throw Error(k(301));o+=1,Te=xe=null,t.updateQueue=null,Jo.current=Fy,e=r(n,i)}while(Li)}if(Jo.current=Cs,t=xe!==null&&xe.next!==null,en=0,Te=xe=fe=null,Ts=!1,t)throw Error(k(300));return e}function Uu(){var e=Xi!==0;return Xi=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?fe.memoizedState=Te=e:Te=Te.next=e,Te}function _t(){if(xe===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Te===null?fe.memoizedState:Te.next;if(t!==null)Te=t,xe=e;else{if(e===null)throw Error(k(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Te===null?fe.memoizedState=Te=e:Te=Te.next=e}return Te}function Gi(e,t){return typeof t=="function"?t(e):t}function ja(e){var t=_t(),r=t.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=e;var n=xe,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((en&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=n):l=l.next=h,fe.lanes|=c,tn|=c}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,Pt(n,t.memoizedState)||(qe=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,fe.lanes|=o,tn|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Va(e){var t=_t(),r=t.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Pt(o,t.memoizedState)||(qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function qd(){}function Qd(e,t){var r=fe,n=_t(),i=t(),o=!Pt(n.memoizedState,i);if(o&&(n.memoizedState=i,qe=!0),n=n.queue,Wu(Jd.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Te!==null&&Te.memoizedState.tag&1){if(r.flags|=2048,qi(9,Kd.bind(null,r,n,i,t),void 0,null),Ce===null)throw Error(k(349));en&30||Zd(r,t,i)}return i}function Zd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Kd(e,t,r,n){t.value=r,t.getSnapshot=n,ev(t)&&tv(e)}function Jd(e,t,r){return r(function(){ev(t)&&tv(e)})}function ev(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pt(e,r)}catch{return!0}}function tv(e){var t=er(e,1);t!==null&&Ct(t,e,1,-1)}function Lh(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=Oy.bind(null,fe,e),[t.memoizedState,e]}function qi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rv(){return _t().memoizedState}function es(e,t,r,n){var i=At();fe.flags|=e,i.memoizedState=qi(1|t,r,void 0,n===void 0?null:n)}function Bs(e,t,r,n){var i=_t();n=n===void 0?null:n;var o=void 0;if(xe!==null){var s=xe.memoizedState;if(o=s.destroy,n!==null&&ju(n,s.deps)){i.memoizedState=qi(t,r,o,n);return}}fe.flags|=e,i.memoizedState=qi(1|t,r,o,n)}function Rh(e,t){return es(8390656,8,e,t)}function Wu(e,t){return Bs(2048,8,e,t)}function nv(e,t){return Bs(4,2,e,t)}function iv(e,t){return Bs(4,4,e,t)}function ov(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sv(e,t,r){return r=r!=null?r.concat([e]):null,Bs(4,4,ov.bind(null,t,e),r)}function Bu(){}function av(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ju(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lv(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ju(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function uv(e,t,r){return en&21?(Pt(r,t)||(r=vd(),fe.lanes|=r,tn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=r)}function Ay(e,t){var r=ee;ee=r!==0&&4>r?r:4,e(!0);var n=Fa.transition;Fa.transition={};try{e(!1),t()}finally{ee=r,Fa.transition=n}}function cv(){return _t().memoizedState}function Ny(e,t,r){var n=Pr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hv(e))fv(t,r);else if(r=bd(e,t,r,n),r!==null){var i=We();Ct(r,e,n,i),dv(r,t,n)}}function Oy(e,t,r){var n=Pr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hv(e))fv(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,Pt(a,s)){var l=t.interleaved;l===null?(i.next=i,Nu(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=bd(e,t,i,n),r!==null&&(i=We(),Ct(r,e,n,i),dv(r,t,n))}}function hv(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function fv(e,t){Li=Ts=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function dv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xu(e,r)}}var Cs={readContext:yt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},Dy={readContext:yt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Rh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,es(4194308,4,ov.bind(null,t,e),r)},useLayoutEffect:function(e,t){return es(4194308,4,e,t)},useInsertionEffect:function(e,t){return es(4,2,e,t)},useMemo:function(e,t){var r=At();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=At();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ny.bind(null,fe,e),[n.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Lh,useDebugValue:Bu,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Lh(!1),t=e[0];return e=Ay.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fe,i=At();if(le){if(r===void 0)throw Error(k(407));r=r()}else{if(r=t(),Ce===null)throw Error(k(349));en&30||Zd(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Rh(Jd.bind(null,n,o,e),[e]),n.flags|=2048,qi(9,Kd.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=At(),t=Ce.identifierPrefix;if(le){var r=Qt,n=qt;r=(n&~(1<<32-Tt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Iy++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hy={readContext:yt,useCallback:av,useContext:yt,useEffect:Wu,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:lv,useReducer:ja,useRef:rv,useState:function(){return ja(Gi)},useDebugValue:Bu,useDeferredValue:function(e){var t=_t();return uv(t,xe.memoizedState,e)},useTransition:function(){var e=ja(Gi)[0],t=_t().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Qd,useId:cv,unstable_isNewReconciler:!1},Fy={readContext:yt,useCallback:av,useContext:yt,useEffect:Wu,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:lv,useReducer:Va,useRef:rv,useState:function(){return Va(Gi)},useDebugValue:Bu,useDeferredValue:function(e){var t=_t();return xe===null?t.memoizedState=e:uv(t,xe.memoizedState,e)},useTransition:function(){var e=Va(Gi)[0],t=_t().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Qd,useId:cv,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:de({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ys={isMounted:function(e){return(e=e._reactInternals)?an(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=We(),i=Pr(e),o=Zt(n,i);o.payload=t,r!=null&&(o.callback=r),t=Tr(e,o,i),t!==null&&(Ct(t,e,i,n),Ko(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=We(),i=Pr(e),o=Zt(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Tr(e,o,i),t!==null&&(Ct(t,e,i,n),Ko(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=We(),n=Pr(e),i=Zt(r,n);i.tag=2,t!=null&&(i.callback=t),t=Tr(e,i,n),t!==null&&(Ct(t,e,n,r),Ko(t,e,n))}};function $h(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Vi(r,n)||!Vi(i,o):!0}function vv(e,t,r){var n=!1,i=Lr,o=t.contextType;return typeof o=="object"&&o!==null?o=yt(o):(i=Ze(t)?Kr:Fe.current,n=t.contextTypes,o=(n=n!=null)?Un(e,i):Lr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ys,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ih(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ys.enqueueReplaceState(t,t.state,null)}function jl(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Ou(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=yt(o):(o=Ze(t)?Kr:Fe.current,i.context=Un(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Fl(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ys.enqueueReplaceState(i,i.state,null),Ss(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function bn(e,t){try{var r="",n=t;do r+=dm(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ua(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Vl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jy=typeof WeakMap=="function"?WeakMap:Map;function pv(e,t,r){r=Zt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zs||(zs=!0,Zl=n),Vl(e,t)},r}function mv(e,t,r){r=Zt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Vl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Vl(e,t),typeof n!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Ah(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new jy;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=e_.bind(null,e,t,r),t.then(e,e))}function Nh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Oh(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Zt(-1,1),t.tag=2,Tr(r,t,1))),r.lanes|=1),e)}var Vy=or.ReactCurrentOwner,qe=!1;function Ue(e,t,r,n){t.child=e===null?Yd(t,null,r,n):Bn(t,e.child,r,n)}function Dh(e,t,r,n,i){r=r.render;var o=t.ref;return Hn(t,i),n=Vu(e,t,r,n,o,i),r=Uu(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tr(e,t,i)):(le&&r&&ku(t),t.flags|=1,Ue(e,t,n,i),t.child)}function Hh(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!Ku(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,yv(e,t,o,n,i)):(e=is(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Vi,r(s,n)&&e.ref===t.ref)return tr(e,t,i)}return t.flags|=1,e=zr(o,n),e.ref=t.ref,e.return=t,t.child=e}function yv(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Vi(o,n)&&e.ref===t.ref)if(qe=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,tr(e,t,i)}return Ul(e,t,r,n,i)}function _v(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne($n,tt),tt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne($n,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ne($n,tt),tt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ne($n,tt),tt|=n;return Ue(e,t,i,r),t.child}function gv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ul(e,t,r,n,i){var o=Ze(r)?Kr:Fe.current;return o=Un(t,o),Hn(t,i),r=Vu(e,t,r,n,o,i),n=Uu(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tr(e,t,i)):(le&&n&&ku(t),t.flags|=1,Ue(e,t,r,i),t.child)}function Fh(e,t,r,n,i){if(Ze(r)){var o=!0;_s(t)}else o=!1;if(Hn(t,i),t.stateNode===null)ts(e,t),vv(t,r,n),jl(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Ze(r)?Kr:Fe.current,u=Un(t,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Ih(t,s,n,u),pr=!1;var f=t.memoizedState;s.state=f,Ss(t,n,s,i),l=t.memoizedState,a!==n||f!==l||Qe.current||pr?(typeof c=="function"&&(Fl(t,r,c,n),l=t.memoizedState),(a=pr||$h(t,r,a,n,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Xd(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:xt(t.type,a),s.props=u,h=t.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=yt(l):(l=Ze(r)?Kr:Fe.current,l=Un(t,l));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ih(t,s,n,l),pr=!1,f=t.memoizedState,s.state=f,Ss(t,n,s,i);var p=t.memoizedState;a!==h||f!==p||Qe.current||pr?(typeof d=="function"&&(Fl(t,r,d,n),p=t.memoizedState),(u=pr||$h(t,r,u,n,f,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Wl(e,t,r,n,o,i)}function Wl(e,t,r,n,i,o){gv(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Mh(t,r,!1),tr(e,t,o);n=t.stateNode,Vy.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Bn(t,e.child,null,o),t.child=Bn(t,null,a,o)):Ue(e,t,a,o),t.memoizedState=n.state,i&&Mh(t,r,!0),t.child}function wv(e){var t=e.stateNode;t.pendingContext?Sh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sh(e,t.context,!1),Du(e,t.containerInfo)}function jh(e,t,r,n,i){return Wn(),Ru(i),t.flags|=256,Ue(e,t,r,n),t.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function Yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function xv(e,t,r){var n=t.pendingProps,i=he.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ne(he,i&1),e===null)return Dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Gs(s,n,0,null),e=Zr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Yl(r),t.memoizedState=Bl,e):Yu(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Uy(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=zr(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=zr(a,o):(o=Zr(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?Yl(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=Bl,n}return o=e.child,e=o.sibling,n=zr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yu(e,t){return t=Gs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jo(e,t,r,n){return n!==null&&Ru(n),Bn(t,e.child,null,r),e=Yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uy(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=Ua(Error(k(422))),jo(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Gs({mode:"visible",children:n.children},i,0,null),o=Zr(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Bn(t,e.child,null,s),t.child.memoizedState=Yl(s),t.memoizedState=Bl,o);if(!(t.mode&1))return jo(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(k(419)),n=Ua(o,n,void 0),jo(e,t,s,n)}if(a=(s&e.childLanes)!==0,qe||a){if(n=Ce,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,er(e,i),Ct(n,e,i,-1))}return Zu(),n=Ua(Error(k(421))),jo(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=t_.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rt=Mr(i.nextSibling),nt=t,le=!0,St=null,e!==null&&(ft[dt++]=qt,ft[dt++]=Qt,ft[dt++]=Jr,qt=e.id,Qt=e.overflow,Jr=t),t=Yu(t,n.children),t.flags|=4096,t)}function Vh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Hl(e.return,t,r)}function Wa(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Ev(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ue(e,t,n.children,r),n=he.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vh(e,r,t);else if(e.tag===19)Vh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ne(he,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ms(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Wa(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ms(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Wa(t,!0,r,null,o);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ts(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),tn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,r=zr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Wy(e,t,r){switch(t.tag){case 3:wv(t),Wn();break;case 5:Gd(t);break;case 1:Ze(t.type)&&_s(t);break;case 4:Du(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ne(xs,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ne(he,he.current&1),t.flags|=128,null):r&t.child.childLanes?xv(e,t,r):(ne(he,he.current&1),e=tr(e,t,r),e!==null?e.sibling:null);ne(he,he.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ev(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(he,he.current),n)break;return null;case 22:case 23:return t.lanes=0,_v(e,t,r)}return tr(e,t,r)}var Sv,bl,Mv,Tv;Sv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bl=function(){};Mv=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,qr(Dt.current);var o=null;switch(r){case"input":i=vl(e,i),n=vl(e,n),o=[];break;case"select":i=de({},i,{value:void 0}),n=de({},n,{value:void 0}),o=[];break;case"textarea":i=yl(e,i),n=yl(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ms)}gl(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ai.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ai.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&se("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Tv=function(e,t,r,n){r!==n&&(t.flags|=4)};function yi(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function By(e,t,r){var n=t.pendingProps;switch(Lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Ze(t.type)&&ys(),De(t),null;case 3:return n=t.stateNode,Yn(),ae(Qe),ae(Fe),Fu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ho(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(eu(St),St=null))),bl(e,t),De(t),null;case 5:Hu(t);var i=qr(bi.current);if(r=t.type,e!==null&&t.stateNode!=null)Mv(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(k(166));return De(t),null}if(e=qr(Dt.current),Ho(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Nt]=t,n[Bi]=o,e=(t.mode&1)!==0,r){case"dialog":se("cancel",n),se("close",n);break;case"iframe":case"object":case"embed":se("load",n);break;case"video":case"audio":for(i=0;i<Ei.length;i++)se(Ei[i],n);break;case"source":se("error",n);break;case"img":case"image":case"link":se("error",n),se("load",n);break;case"details":se("toggle",n);break;case"input":Qc(n,o),se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},se("invalid",n);break;case"textarea":Kc(n,o),se("invalid",n)}gl(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Do(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Do(n.textContent,a,e),i=["children",""+a]):Ai.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&se("scroll",n)}switch(r){case"input":ko(n),Zc(n,o,!0);break;case"textarea":ko(n),Jc(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ms)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Nt]=t,e[Bi]=n,Sv(e,t,!1,!1),t.stateNode=e;e:{switch(s=wl(r,n),r){case"dialog":se("cancel",e),se("close",e),i=n;break;case"iframe":case"object":case"embed":se("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ei.length;i++)se(Ei[i],e);i=n;break;case"source":se("error",e),i=n;break;case"img":case"image":case"link":se("error",e),se("load",e),i=n;break;case"details":se("toggle",e),i=n;break;case"input":Qc(e,n),i=vl(e,n),se("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=de({},n,{value:void 0}),se("invalid",e);break;case"textarea":Kc(e,n),i=yl(e,n),se("invalid",e);break;default:i=n}gl(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?rd(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ed(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ni(e,l):typeof l=="number"&&Ni(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ai.hasOwnProperty(o)?l!=null&&o==="onScroll"&&se("scroll",e):l!=null&&pu(e,o,l,s))}switch(r){case"input":ko(e),Zc(e,n,!1);break;case"textarea":ko(e),Jc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+kr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?An(e,!!n.multiple,o,!1):n.defaultValue!=null&&An(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ms)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)Tv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(k(166));if(r=qr(bi.current),qr(Dt.current),Ho(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nt]=t,(o=n.nodeValue!==r)&&(e=nt,e!==null))switch(e.tag){case 3:Do(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Do(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nt]=t,t.stateNode=n}return De(t),null;case 13:if(ae(he),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&rt!==null&&t.mode&1&&!(t.flags&128))Wd(),Wn(),t.flags|=98560,o=!1;else if(o=Ho(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(k(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(k(317));o[Nt]=t}else Wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),o=!1}else St!==null&&(eu(St),St=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Ee===0&&(Ee=3):Zu())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Yn(),bl(e,t),e===null&&Ui(t.stateNode.containerInfo),De(t),null;case 10:return Au(t.type._context),De(t),null;case 17:return Ze(t.type)&&ys(),De(t),null;case 19:if(ae(he),o=t.memoizedState,o===null)return De(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)yi(o,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ms(e),s!==null){for(t.flags|=128,yi(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ne(he,he.current&1|2),t.child}e=e.sibling}o.tail!==null&&_e()>Xn&&(t.flags|=128,n=!0,yi(o,!1),t.lanes=4194304)}else{if(!n)if(e=Ms(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!le)return De(t),null}else 2*_e()-o.renderingStartTime>Xn&&r!==1073741824&&(t.flags|=128,n=!0,yi(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=_e(),t.sibling=null,r=he.current,ne(he,n?r&1|2:r&1),t):(De(t),null);case 22:case 23:return Qu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tt&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function Yy(e,t){switch(Lu(t),t.tag){case 1:return Ze(t.type)&&ys(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(),ae(Qe),ae(Fe),Fu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hu(t),null;case 13:if(ae(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(he),null;case 4:return Yn(),null;case 10:return Au(t.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var Vo=!1,He=!1,by=typeof WeakSet=="function"?WeakSet:Set,A=null;function Rn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pe(e,t,n)}else r.current=null}function Xl(e,t,r){try{r()}catch(n){pe(e,t,n)}}var Uh=!1;function Xy(e,t){if(Ll=ds,e=Ld(),zu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var d;h!==r||i!==0&&h.nodeType!==3||(a=s+i),h!==o||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break t;if(f===r&&++u===i&&(a=s),f===o&&++c===n&&(l=s),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rl={focusedElem:e,selectionRange:r},ds=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,g=p.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:xt(t.type,w),g);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(S){pe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return p=Uh,Uh=!1,p}function Ri(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Xl(t,r,o)}i=i.next}while(i!==n)}}function bs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Gl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Cv(e){var t=e.alternate;t!==null&&(e.alternate=null,Cv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Bi],delete t[Al],delete t[ky],delete t[Ly])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pv(e){return e.tag===5||e.tag===3||e.tag===4}function Wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ql(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ms));else if(n!==4&&(e=e.child,e!==null))for(ql(e,t,r),e=e.sibling;e!==null;)ql(e,t,r),e=e.sibling}function Ql(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ql(e,t,r),e=e.sibling;e!==null;)Ql(e,t,r),e=e.sibling}var Le=null,Et=!1;function hr(e,t,r){for(r=r.child;r!==null;)zv(e,t,r),r=r.sibling}function zv(e,t,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Hs,r)}catch{}switch(r.tag){case 5:He||Rn(r,t);case 6:var n=Le,i=Et;Le=null,hr(e,t,r),Le=n,Et=i,Le!==null&&(Et?(e=Le,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Le.removeChild(r.stateNode));break;case 18:Le!==null&&(Et?(e=Le,r=r.stateNode,e.nodeType===8?Oa(e.parentNode,r):e.nodeType===1&&Oa(e,r),Fi(e)):Oa(Le,r.stateNode));break;case 4:n=Le,i=Et,Le=r.stateNode.containerInfo,Et=!0,hr(e,t,r),Le=n,Et=i;break;case 0:case 11:case 14:case 15:if(!He&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Xl(r,t,s),i=i.next}while(i!==n)}hr(e,t,r);break;case 1:if(!He&&(Rn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){pe(r,t,a)}hr(e,t,r);break;case 21:hr(e,t,r);break;case 22:r.mode&1?(He=(n=He)||r.memoizedState!==null,hr(e,t,r),He=n):hr(e,t,r);break;default:hr(e,t,r)}}function Bh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new by),t.forEach(function(n){var i=r_.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,Et=!1;break e;case 3:Le=a.stateNode.containerInfo,Et=!0;break e;case 4:Le=a.stateNode.containerInfo,Et=!0;break e}a=a.return}if(Le===null)throw Error(k(160));zv(o,s,i),Le=null,Et=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kv(t,e),t=t.sibling}function kv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),$t(e),n&4){try{Ri(3,e,e.return),bs(3,e)}catch(w){pe(e,e.return,w)}try{Ri(5,e,e.return)}catch(w){pe(e,e.return,w)}}break;case 1:wt(t,e),$t(e),n&512&&r!==null&&Rn(r,r.return);break;case 5:if(wt(t,e),$t(e),n&512&&r!==null&&Rn(r,r.return),e.flags&32){var i=e.stateNode;try{Ni(i,"")}catch(w){pe(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Zf(i,o),wl(a,s);var u=wl(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?rd(i,h):c==="dangerouslySetInnerHTML"?ed(i,h):c==="children"?Ni(i,h):pu(i,c,h,u)}switch(a){case"input":pl(i,o);break;case"textarea":Kf(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?An(i,!!o.multiple,d,!1):f!==!!o.multiple&&(o.defaultValue!=null?An(i,!!o.multiple,o.defaultValue,!0):An(i,!!o.multiple,o.multiple?[]:"",!1))}i[Bi]=o}catch(w){pe(e,e.return,w)}}break;case 6:if(wt(t,e),$t(e),n&4){if(e.stateNode===null)throw Error(k(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){pe(e,e.return,w)}}break;case 3:if(wt(t,e),$t(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fi(t.containerInfo)}catch(w){pe(e,e.return,w)}break;case 4:wt(t,e),$t(e);break;case 13:wt(t,e),$t(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Gu=_e())),n&4&&Bh(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(He=(u=He)||c,wt(t,e),He=u):wt(t,e),$t(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(A=e,c=e.child;c!==null;){for(h=A=c;A!==null;){switch(f=A,d=f.child,f.tag){case 0:case 11:case 14:case 15:Ri(4,f,f.return);break;case 1:Rn(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(w){pe(n,r,w)}}break;case 5:Rn(f,f.return);break;case 22:if(f.memoizedState!==null){bh(h);continue}}d!==null?(d.return=f,A=d):bh(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=td("display",s))}catch(w){pe(e,e.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){pe(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(t,e),$t(e),n&4&&Bh(e);break;case 21:break;default:wt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Pv(r)){var n=r;break e}r=r.return}throw Error(k(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ni(i,""),n.flags&=-33);var o=Wh(e);Ql(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=Wh(e);ql(e,a,s);break;default:throw Error(k(161))}}catch(l){pe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gy(e,t,r){A=e,Lv(e)}function Lv(e,t,r){for(var n=(e.mode&1)!==0;A!==null;){var i=A,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Vo;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||He;a=Vo;var u=He;if(Vo=s,(He=l)&&!u)for(A=i;A!==null;)s=A,l=s.child,s.tag===22&&s.memoizedState!==null?Xh(i):l!==null?(l.return=s,A=l):Xh(i);for(;o!==null;)A=o,Lv(o),o=o.sibling;A=i,Vo=a,He=u}Yh(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,A=o):Yh(e)}}function Yh(e){for(;A!==null;){var t=A;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||bs(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!He)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:xt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&kh(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kh(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Fi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}He||t.flags&512&&Gl(t)}catch(f){pe(t,t.return,f)}}if(t===e){A=null;break}if(r=t.sibling,r!==null){r.return=t.return,A=r;break}A=t.return}}function bh(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var r=t.sibling;if(r!==null){r.return=t.return,A=r;break}A=t.return}}function Xh(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bs(4,t)}catch(l){pe(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){pe(t,i,l)}}var o=t.return;try{Gl(t)}catch(l){pe(t,o,l)}break;case 5:var s=t.return;try{Gl(t)}catch(l){pe(t,s,l)}}}catch(l){pe(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var qy=Math.ceil,Ps=or.ReactCurrentDispatcher,bu=or.ReactCurrentOwner,mt=or.ReactCurrentBatchConfig,q=0,Ce=null,ge=null,$e=0,tt=0,$n=Ir(0),Ee=0,Qi=null,tn=0,Xs=0,Xu=0,$i=null,Xe=null,Gu=0,Xn=1/0,Xt=null,zs=!1,Zl=null,Cr=null,Uo=!1,wr=null,ks=0,Ii=0,Kl=null,rs=-1,ns=0;function We(){return q&6?_e():rs!==-1?rs:rs=_e()}function Pr(e){return e.mode&1?q&2&&$e!==0?$e&-$e:$y.transition!==null?(ns===0&&(ns=vd()),ns):(e=ee,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function Ct(e,t,r,n){if(50<Ii)throw Ii=0,Kl=null,Error(k(185));ro(e,r,n),(!(q&2)||e!==Ce)&&(e===Ce&&(!(q&2)&&(Xs|=r),Ee===4&&_r(e,$e)),Ke(e,n),r===1&&q===0&&!(t.mode&1)&&(Xn=_e()+500,Ws&&Ar()))}function Ke(e,t){var r=e.callbackNode;$m(e,t);var n=fs(e,e===Ce?$e:0);if(n===0)r!==null&&rh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rh(r),t===1)e.tag===0?Ry(Gh.bind(null,e)):jd(Gh.bind(null,e)),Py(function(){!(q&6)&&Ar()}),r=null;else{switch(pd(n)){case 1:r=wu;break;case 4:r=fd;break;case 16:r=hs;break;case 536870912:r=dd;break;default:r=hs}r=Hv(r,Rv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rv(e,t){if(rs=-1,ns=0,q&6)throw Error(k(327));var r=e.callbackNode;if(Fn()&&e.callbackNode!==r)return null;var n=fs(e,e===Ce?$e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ls(e,n);else{t=n;var i=q;q|=2;var o=Iv();(Ce!==e||$e!==t)&&(Xt=null,Xn=_e()+500,Qr(e,t));do try{Ky();break}catch(a){$v(e,a)}while(!0);Iu(),Ps.current=o,q=i,ge!==null?t=0:(Ce=null,$e=0,t=Ee)}if(t!==0){if(t===2&&(i=Tl(e),i!==0&&(n=i,t=Jl(e,i))),t===1)throw r=Qi,Qr(e,0),_r(e,n),Ke(e,_e()),r;if(t===6)_r(e,n);else{if(i=e.current.alternate,!(n&30)&&!Qy(i)&&(t=Ls(e,n),t===2&&(o=Tl(e),o!==0&&(n=o,t=Jl(e,o))),t===1))throw r=Qi,Qr(e,0),_r(e,n),Ke(e,_e()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(k(345));case 2:Br(e,Xe,Xt);break;case 3:if(_r(e,n),(n&130023424)===n&&(t=Gu+500-_e(),10<t)){if(fs(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){We(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Il(Br.bind(null,e,Xe,Xt),t);break}Br(e,Xe,Xt);break;case 4:if(_r(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Tt(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=_e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qy(n/1960))-n,10<n){e.timeoutHandle=Il(Br.bind(null,e,Xe,Xt),n);break}Br(e,Xe,Xt);break;case 5:Br(e,Xe,Xt);break;default:throw Error(k(329))}}}return Ke(e,_e()),e.callbackNode===r?Rv.bind(null,e):null}function Jl(e,t){var r=$i;return e.current.memoizedState.isDehydrated&&(Qr(e,t).flags|=256),e=Ls(e,t),e!==2&&(t=Xe,Xe=r,t!==null&&eu(t)),e}function eu(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function Qy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Pt(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~Xu,t&=~Xs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Tt(t),n=1<<r;e[r]=-1,t&=~n}}function Gh(e){if(q&6)throw Error(k(327));Fn();var t=fs(e,0);if(!(t&1))return Ke(e,_e()),null;var r=Ls(e,t);if(e.tag!==0&&r===2){var n=Tl(e);n!==0&&(t=n,r=Jl(e,n))}if(r===1)throw r=Qi,Qr(e,0),_r(e,t),Ke(e,_e()),r;if(r===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Br(e,Xe,Xt),Ke(e,_e()),null}function qu(e,t){var r=q;q|=1;try{return e(t)}finally{q=r,q===0&&(Xn=_e()+500,Ws&&Ar())}}function rn(e){wr!==null&&wr.tag===0&&!(q&6)&&Fn();var t=q;q|=1;var r=mt.transition,n=ee;try{if(mt.transition=null,ee=1,e)return e()}finally{ee=n,mt.transition=r,q=t,!(q&6)&&Ar()}}function Qu(){tt=$n.current,ae($n)}function Qr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Cy(r)),ge!==null)for(r=ge.return;r!==null;){var n=r;switch(Lu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ys();break;case 3:Yn(),ae(Qe),ae(Fe),Fu();break;case 5:Hu(n);break;case 4:Yn();break;case 13:ae(he);break;case 19:ae(he);break;case 10:Au(n.type._context);break;case 22:case 23:Qu()}r=r.return}if(Ce=e,ge=e=zr(e.current,null),$e=tt=t,Ee=0,Qi=null,Xu=Xs=tn=0,Xe=$i=null,Gr!==null){for(t=0;t<Gr.length;t++)if(r=Gr[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}Gr=null}return e}function $v(e,t){do{var r=ge;try{if(Iu(),Jo.current=Cs,Ts){for(var n=fe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ts=!1}if(en=0,Te=xe=fe=null,Li=!1,Xi=0,bu.current=null,r===null||r.return===null){Ee=1,Qi=t,ge=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=$e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Nh(s);if(d!==null){d.flags&=-257,Oh(d,s,a,o,t),d.mode&1&&Ah(o,u,t),t=d,l=u;var p=t.updateQueue;if(p===null){var w=new Set;w.add(l),t.updateQueue=w}else p.add(l);break e}else{if(!(t&1)){Ah(o,u,t),Zu();break e}l=Error(k(426))}}else if(le&&a.mode&1){var g=Nh(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Oh(g,s,a,o,t),Ru(bn(l,a));break e}}o=l=bn(l,a),Ee!==4&&(Ee=2),$i===null?$i=[o]:$i.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=pv(o,l,t);zh(o,m);break e;case 1:a=l;var y=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Cr===null||!Cr.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=mv(o,a,t);zh(o,S);break e}}o=o.return}while(o!==null)}Nv(r)}catch(C){t=C,ge===r&&r!==null&&(ge=r=r.return);continue}break}while(!0)}function Iv(){var e=Ps.current;return Ps.current=Cs,e===null?Cs:e}function Zu(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Ce===null||!(tn&268435455)&&!(Xs&268435455)||_r(Ce,$e)}function Ls(e,t){var r=q;q|=2;var n=Iv();(Ce!==e||$e!==t)&&(Xt=null,Qr(e,t));do try{Zy();break}catch(i){$v(e,i)}while(!0);if(Iu(),q=r,Ps.current=n,ge!==null)throw Error(k(261));return Ce=null,$e=0,Ee}function Zy(){for(;ge!==null;)Av(ge)}function Ky(){for(;ge!==null&&!Sm();)Av(ge)}function Av(e){var t=Dv(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Nv(e):ge=t,bu.current=null}function Nv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Yy(r,t),r!==null){r.flags&=32767,ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,ge=null;return}}else if(r=By(r,t,tt),r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Ee===0&&(Ee=5)}function Br(e,t,r){var n=ee,i=mt.transition;try{mt.transition=null,ee=1,Jy(e,t,r,n)}finally{mt.transition=i,ee=n}return null}function Jy(e,t,r,n){do Fn();while(wr!==null);if(q&6)throw Error(k(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Im(e,o),e===Ce&&(ge=Ce=null,$e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uo||(Uo=!0,Hv(hs,function(){return Fn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=mt.transition,mt.transition=null;var s=ee;ee=1;var a=q;q|=4,bu.current=null,Xy(e,r),kv(r,e),gy(Rl),ds=!!Ll,Rl=Ll=null,e.current=r,Gy(r),Mm(),q=a,ee=s,mt.transition=o}else e.current=r;if(Uo&&(Uo=!1,wr=e,ks=i),o=e.pendingLanes,o===0&&(Cr=null),Pm(r.stateNode),Ke(e,_e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(zs)throw zs=!1,e=Zl,Zl=null,e;return ks&1&&e.tag!==0&&Fn(),o=e.pendingLanes,o&1?e===Kl?Ii++:(Ii=0,Kl=e):Ii=0,Ar(),null}function Fn(){if(wr!==null){var e=pd(ks),t=mt.transition,r=ee;try{if(mt.transition=null,ee=16>e?16:e,wr===null)var n=!1;else{if(e=wr,wr=null,ks=0,q&6)throw Error(k(331));var i=q;for(q|=4,A=e.current;A!==null;){var o=A,s=o.child;if(A.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:Ri(8,c,o)}var h=c.child;if(h!==null)h.return=c,A=h;else for(;A!==null;){c=A;var f=c.sibling,d=c.return;if(Cv(c),c===u){A=null;break}if(f!==null){f.return=d,A=f;break}A=d}}}var p=o.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var g=w.sibling;w.sibling=null,w=g}while(w!==null)}}A=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,A=s;else e:for(;A!==null;){if(o=A,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ri(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,A=m;break e}A=o.return}}var y=e.current;for(A=y;A!==null;){s=A;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,A=x;else e:for(s=y;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bs(9,a)}}catch(C){pe(a,a.return,C)}if(a===s){A=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,A=S;break e}A=a.return}}if(q=i,Ar(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Hs,e)}catch{}n=!0}return n}finally{ee=r,mt.transition=t}}return!1}function qh(e,t,r){t=bn(r,t),t=pv(e,t,1),e=Tr(e,t,1),t=We(),e!==null&&(ro(e,1,t),Ke(e,t))}function pe(e,t,r){if(e.tag===3)qh(e,e,r);else for(;t!==null;){if(t.tag===3){qh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cr===null||!Cr.has(n))){e=bn(r,e),e=mv(t,e,1),t=Tr(t,e,1),e=We(),t!==null&&(ro(t,1,e),Ke(t,e));break}}t=t.return}}function e_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&r,Ce===e&&($e&r)===r&&(Ee===4||Ee===3&&($e&130023424)===$e&&500>_e()-Gu?Qr(e,0):Xu|=r),Ke(e,t)}function Ov(e,t){t===0&&(e.mode&1?(t=$o,$o<<=1,!($o&130023424)&&($o=4194304)):t=1);var r=We();e=er(e,t),e!==null&&(ro(e,t,r),Ke(e,r))}function t_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ov(e,r)}function r_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(k(314))}n!==null&&n.delete(t),Ov(e,r)}var Dv;Dv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)qe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qe=!1,Wy(e,t,r);qe=!!(e.flags&131072)}else qe=!1,le&&t.flags&1048576&&Vd(t,ws,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ts(e,t),e=t.pendingProps;var i=Un(t,Fe.current);Hn(t,r),i=Vu(null,t,n,e,i,r);var o=Uu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(n)?(o=!0,_s(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ou(t),i.updater=Ys,t.stateNode=i,i._reactInternals=t,jl(t,n,e,r),t=Wl(null,t,n,!0,o,r)):(t.tag=0,le&&o&&ku(t),Ue(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ts(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=i_(n),e=xt(n,e),i){case 0:t=Ul(null,t,n,e,r);break e;case 1:t=Fh(null,t,n,e,r);break e;case 11:t=Dh(null,t,n,e,r);break e;case 14:t=Hh(null,t,n,xt(n.type,e),r);break e}throw Error(k(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xt(n,i),Ul(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xt(n,i),Fh(e,t,n,i,r);case 3:e:{if(wv(t),e===null)throw Error(k(387));n=t.pendingProps,o=t.memoizedState,i=o.element,Xd(e,t),Ss(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=bn(Error(k(423)),t),t=jh(e,t,n,r,i);break e}else if(n!==i){i=bn(Error(k(424)),t),t=jh(e,t,n,r,i);break e}else for(rt=Mr(t.stateNode.containerInfo.firstChild),nt=t,le=!0,St=null,r=Yd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wn(),n===i){t=tr(e,t,r);break e}Ue(e,t,n,r)}t=t.child}return t;case 5:return Gd(t),e===null&&Dl(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,$l(n,i)?s=null:o!==null&&$l(n,o)&&(t.flags|=32),gv(e,t),Ue(e,t,s,r),t.child;case 6:return e===null&&Dl(t),null;case 13:return xv(e,t,r);case 4:return Du(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bn(t,null,n,r):Ue(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xt(n,i),Dh(e,t,n,i,r);case 7:return Ue(e,t,t.pendingProps,r),t.child;case 8:return Ue(e,t,t.pendingProps.children,r),t.child;case 12:return Ue(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ne(xs,n._currentValue),n._currentValue=s,o!==null)if(Pt(o.value,s)){if(o.children===i.children&&!Qe.current){t=tr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Zt(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Hl(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(k(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),Hl(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ue(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Hn(t,r),i=yt(i),n=n(i),t.flags|=1,Ue(e,t,n,r),t.child;case 14:return n=t.type,i=xt(n,t.pendingProps),i=xt(n.type,i),Hh(e,t,n,i,r);case 15:return yv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xt(n,i),ts(e,t),t.tag=1,Ze(n)?(e=!0,_s(t)):e=!1,Hn(t,r),vv(t,n,i),jl(t,n,i,r),Wl(null,t,n,!0,e,r);case 19:return Ev(e,t,r);case 22:return _v(e,t,r)}throw Error(k(156,t.tag))};function Hv(e,t){return hd(e,t)}function n_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,r,n){return new n_(e,t,r,n)}function Ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function i_(e){if(typeof e=="function")return Ku(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yu)return 11;if(e===_u)return 14}return 2}function zr(e,t){var r=e.alternate;return r===null?(r=pt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function is(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")Ku(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case En:return Zr(r.children,i,o,t);case mu:s=8,i|=8;break;case cl:return e=pt(12,r,t,i|2),e.elementType=cl,e.lanes=o,e;case hl:return e=pt(13,r,t,i),e.elementType=hl,e.lanes=o,e;case fl:return e=pt(19,r,t,i),e.elementType=fl,e.lanes=o,e;case Gf:return Gs(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bf:s=10;break e;case Xf:s=9;break e;case yu:s=11;break e;case _u:s=14;break e;case vr:s=16,n=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=pt(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Zr(e,t,r,n){return e=pt(7,e,n,t),e.lanes=r,e}function Gs(e,t,r,n){return e=pt(22,e,n,t),e.elementType=Gf,e.lanes=r,e.stateNode={isHidden:!1},e}function Ba(e,t,r){return e=pt(6,e,null,t),e.lanes=r,e}function Ya(e,t,r){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function o_(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ta(0),this.expirationTimes=Ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ju(e,t,r,n,i,o,s,a,l){return e=new o_(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=pt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(o),e}function s_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fv(e){if(!e)return Lr;e=e._reactInternals;e:{if(an(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var r=e.type;if(Ze(r))return Fd(e,r,t)}return t}function jv(e,t,r,n,i,o,s,a,l){return e=Ju(r,n,!0,e,i,o,s,a,l),e.context=Fv(null),r=e.current,n=We(),i=Pr(r),o=Zt(n,i),o.callback=t??null,Tr(r,o,i),e.current.lanes=i,ro(e,i,n),Ke(e,n),e}function qs(e,t,r,n){var i=t.current,o=We(),s=Pr(i);return r=Fv(r),t.context===null?t.context=r:t.pendingContext=r,t=Zt(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Tr(i,t,s),e!==null&&(Ct(e,i,s,o),Ko(e,i,s)),s}function Rs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ec(e,t){Qh(e,t),(e=e.alternate)&&Qh(e,t)}function a_(){return null}var Vv=typeof reportError=="function"?reportError:function(e){console.error(e)};function tc(e){this._internalRoot=e}Qs.prototype.render=tc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));qs(e,t,null,null)};Qs.prototype.unmount=tc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rn(function(){qs(null,e,null,null)}),t[Jt]=null}};function Qs(e){this._internalRoot=e}Qs.prototype.unstable_scheduleHydration=function(e){if(e){var t=_d();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yr.length&&t!==0&&t<yr[r].priority;r++);yr.splice(r,0,e),r===0&&wd(e)}};function rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zh(){}function l_(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=Rs(s);o.call(u)}}var s=jv(t,n,e,0,null,!1,!1,"",Zh);return e._reactRootContainer=s,e[Jt]=s.current,Ui(e.nodeType===8?e.parentNode:e),rn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Rs(l);a.call(u)}}var l=Ju(e,0,!1,null,null,!1,!1,"",Zh);return e._reactRootContainer=l,e[Jt]=l.current,Ui(e.nodeType===8?e.parentNode:e),rn(function(){qs(t,l,r,n)}),l}function Ks(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Rs(s);a.call(l)}}qs(t,s,e,i)}else s=l_(r,t,e,i,n);return Rs(s)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xi(t.pendingLanes);r!==0&&(xu(t,r|1),Ke(t,_e()),!(q&6)&&(Xn=_e()+500,Ar()))}break;case 13:rn(function(){var n=er(e,1);if(n!==null){var i=We();Ct(n,e,1,i)}}),ec(e,1)}};Eu=function(e){if(e.tag===13){var t=er(e,134217728);if(t!==null){var r=We();Ct(t,e,134217728,r)}ec(e,134217728)}};yd=function(e){if(e.tag===13){var t=Pr(e),r=er(e,t);if(r!==null){var n=We();Ct(r,e,t,n)}ec(e,t)}};_d=function(){return ee};gd=function(e,t){var r=ee;try{return ee=e,t()}finally{ee=r}};El=function(e,t,r){switch(t){case"input":if(pl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Us(n);if(!i)throw Error(k(90));Qf(n),pl(n,i)}}}break;case"textarea":Kf(e,r);break;case"select":t=r.value,t!=null&&An(e,!!r.multiple,t,!1)}};od=qu;sd=rn;var u_={usingClientEntryPoint:!1,Events:[io,Cn,Us,nd,id,qu]},_i={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c_={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ud(e),e===null?null:e.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||a_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{Hs=Wo.inject(c_),Ot=Wo}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u_;ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(t))throw Error(k(200));return s_(e,t,null,r)};ot.createRoot=function(e,t){if(!rc(e))throw Error(k(299));var r=!1,n="",i=Vv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ju(e,1,!1,null,null,r,!1,n,i),e[Jt]=t.current,Ui(e.nodeType===8?e.parentNode:e),new tc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=ud(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return rn(e)};ot.hydrate=function(e,t,r){if(!Zs(t))throw Error(k(200));return Ks(null,e,t,!0,r)};ot.hydrateRoot=function(e,t,r){if(!rc(e))throw Error(k(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=Vv;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=jv(t,null,e,1,r??null,i,!1,o,s),e[Jt]=t.current,Ui(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Qs(t)};ot.render=function(e,t,r){if(!Zs(t))throw Error(k(200));return Ks(null,e,t,!1,r)};ot.unmountComponentAtNode=function(e){if(!Zs(e))throw Error(k(40));return e._reactRootContainer?(rn(function(){Ks(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};ot.unstable_batchedUpdates=qu;ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zs(r))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return Ks(e,t,r,!1,n)};ot.version="18.3.1-next-f1338f8080-20240426";function Uv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uv)}catch(e){console.error(e)}}Uv(),Uf.exports=ot;var h_=Uf.exports,tu,Kh=h_;tu=ll.createRoot=Kh.createRoot,ll.hydrateRoot=Kh.hydrateRoot;function jn(){}jn.prototype.addEventListener=function(e,t){var r=this.__events=this.__events||{},n=r[e]=r[e]||[];n.indexOf(t)<0&&n.push(t)};jn.prototype.removeEventListener=function(e,t){var r=this.__events=this.__events||{},n=r[e];if(n){var i=n.indexOf(t);i>=0&&n.splice(i,1)}};jn.prototype.emit=function(e,t){var r=this.__events=this.__events||{},n=r[e],i=Array.prototype.slice.call(arguments,1);if(n)for(var o=0;o<n.length;o++){var s=n[o];s.apply(this,i)}};function f_(e){for(var t in jn.prototype)jn.prototype.hasOwnProperty(t)&&(e.prototype[t]=jn.prototype[t])}var ue=f_;function d_(){return typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return Date.now()}}var ln=d_(),Wv=ln;function v_(e,t){this.fn=e,this.cb=t,this.cfn=null}function sr(e){this._queue=[],this._delay=e&&e.delay||0,this._paused=e&&!!e.paused||!1,this._currentTask=null,this._lastFinished=null}sr.prototype.length=function(){return this._queue.length};sr.prototype.push=function(e,t){var r=new v_(e,t),n=this._cancel.bind(this,r);return this._queue.push(r),this._next(),n};sr.prototype.pause=function(){this._paused||(this._paused=!0)};sr.prototype.resume=function(){this._paused&&(this._paused=!1,this._next())};sr.prototype._start=function(e){if(this._currentTask)throw new Error("WorkQueue: called start while running task");this._currentTask=e;var t=this._finish.bind(this,e);if(e.cfn=e.fn(t),typeof e.cfn!="function")throw new Error("WorkQueue: function is not cancellable")};sr.prototype._finish=function(e){var t=Array.prototype.slice.call(arguments,1);if(this._currentTask!==e)throw new Error("WorkQueue: called finish on wrong task");e.cb.apply(null,t),this._currentTask=null,this._lastFinished=Wv(),this._next()};sr.prototype._cancel=function(e){var t=Array.prototype.slice.call(arguments,1);if(this._currentTask===e)e.cfn.apply(null,t);else{var r=this._queue.indexOf(e);r>=0&&(this._queue.splice(r,1),e.cb.apply(null,t))}};sr.prototype._next=function(){if(!this._paused&&this._queue.length&&!this._currentTask){if(this._lastFinished!=null){var e=Wv()-this._lastFinished,t=this._delay-e;if(t>0){setTimeout(this._next.bind(this),t);return}}var r=this._queue.shift();this._start(r)}};var Bv=sr;function p_(e,t,r,n){n=n||{};var i;r!=null&&r.absoluteWidth!=null?i=r.absoluteWidth/e:r!=null&&r.relativeWidth!=null?i=r.relativeWidth:i=1;var o;r&&r.absoluteHeight!=null?o=r.absoluteHeight/t:r!=null&&r.relativeHeight!=null?o=r.relativeHeight:o=1;var s;r!=null&&r.absoluteX!=null?s=r.absoluteX/e:r!=null&&r.relativeX!=null?s=r.relativeX:s=0;var a;return r!=null&&r.absoluteY!=null?a=r.absoluteY/t:r!=null&&r.relativeY!=null?a=r.relativeY:a=0,n.x=s,n.y=a,n.width=i,n.height=o,n}var Yv=p_;function m_(e){return function(r){var n,i;try{i=e()}catch(o){n=o}finally{n?r(n):r(null,i)}}}var bv=m_;function y_(e){var t=!1,r;return function(){return t||(t=!0,r=e.apply(null,arguments)),r}}var nc=y_,__=nc;function g_(e){return function(){if(!arguments.length)throw new Error("cancelized: expected at least one argument");var r=Array.prototype.slice.call(arguments,0),n=r[r.length-1]=__(r[r.length-1]);function i(){n.apply(null,arguments)}return e.apply(null,r),i}}var Xv=g_;function w_(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=void 0)}var ie=w_;function ic(){this._renderers={}}ic.prototype.set=function(e,t,r){this._renderers[e]||(this._renderers[e]={}),this._renderers[e][t]=r};ic.prototype.get=function(e,t){var r=this._renderers[e]&&this._renderers[e][t];return r||null};var x_=ic,E_=ue,S_=Bv,M_=Yv,T_=bv,C_=Xv,P_=ie,z_=x_;function k_(e,t){return e.cmp(t)}function L_(e,t){return-e.cmp(t)}function te(e){this._progressive=!!(e&&e.progressive),this._layers=[],this._renderers=[],this._tilesToLoad=[],this._tilesToRender=[],this._tmpVisible=[],this._tmpChildren=[],this._width=0,this._height=0,this._tmpRect={},this._tmpSize={},this._createTextureWorkQueue=new S_,this._emitRenderInvalid=this._emitRenderInvalid.bind(this),this._rendererRegistry=new z_}E_(te);te.prototype.destroy=function(){this.removeAllLayers(),P_(this)};te.prototype.registerRenderer=function(e,t,r){return this._rendererRegistry.set(e,t,r)};te.prototype.domElement=function(){throw new Error("Stage implementation must override domElement")};te.prototype.width=function(){return this._width};te.prototype.height=function(){return this._height};te.prototype.size=function(e){return e=e||{},e.width=this._width,e.height=this._height,e};te.prototype.setSize=function(e){this._width=e.width,this._height=e.height,this.setSizeForType(),this.emit("resize"),this._emitRenderInvalid()};te.prototype.setSizeForType=function(e){throw new Error("Stage implementation must override setSizeForType")};te.prototype.loadImage=function(){throw new Error("Stage implementation must override loadImage")};te.prototype._emitRenderInvalid=function(){this.emit("renderInvalid")};te.prototype.validateLayer=function(e){throw new Error("Stage implementation must override validateLayer")};te.prototype.listLayers=function(){return[].concat(this._layers)};te.prototype.hasLayer=function(e){return this._layers.indexOf(e)>=0};te.prototype.addLayer=function(e,t){if(this._layers.indexOf(e)>=0)throw new Error("Layer already in stage");if(t==null&&(t=this._layers.length),t<0||t>this._layers.length)throw new Error("Invalid layer position");this.validateLayer(e);var r=e.geometry().type,n=e.view().type,i=this._rendererRegistry.get(r,n);if(!i)throw new Error("No "+this.type+" renderer avaiable for "+r+" geometry and "+n+" view");var o=this.createRenderer(i);this._layers.splice(t,0,e),this._renderers.splice(t,0,o),e.addEventListener("viewChange",this._emitRenderInvalid),e.addEventListener("effectsChange",this._emitRenderInvalid),e.addEventListener("fixedLevelChange",this._emitRenderInvalid),e.addEventListener("textureStoreChange",this._emitRenderInvalid),this._emitRenderInvalid()};te.prototype.moveLayer=function(e,t){var r=this._layers.indexOf(e);if(r<0)throw new Error("No such layer in stage");if(t<0||t>=this._layers.length)throw new Error("Invalid layer position");e=this._layers.splice(r,1)[0];var n=this._renderers.splice(r,1)[0];this._layers.splice(t,0,e),this._renderers.splice(t,0,n),this._emitRenderInvalid()};te.prototype.removeLayer=function(e){var t=this._layers.indexOf(e);if(t<0)throw new Error("No such layer in stage");var r=this._layers.splice(t,1)[0],n=this._renderers.splice(t,1)[0];this.destroyRenderer(n),r.removeEventListener("viewChange",this._emitRenderInvalid),r.removeEventListener("effectsChange",this._emitRenderInvalid),r.removeEventListener("fixedLevelChange",this._emitRenderInvalid),r.removeEventListener("textureStoreChange",this._emitRenderInvalid),this._emitRenderInvalid()};te.prototype.removeAllLayers=function(){for(;this._layers.length>0;)this.removeLayer(this._layers[0])};te.prototype.startFrame=function(){throw new Error("Stage implementation must override startFrame")};te.prototype.endFrame=function(){throw new Error("Stage implementation must override endFrame")};te.prototype.render=function(){var e,t,r=this._tilesToLoad,n=this._tilesToRender,i=!0,o,s=this._width,a=this._height,l=this._tmpRect,u=this._tmpSize;if(!(s<=0||a<=0)){for(this.startFrame(),e=0;e<this._layers.length;e++)this._layers[e].textureStore().startFrame();for(e=0;e<this._layers.length;e++){var c=this._layers[e],h=c.effects(),f=c.view(),d=c.textureStore(),p=this._renderers[e],w=this._layers.length-e,g,m;if(M_(s,a,h&&h.rect,l),!(l.width<=0||l.height<=0)){for(u.width=l.width*this._width,u.height=l.height*this._height,f.setSize(u),p.startLayer(c,l),o=this._collectTiles(c,d),t=0;t<r.length;t++)g=r[t],d.markTile(g);for(t=0;t<n.length;t++)g=n[t],m=d.texture(g),p.renderTile(g,m,c,w);c.emit("renderComplete",o),o||(i=!1),p.endLayer(c,l)}}for(e=0;e<this._layers.length;e++)this._layers[e].textureStore().endFrame();this.endFrame(),this.emit("renderComplete",i)}};te.prototype._collectTiles=function(e,t){var r=this._tilesToLoad,n=this._tilesToRender,i=this._tmpVisible;r.length=0,n.length=0,i.length=0,e.visibleTiles(i);for(var o=!0,s=0;s<i.length;s++){var a=i[s],l;this._collectTileToLoad(a),t.texture(a)?(l=!1,this._collectTileToRender(a)):(l=this._collectChildren(a,t),o=!1),this._collectParents(a,t,l)}return r.sort(k_),n.sort(L_),o};te.prototype._collectChildren=function(e,t){var r=this._tmpChildren,n=!0;do{if(r.length=0,!e.children(r))break;n=!1;for(var i=0;i<r.length;i++)e=r[i],t.texture(e)?(this._collectTileToLoad(e),this._collectTileToRender(e)):n=!0}while(n&&r.length===1);return n};te.prototype._collectParents=function(e,t,r){for(var n=this._progressive;(n||r)&&(e=e.parent())!=null;){if(r){if(t.texture(e))this._collectTileToRender(e),r=!1;else if(!this._progressive)continue}this._collectTileToLoad(e)||(n=!1)}return r};te.prototype._collectTileToLoad=function(e){return this._collectTileIntoList(e,this._tilesToLoad)};te.prototype._collectTileToRender=function(e){return this._collectTileIntoList(e,this._tilesToRender)};te.prototype._collectTileIntoList=function(e,t){for(var r=!1,n=0;n<t.length;n++)if(e.equals(t[n])){r=!0;break}return r||t.push(e),!r};te.prototype.createTexture=function(e,t,r){var n=this;function i(){return new n.TextureClass(n,e,t)}var o=C_(T_(i));return this._createTextureWorkQueue.push(o,function(s,a){r(s,e,t,a)})};var R_=te,$_=function(){return typeof window<"u"?window:typeof self<"u"?self:typeof al<"u"?al:null}(),Gv=$_,Jh=Gv,I_=ue,A_=ie,ba={HTMLImageElement:["naturalWidth","naturalHeight"],HTMLCanvasElement:["width","height"],ImageBitmap:["width","height"]};function Nr(e){var t=!1;for(var r in ba)if(Jh[r]&&e instanceof Jh[r]){t=!0,this._widthProp=ba[r][0],this._heightProp=ba[r][1];break}if(!t)throw new Error("Unsupported pixel source");this._element=e}I_(Nr);Nr.prototype.destroy=function(){A_(this)};Nr.prototype.element=function(){return this._element};Nr.prototype.width=function(){return this._element[this._widthProp]};Nr.prototype.height=function(){return this._element[this._heightProp]};Nr.prototype.timestamp=function(){return 0};Nr.prototype.isDynamic=function(){return!1};var oc=Nr;function N_(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}var Ht=N_,O_=Ht;function qv(e){this.constructor.super_.apply(this,arguments),this.message=e}O_(qv,Error);var Qv=qv,Zv={exports:{}};/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */(function(e){(function(t,r,n){e.exports?e.exports=n():t[r]=n()})(al,"bowser",function(){var t=!0;function r(u){function c(F){var j=u.match(F);return j&&j.length>1&&j[1]||""}function h(F){var j=u.match(F);return j&&j.length>1&&j[2]||""}var f=c(/(ipod|iphone|ipad)/i).toLowerCase(),d=/like android/i.test(u),p=!d&&/android/i.test(u),w=/nexus\s*[0-6]\s*/i.test(u),g=!w&&/nexus\s*[0-9]+/i.test(u),m=/CrOS/.test(u),y=/silk/i.test(u),x=/sailfish/i.test(u),S=/tizen/i.test(u),C=/(web|hpw)(o|0)s/i.test(u),T=/windows phone/i.test(u),z=!T&&/windows/i.test(u),L=!f&&!y&&/macintosh/i.test(u),D=!p&&!x&&!S&&!C&&/linux/i.test(u),$=h(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),H=c(/version\/(\d+(\.\d+)?)/i),Y=/tablet/i.test(u)&&!/tablet pc/i.test(u),G=!Y&&/[^-]mobi/i.test(u),V=/xbox/i.test(u),M;/opera/i.test(u)?M={name:"Opera",opera:t,version:H||c(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(u)?M={name:"Opera",opera:t,version:c(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||H}:/SamsungBrowser/i.test(u)?M={name:"Samsung Internet for Android",samsungBrowser:t,version:H||c(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(u)?M={name:"NAVER Whale browser",whale:t,version:c(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(u)?M={name:"MZ Browser",mzbrowser:t,version:c(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(u)?M={name:"Opera Coast",coast:t,version:H||c(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(u)?M={name:"Focus",focus:t,version:c(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(u)?M={name:"Yandex Browser",yandexbrowser:t,version:H||c(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(u)?M={name:"UC Browser",ucbrowser:t,version:c(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(u)?M={name:"Maxthon",maxthon:t,version:c(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(u)?M={name:"Epiphany",epiphany:t,version:c(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(u)?M={name:"Puffin",puffin:t,version:c(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(u)?M={name:"Sleipnir",sleipnir:t,version:c(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(u)?M={name:"K-Meleon",kMeleon:t,version:c(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:T?(M={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},$?(M.msedge=t,M.version=$):(M.msie=t,M.version=c(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(u)?M={name:"Internet Explorer",msie:t,version:c(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:m?M={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(u)?M={name:"Microsoft Edge",msedge:t,version:$}:/vivaldi/i.test(u)?M={name:"Vivaldi",vivaldi:t,version:c(/vivaldi\/(\d+(\.\d+)?)/i)||H}:x?M={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:c(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(u)?M={name:"SeaMonkey",seamonkey:t,version:c(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(u)?(M={name:"Firefox",firefox:t,version:c(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(u)&&(M.firefoxos=t,M.osname="Firefox OS")):y?M={name:"Amazon Silk",silk:t,version:c(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(u)?M={name:"PhantomJS",phantom:t,version:c(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(u)?M={name:"SlimerJS",slimer:t,version:c(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(u)||/rim\stablet/i.test(u)?M={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:H||c(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:C?(M={name:"WebOS",osname:"WebOS",webos:t,version:H||c(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(u)&&(M.touchpad=t)):/bada/i.test(u)?M={name:"Bada",osname:"Bada",bada:t,version:c(/dolfin\/(\d+(\.\d+)?)/i)}:S?M={name:"Tizen",osname:"Tizen",tizen:t,version:c(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||H}:/qupzilla/i.test(u)?M={name:"QupZilla",qupzilla:t,version:c(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||H}:/chromium/i.test(u)?M={name:"Chromium",chromium:t,version:c(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||H}:/chrome|crios|crmo/i.test(u)?M={name:"Chrome",chrome:t,version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:p?M={name:"Android",version:H}:/safari|applewebkit/i.test(u)?(M={name:"Safari",safari:t},H&&(M.version=H)):f?(M={name:f=="iphone"?"iPhone":f=="ipad"?"iPad":"iPod"},H&&(M.version=H)):/googlebot/i.test(u)?M={name:"Googlebot",googlebot:t,version:c(/googlebot\/(\d+(\.\d+))/i)||H}:M={name:c(/^(.*)\/(.*) /),version:h(/^(.*)\/(.*) /)},!M.msedge&&/(apple)?webkit/i.test(u)?(/(apple)?webkit\/537\.36/i.test(u)?(M.name=M.name||"Blink",M.blink=t):(M.name=M.name||"Webkit",M.webkit=t),!M.version&&H&&(M.version=H)):!M.opera&&/gecko\//i.test(u)&&(M.name=M.name||"Gecko",M.gecko=t,M.version=M.version||c(/gecko\/(\d+(\.\d+)?)/i)),!M.windowsphone&&(p||M.silk)?(M.android=t,M.osname="Android"):!M.windowsphone&&f?(M[f]=t,M.ios=t,M.osname="iOS"):L?(M.mac=t,M.osname="macOS"):V?(M.xbox=t,M.osname="Xbox"):z?(M.windows=t,M.osname="Windows"):D&&(M.linux=t,M.osname="Linux");function et(F){switch(F){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}var K="";M.windows?K=et(c(/Windows ((NT|XP)( \d\d?.\d)?)/i)):M.windowsphone?K=c(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):M.mac?(K=c(/Mac OS X (\d+([_\.\s]\d+)*)/i),K=K.replace(/[_\s]/g,".")):f?(K=c(/os (\d+([_\s]\d+)*) like mac os x/i),K=K.replace(/[_\s]/g,".")):p?K=c(/android[ \/-](\d+(\.\d+)*)/i):M.webos?K=c(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):M.blackberry?K=c(/rim\stablet\sos\s(\d+(\.\d+)*)/i):M.bada?K=c(/bada\/(\d+(\.\d+)*)/i):M.tizen&&(K=c(/tizen[\/\s](\d+(\.\d+)*)/i)),K&&(M.osversion=K);var I=!M.windows&&K.split(".")[0];return Y||g||f=="ipad"||p&&(I==3||I>=4&&!G)||M.silk?M.tablet=t:(G||f=="iphone"||f=="ipod"||p||w||M.blackberry||M.webos||M.bada)&&(M.mobile=t),M.msedge||M.msie&&M.version>=10||M.yandexbrowser&&M.version>=15||M.vivaldi&&M.version>=1||M.chrome&&M.version>=20||M.samsungBrowser&&M.version>=4||M.whale&&s([M.version,"1.0"])===1||M.mzbrowser&&s([M.version,"6.0"])===1||M.focus&&s([M.version,"1.0"])===1||M.firefox&&M.version>=20||M.safari&&M.version>=6||M.opera&&M.version>=10||M.ios&&M.osversion&&M.osversion.split(".")[0]>=6||M.blackberry&&M.version>=10.1||M.chromium&&M.version>=20?M.a=t:M.msie&&M.version<10||M.chrome&&M.version<20||M.firefox&&M.version<20||M.safari&&M.version<6||M.opera&&M.version<10||M.ios&&M.osversion&&M.osversion.split(".")[0]<6||M.chromium&&M.version<20?M.c=t:M.x=t,M}var n=r(typeof navigator<"u"&&navigator.userAgent||"");n.test=function(u){for(var c=0;c<u.length;++c){var h=u[c];if(typeof h=="string"&&h in n)return!0}return!1};function i(u){return u.split(".").length}function o(u,c){var h=[],f;if(Array.prototype.map)return Array.prototype.map.call(u,c);for(f=0;f<u.length;f++)h.push(c(u[f]));return h}function s(u){for(var c=Math.max(i(u[0]),i(u[1])),h=o(u,function(f){var d=c-i(f);return f=f+new Array(d+1).join(".0"),o(f.split("."),function(p){return new Array(20-p.length).join("0")+p}).reverse()});--c>=0;){if(h[0][c]>h[1][c])return 1;if(h[0][c]===h[1][c]){if(c===0)return 0}else return-1}}function a(u,c,h){var f=n;typeof c=="string"&&(h=c,c=void 0),c===void 0&&(c=!1),h&&(f=r(h));var d=""+f.version;for(var p in u)if(u.hasOwnProperty(p)&&f[p]){if(typeof u[p]!="string")throw new Error("Browser version in the minVersion map should be a string: "+p+": "+String(u));return s([d,u[p]])<0}return c}function l(u,c,h){return!a(u,c,h)}return n.isUnsupportedBrowser=a,n.compareVersions=s,n.check=l,n._detect=r,n.detect=r,n})})(Zv);var sc=Zv.exports,Xa=oc,D_=Qv,H_=sc,Kv=Gv,F_=nc,j_=!!Kv.createImageBitmap&&!H_.firefox,V_={imageOrientation:"flipY",premultiplyAlpha:"premultiply"};function Js(e){this._stage=e}Js.prototype.loadImage=function(e,t,r){var n=this,i=new Image;i.crossOrigin="anonymous";var o=t&&t.x||0,s=t&&t.y||0,a=t&&t.width||1,l=t&&t.height||1;r=F_(r),i.onload=function(){n._handleLoad(i,o,s,a,l,r)},i.onerror=function(){n._handleError(e,r)},i.src=e;function u(){i.onload=i.onerror=null,i.src="",r.apply(null,arguments)}return u};Js.prototype._handleLoad=function(e,t,r,n,i,o){if(t===0&&r===0&&n===1&&i===1){o(null,new Xa(e));return}if(t*=e.naturalWidth,r*=e.naturalHeight,n*=e.naturalWidth,i*=e.naturalHeight,j_)Kv.createImageBitmap(e,t,r,n,i,V_).then(function(l){o(null,new Xa(l))});else{var s=document.createElement("canvas");s.width=n,s.height=i;var a=s.getContext("2d");a.drawImage(e,t,r,n,i,0,0,n,i),o(null,new Xa(s))}};Js.prototype._handleError=function(e,t){t(new D_("Network error: "+e))};var U_=Js,W_=1;function B_(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e&&e.deviceXDPI&&e.logicalXDPI)return e.deviceXDPI/e.logicalXDPI;if(e&&e.systemXDPI&&e.logicalXDPI)return e.systemXDPI/e.logicalXDPI}return W_}var ea=B_;function Y_(e){return(e&e-1)==0}var b_=Y_;function ac(e){for(var t=document.documentElement.style,r=["Moz","Webkit","Khtml","O","ms"],n=0;n<r.length;n++){var i=r[n],o=e[0].toUpperCase()+e.slice(1),s=i+o;if(s in t)return s}return e}function X_(e){var t=ac(e);return function(n){return n.style[t]}}function lc(e){var t=ac(e);return function(n,i){return n.style[t]=i}}var Jv=lc("transform"),ep=lc("transformOrigin");function G_(e){Jv(e,"translateZ(0)")}function q_(e){ep(e,"0 0 0")}function Q_(e){e.style.position="absolute"}function Z_(e,t,r){e.style.left=t+"px",e.style.top=r+"px"}function K_(e,t,r){e.style.width=t+"px",e.style.height=r+"px"}function J_(e){e.style.width=e.style.height=0}function eg(e){e.style.width=e.style.height="100%"}function tg(e){e.style.overflow="hidden"}function rg(e){e.style.overflow="visible"}function ng(e){e.style.pointerEvents="none"}var Je={prefixProperty:ac,getWithVendorPrefix:X_,setWithVendorPrefix:lc,setTransform:Jv,setTransformOrigin:ep,setNullTransform:G_,setNullTransformOrigin:q_,setAbsolute:Q_,setPixelPosition:Z_,setPixelSize:K_,setNullSize:J_,setFullSize:eg,setOverflowHidden:tg,setOverflowVisible:rg,setNoPointerEvents:ng},ig=R_,og=U_,sg=sc,ag=Ht,lg=ea,ef=b_,ug=Je.setAbsolute,cg=Je.setFullSize,hg=ie,fg={videoUseTexImage2D:sg.chrome};function dg(e,t){var r={alpha:!0,premultipliedAlpha:!0,antialias:!!(t&&t.antialias),preserveDrawingBuffer:!!(t&&t.preserveDrawingBuffer)},n=e.getContext&&(e.getContext("webgl",r)||e.getContext("experimental-webgl",r));if(!n)throw new Error("Could not get WebGL context");return t.wrapContext&&(n=t.wrapContext(n)),n}function Pe(e){e=e||{};var t=this;this.constructor.super_.call(this,e),this._generateMipmaps=e.generateMipmaps!=null?e.generateMipmaps:!1,this._loader=new og(this),this._domElement=document.createElement("canvas"),ug(this._domElement),cg(this._domElement),this._gl=dg(this._domElement,e),this._handleContextLoss=function(){t.emit("webglcontextlost"),t._gl=null},this._domElement.addEventListener("webglcontextlost",this._handleContextLoss),this._rendererInstances=[]}ag(Pe,ig);Pe.prototype.destroy=function(){this._domElement.removeEventListener("webglcontextlost",this._handleContextLoss),this.constructor.super_.prototype.destroy.call(this)};Pe.prototype.domElement=function(){return this._domElement};Pe.prototype.webGlContext=function(){return this._gl};Pe.prototype.setSizeForType=function(){var e=lg();this._domElement.width=e*this._width,this._domElement.height=e*this._height};Pe.prototype.loadImage=function(e,t,r){return this._loader.loadImage(e,t,r)};Pe.prototype.maxTextureSize=function(){return this._gl.getParameter(this._gl.MAX_TEXTURE_SIZE)};Pe.prototype.validateLayer=function(e){var t=e.geometry().maxTileSize(),r=this.maxTextureSize();if(t>r)throw new Error("Layer has level with tile size larger than maximum texture size ("+t+" vs. "+r+")")};Pe.prototype.createRenderer=function(e){for(var t=this._rendererInstances,r=0;r<t.length;r++)if(t[r]instanceof e)return t[r];var n=new e(this._gl);return t.push(n),n};Pe.prototype.destroyRenderer=function(e){var t=this._rendererInstances;if(this._renderers.indexOf(e)<0){e.destroy();var r=t.indexOf(e);r>=0&&t.splice(r,1)}};Pe.prototype.startFrame=function(){var e=this._gl;if(!e)throw new Error("Bad WebGL context - maybe context was lost?");e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.enable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)};Pe.prototype.endFrame=function(){};Pe.prototype.takeSnapshot=function(e){(typeof e!="object"||e==null)&&(e={});var t=e.quality;if(typeof t>"u"&&(t=75),typeof t!="number"||t<0||t>100)throw new Error("WebGLStage: Snapshot quality needs to be a number between 0 and 100");return this.render(),this._domElement.toDataURL("image/jpeg",t/100)};Pe.type=Pe.prototype.type="webgl";function uc(e,t,r){this._stage=e,this._gl=e._gl,this._texture=null,this._timestamp=null,this._width=this._height=null,this.refresh(t,r)}uc.prototype.refresh=function(e,t){var r=this._gl,n=this._stage,i,o=t.timestamp();if(o!==this._timestamp){var s=t.element(),a=t.width(),l=t.height();if(a!==this._width||l!==this._height){var u=n.maxTextureSize();if(a>u)throw new Error("Texture width larger than max size ("+a+" vs. "+u+")");if(l>u)throw new Error("Texture height larger than max size ("+l+" vs. "+u+")");this._texture&&r.deleteTexture(i),i=this._texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,i),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,s)}else i=this._texture,r.bindTexture(r.TEXTURE_2D,i),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),s instanceof HTMLVideoElement&&fg.videoUseTexImage2D?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,s):r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,s);n._generateMipmaps&&ef(a)&&ef(l)?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.generateMipmap(r.TEXTURE_2D)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR)),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.bindTexture(r.TEXTURE_2D,null),this._timestamp=o,this._width=a,this._height=l}};uc.prototype.destroy=function(){this._texture&&this._gl.deleteTexture(this._texture),hg(this)};Pe.TextureClass=Pe.prototype.TextureClass=uc;var tp=Pe,O=1e-6,B=typeof Float32Array<"u"?Float32Array:Array,Mt=Math.random;function vg(e){B=e}var pg=Math.PI/180;function mg(e){return e*pg}function yg(e,t){return Math.abs(e-t)<=O*Math.max(1,Math.abs(e),Math.abs(t))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});const _g=Object.freeze(Object.defineProperty({__proto__:null,get ARRAY_TYPE(){return B},EPSILON:O,RANDOM:Mt,equals:yg,setMatrixArrayType:vg,toRadian:mg},Symbol.toStringTag,{value:"Module"}));function gg(){var e=new B(4);return B!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function wg(e){var t=new B(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function xg(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Eg(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function Sg(e,t,r,n){var i=new B(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function Mg(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function Tg(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function Cg(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=r*o-i*n;return s?(s=1/s,e[0]=o*s,e[1]=-n*s,e[2]=-i*s,e[3]=r*s,e):null}function Pg(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function zg(e){return e[0]*e[3]-e[2]*e[1]}function rp(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*a+o*l,e[1]=i*a+s*l,e[2]=n*u+o*c,e[3]=i*u+s*c,e}function kg(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=n*l+o*a,e[1]=i*l+s*a,e[2]=n*-a+o*l,e[3]=i*-a+s*l,e}function Lg(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=r[0],l=r[1];return e[0]=n*a,e[1]=i*a,e[2]=o*l,e[3]=s*l,e}function Rg(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e}function $g(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function Ig(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function Ag(e){return Math.hypot(e[0],e[1],e[2],e[3])}function Ng(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]}function Og(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function np(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Dg(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Hg(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],s=t[0],a=t[1],l=t[2],u=t[3];return Math.abs(r-s)<=O*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-a)<=O*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=O*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=O*Math.max(1,Math.abs(o),Math.abs(u))}function Fg(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function jg(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}var Vg=rp,Ug=np;const Wg=Object.freeze(Object.defineProperty({__proto__:null,LDU:Ng,add:Og,adjoint:Pg,clone:wg,copy:xg,create:gg,determinant:zg,equals:Hg,exactEquals:Dg,frob:Ag,fromRotation:Rg,fromScaling:$g,fromValues:Sg,identity:Eg,invert:Cg,mul:Vg,multiply:rp,multiplyScalar:Fg,multiplyScalarAndAdd:jg,rotate:kg,scale:Lg,set:Mg,str:Ig,sub:Ug,subtract:np,transpose:Tg},Symbol.toStringTag,{value:"Module"}));function Bg(){var e=new B(6);return B!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Yg(e){var t=new B(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function bg(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Xg(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Gg(e,t,r,n,i,o){var s=new B(6);return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=i,s[5]=o,s}function qg(e,t,r,n,i,o,s){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=s,e}function Qg(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=r*o-n*i;return l?(l=1/l,e[0]=o*l,e[1]=-n*l,e[2]=-i*l,e[3]=r*l,e[4]=(i*a-o*s)*l,e[5]=(n*s-r*a)*l,e):null}function Zg(e){return e[0]*e[3]-e[1]*e[2]}function ip(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=r[0],c=r[1],h=r[2],f=r[3],d=r[4],p=r[5];return e[0]=n*u+o*c,e[1]=i*u+s*c,e[2]=n*h+o*f,e[3]=i*h+s*f,e[4]=n*d+o*p+a,e[5]=i*d+s*p+l,e}function Kg(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c+o*u,e[1]=i*c+s*u,e[2]=n*-u+o*c,e[3]=i*-u+s*c,e[4]=a,e[5]=l,e}function Jg(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=r[0],c=r[1];return e[0]=n*u,e[1]=i*u,e[2]=o*c,e[3]=s*c,e[4]=a,e[5]=l,e}function e2(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=r[0],c=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=s,e[4]=n*u+o*c+a,e[5]=i*u+s*c+l,e}function t2(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function r2(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function n2(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function i2(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function o2(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function s2(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function op(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function a2(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function l2(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function u2(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function c2(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=t[0],u=t[1],c=t[2],h=t[3],f=t[4],d=t[5];return Math.abs(r-l)<=O*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-u)<=O*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-c)<=O*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-h)<=O*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-f)<=O*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-d)<=O*Math.max(1,Math.abs(a),Math.abs(d))}var h2=ip,f2=op;const d2=Object.freeze(Object.defineProperty({__proto__:null,add:s2,clone:Yg,copy:bg,create:Bg,determinant:Zg,equals:c2,exactEquals:u2,frob:o2,fromRotation:t2,fromScaling:r2,fromTranslation:n2,fromValues:Gg,identity:Xg,invert:Qg,mul:h2,multiply:ip,multiplyScalar:a2,multiplyScalarAndAdd:l2,rotate:Kg,scale:Jg,set:qg,str:i2,sub:f2,subtract:op,translate:e2},Symbol.toStringTag,{value:"Module"}));function sp(){var e=new B(9);return B!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function v2(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function p2(e){var t=new B(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function m2(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function y2(e,t,r,n,i,o,s,a,l){var u=new B(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=i,u[5]=o,u[6]=s,u[7]=a,u[8]=l,u}function _2(e,t,r,n,i,o,s,a,l,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=u,e}function g2(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function w2(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function x2(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=c*s-a*u,f=-c*o+a*l,d=u*o-s*l,p=r*h+n*f+i*d;return p?(p=1/p,e[0]=h*p,e[1]=(-c*n+i*u)*p,e[2]=(a*n-i*s)*p,e[3]=f*p,e[4]=(c*r-i*l)*p,e[5]=(-a*r+i*o)*p,e[6]=d*p,e[7]=(-u*r+n*l)*p,e[8]=(s*r-n*o)*p,e):null}function E2(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=t[8];return e[0]=s*c-a*u,e[1]=i*u-n*c,e[2]=n*a-i*s,e[3]=a*l-o*c,e[4]=r*c-i*l,e[5]=i*o-r*a,e[6]=o*u-s*l,e[7]=n*l-r*u,e[8]=r*s-n*o,e}function S2(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],u=e[8];return t*(u*o-s*l)+r*(-u*i+s*a)+n*(l*i-o*a)}function ap(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=r[0],d=r[1],p=r[2],w=r[3],g=r[4],m=r[5],y=r[6],x=r[7],S=r[8];return e[0]=f*n+d*s+p*u,e[1]=f*i+d*a+p*c,e[2]=f*o+d*l+p*h,e[3]=w*n+g*s+m*u,e[4]=w*i+g*a+m*c,e[5]=w*o+g*l+m*h,e[6]=y*n+x*s+S*u,e[7]=y*i+x*a+S*c,e[8]=y*o+x*l+S*h,e}function M2(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=f*n+d*s+u,e[7]=f*i+d*a+c,e[8]=f*o+d*l+h,e}function T2(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=Math.sin(r),d=Math.cos(r);return e[0]=d*n+f*s,e[1]=d*i+f*a,e[2]=d*o+f*l,e[3]=d*s-f*n,e[4]=d*a-f*i,e[5]=d*l-f*o,e[6]=u,e[7]=c,e[8]=h,e}function C2(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function P2(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function z2(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function k2(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function L2(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function R2(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=r+r,a=n+n,l=i+i,u=r*s,c=n*s,h=n*a,f=i*s,d=i*a,p=i*l,w=o*s,g=o*a,m=o*l;return e[0]=1-h-p,e[3]=c-m,e[6]=f+g,e[1]=c+m,e[4]=1-u-p,e[7]=d-w,e[2]=f-g,e[5]=d+w,e[8]=1-u-h,e}function $2(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=t[9],f=t[10],d=t[11],p=t[12],w=t[13],g=t[14],m=t[15],y=r*a-n*s,x=r*l-i*s,S=r*u-o*s,C=n*l-i*a,T=n*u-o*a,z=i*u-o*l,L=c*w-h*p,D=c*g-f*p,$=c*m-d*p,H=h*g-f*w,Y=h*m-d*w,G=f*m-d*g,V=y*G-x*Y+S*H+C*$-T*D+z*L;return V?(V=1/V,e[0]=(a*G-l*Y+u*H)*V,e[1]=(l*$-s*G-u*D)*V,e[2]=(s*Y-a*$+u*L)*V,e[3]=(i*Y-n*G-o*H)*V,e[4]=(r*G-i*$+o*D)*V,e[5]=(n*$-r*Y-o*L)*V,e[6]=(w*z-g*T+m*C)*V,e[7]=(g*S-p*z-m*x)*V,e[8]=(p*T-w*S+m*y)*V,e):null}function I2(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function A2(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function N2(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function O2(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function lp(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function D2(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function H2(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function F2(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function j2(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=t[0],f=t[1],d=t[2],p=t[3],w=t[4],g=t[5],m=t[6],y=t[7],x=t[8];return Math.abs(r-h)<=O*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(n-f)<=O*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-d)<=O*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=O*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-w)<=O*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-g)<=O*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(l-m)<=O*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-y)<=O*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-x)<=O*Math.max(1,Math.abs(c),Math.abs(x))}var V2=ap,U2=lp;const W2=Object.freeze(Object.defineProperty({__proto__:null,add:O2,adjoint:E2,clone:p2,copy:m2,create:sp,determinant:S2,equals:j2,exactEquals:F2,frob:N2,fromMat2d:L2,fromMat4:v2,fromQuat:R2,fromRotation:z2,fromScaling:k2,fromTranslation:P2,fromValues:y2,identity:g2,invert:x2,mul:V2,multiply:ap,multiplyScalar:D2,multiplyScalarAndAdd:H2,normalFromMat4:$2,projection:I2,rotate:T2,scale:C2,set:_2,str:A2,sub:U2,subtract:lp,translate:M2,transpose:w2},Symbol.toStringTag,{value:"Module"}));function B2(){var e=new B(16);return B!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Y2(e){var t=new B(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function b2(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function X2(e,t,r,n,i,o,s,a,l,u,c,h,f,d,p,w){var g=new B(16);return g[0]=e,g[1]=t,g[2]=r,g[3]=n,g[4]=i,g[5]=o,g[6]=s,g[7]=a,g[8]=l,g[9]=u,g[10]=c,g[11]=h,g[12]=f,g[13]=d,g[14]=p,g[15]=w,g}function G2(e,t,r,n,i,o,s,a,l,u,c,h,f,d,p,w,g){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=u,e[9]=c,e[10]=h,e[11]=f,e[12]=d,e[13]=p,e[14]=w,e[15]=g,e}function up(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function q2(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Q2(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=t[9],f=t[10],d=t[11],p=t[12],w=t[13],g=t[14],m=t[15],y=r*a-n*s,x=r*l-i*s,S=r*u-o*s,C=n*l-i*a,T=n*u-o*a,z=i*u-o*l,L=c*w-h*p,D=c*g-f*p,$=c*m-d*p,H=h*g-f*w,Y=h*m-d*w,G=f*m-d*g,V=y*G-x*Y+S*H+C*$-T*D+z*L;return V?(V=1/V,e[0]=(a*G-l*Y+u*H)*V,e[1]=(i*Y-n*G-o*H)*V,e[2]=(w*z-g*T+m*C)*V,e[3]=(f*T-h*z-d*C)*V,e[4]=(l*$-s*G-u*D)*V,e[5]=(r*G-i*$+o*D)*V,e[6]=(g*S-p*z-m*x)*V,e[7]=(c*z-f*S+d*x)*V,e[8]=(s*Y-a*$+u*L)*V,e[9]=(n*$-r*Y-o*L)*V,e[10]=(p*T-w*S+m*y)*V,e[11]=(h*S-c*T-d*y)*V,e[12]=(a*D-s*H-l*L)*V,e[13]=(r*H-n*D+i*L)*V,e[14]=(w*x-p*C-g*y)*V,e[15]=(c*C-h*x+f*y)*V,e):null}function Z2(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=t[9],f=t[10],d=t[11],p=t[12],w=t[13],g=t[14],m=t[15];return e[0]=a*(f*m-d*g)-h*(l*m-u*g)+w*(l*d-u*f),e[1]=-(n*(f*m-d*g)-h*(i*m-o*g)+w*(i*d-o*f)),e[2]=n*(l*m-u*g)-a*(i*m-o*g)+w*(i*u-o*l),e[3]=-(n*(l*d-u*f)-a*(i*d-o*f)+h*(i*u-o*l)),e[4]=-(s*(f*m-d*g)-c*(l*m-u*g)+p*(l*d-u*f)),e[5]=r*(f*m-d*g)-c*(i*m-o*g)+p*(i*d-o*f),e[6]=-(r*(l*m-u*g)-s*(i*m-o*g)+p*(i*u-o*l)),e[7]=r*(l*d-u*f)-s*(i*d-o*f)+c*(i*u-o*l),e[8]=s*(h*m-d*w)-c*(a*m-u*w)+p*(a*d-u*h),e[9]=-(r*(h*m-d*w)-c*(n*m-o*w)+p*(n*d-o*h)),e[10]=r*(a*m-u*w)-s*(n*m-o*w)+p*(n*u-o*a),e[11]=-(r*(a*d-u*h)-s*(n*d-o*h)+c*(n*u-o*a)),e[12]=-(s*(h*g-f*w)-c*(a*g-l*w)+p*(a*f-l*h)),e[13]=r*(h*g-f*w)-c*(n*g-i*w)+p*(n*f-i*h),e[14]=-(r*(a*g-l*w)-s*(n*g-i*w)+p*(n*l-i*a)),e[15]=r*(a*f-l*h)-s*(n*f-i*h)+c*(n*l-i*a),e}function K2(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],u=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],w=e[14],g=e[15],m=t*s-r*o,y=t*a-n*o,x=t*l-i*o,S=r*a-n*s,C=r*l-i*s,T=n*l-i*a,z=u*p-c*d,L=u*w-h*d,D=u*g-f*d,$=c*w-h*p,H=c*g-f*p,Y=h*g-f*w;return m*Y-y*H+x*$+S*D-C*L+T*z}function cp(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=t[9],d=t[10],p=t[11],w=t[12],g=t[13],m=t[14],y=t[15],x=r[0],S=r[1],C=r[2],T=r[3];return e[0]=x*n+S*a+C*h+T*w,e[1]=x*i+S*l+C*f+T*g,e[2]=x*o+S*u+C*d+T*m,e[3]=x*s+S*c+C*p+T*y,x=r[4],S=r[5],C=r[6],T=r[7],e[4]=x*n+S*a+C*h+T*w,e[5]=x*i+S*l+C*f+T*g,e[6]=x*o+S*u+C*d+T*m,e[7]=x*s+S*c+C*p+T*y,x=r[8],S=r[9],C=r[10],T=r[11],e[8]=x*n+S*a+C*h+T*w,e[9]=x*i+S*l+C*f+T*g,e[10]=x*o+S*u+C*d+T*m,e[11]=x*s+S*c+C*p+T*y,x=r[12],S=r[13],C=r[14],T=r[15],e[12]=x*n+S*a+C*h+T*w,e[13]=x*i+S*l+C*f+T*g,e[14]=x*o+S*u+C*d+T*m,e[15]=x*s+S*c+C*p+T*y,e}function J2(e,t,r){var n=r[0],i=r[1],o=r[2],s,a,l,u,c,h,f,d,p,w,g,m;return t===e?(e[12]=t[0]*n+t[4]*i+t[8]*o+t[12],e[13]=t[1]*n+t[5]*i+t[9]*o+t[13],e[14]=t[2]*n+t[6]*i+t[10]*o+t[14],e[15]=t[3]*n+t[7]*i+t[11]*o+t[15]):(s=t[0],a=t[1],l=t[2],u=t[3],c=t[4],h=t[5],f=t[6],d=t[7],p=t[8],w=t[9],g=t[10],m=t[11],e[0]=s,e[1]=a,e[2]=l,e[3]=u,e[4]=c,e[5]=h,e[6]=f,e[7]=d,e[8]=p,e[9]=w,e[10]=g,e[11]=m,e[12]=s*n+c*i+p*o+t[12],e[13]=a*n+h*i+w*o+t[13],e[14]=l*n+f*i+g*o+t[14],e[15]=u*n+d*i+m*o+t[15]),e}function ew(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function tw(e,t,r,n){var i=n[0],o=n[1],s=n[2],a=Math.hypot(i,o,s),l,u,c,h,f,d,p,w,g,m,y,x,S,C,T,z,L,D,$,H,Y,G,V,M;return a<O?null:(a=1/a,i*=a,o*=a,s*=a,l=Math.sin(r),u=Math.cos(r),c=1-u,h=t[0],f=t[1],d=t[2],p=t[3],w=t[4],g=t[5],m=t[6],y=t[7],x=t[8],S=t[9],C=t[10],T=t[11],z=i*i*c+u,L=o*i*c+s*l,D=s*i*c-o*l,$=i*o*c-s*l,H=o*o*c+u,Y=s*o*c+i*l,G=i*s*c+o*l,V=o*s*c-i*l,M=s*s*c+u,e[0]=h*z+w*L+x*D,e[1]=f*z+g*L+S*D,e[2]=d*z+m*L+C*D,e[3]=p*z+y*L+T*D,e[4]=h*$+w*H+x*Y,e[5]=f*$+g*H+S*Y,e[6]=d*$+m*H+C*Y,e[7]=p*$+y*H+T*Y,e[8]=h*G+w*V+x*M,e[9]=f*G+g*V+S*M,e[10]=d*G+m*V+C*M,e[11]=p*G+y*V+T*M,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function rw(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],s=t[5],a=t[6],l=t[7],u=t[8],c=t[9],h=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*n,e[5]=s*i+c*n,e[6]=a*i+h*n,e[7]=l*i+f*n,e[8]=u*i-o*n,e[9]=c*i-s*n,e[10]=h*i-a*n,e[11]=f*i-l*n,e}function nw(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],s=t[1],a=t[2],l=t[3],u=t[8],c=t[9],h=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*n,e[1]=s*i-c*n,e[2]=a*i-h*n,e[3]=l*i-f*n,e[8]=o*n+u*i,e[9]=s*n+c*i,e[10]=a*n+h*i,e[11]=l*n+f*i,e}function iw(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],s=t[1],a=t[2],l=t[3],u=t[4],c=t[5],h=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*n,e[1]=s*i+c*n,e[2]=a*i+h*n,e[3]=l*i+f*n,e[4]=u*i-o*n,e[5]=c*i-s*n,e[6]=h*i-a*n,e[7]=f*i-l*n,e}function ow(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function sw(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function aw(e,t,r){var n=r[0],i=r[1],o=r[2],s=Math.hypot(n,i,o),a,l,u;return s<O?null:(s=1/s,n*=s,i*=s,o*=s,a=Math.sin(t),l=Math.cos(t),u=1-l,e[0]=n*n*u+l,e[1]=i*n*u+o*a,e[2]=o*n*u-i*a,e[3]=0,e[4]=n*i*u-o*a,e[5]=i*i*u+l,e[6]=o*i*u+n*a,e[7]=0,e[8]=n*o*u+i*a,e[9]=i*o*u-n*a,e[10]=o*o*u+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function lw(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function uw(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function cw(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function hp(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=n+n,l=i+i,u=o+o,c=n*a,h=n*l,f=n*u,d=i*l,p=i*u,w=o*u,g=s*a,m=s*l,y=s*u;return e[0]=1-(d+w),e[1]=h+y,e[2]=f-m,e[3]=0,e[4]=h-y,e[5]=1-(c+w),e[6]=p+g,e[7]=0,e[8]=f+m,e[9]=p-g,e[10]=1-(c+d),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function hw(e,t){var r=new B(3),n=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=n*n+i*i+o*o+s*s;return h>0?(r[0]=(a*s+c*n+l*o-u*i)*2/h,r[1]=(l*s+c*i+u*n-a*o)*2/h,r[2]=(u*s+c*o+a*i-l*n)*2/h):(r[0]=(a*s+c*n+l*o-u*i)*2,r[1]=(l*s+c*i+u*n-a*o)*2,r[2]=(u*s+c*o+a*i-l*n)*2),hp(e,t,r),e}function fp(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function dp(e,t){var r=t[0],n=t[1],i=t[2],o=t[4],s=t[5],a=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.hypot(r,n,i),e[1]=Math.hypot(o,s,a),e[2]=Math.hypot(l,u,c),e}function vp(e,t){var r=new B(3);dp(r,t);var n=1/r[0],i=1/r[1],o=1/r[2],s=t[0]*n,a=t[1]*i,l=t[2]*o,u=t[4]*n,c=t[5]*i,h=t[6]*o,f=t[8]*n,d=t[9]*i,p=t[10]*o,w=s+c+p,g=0;return w>0?(g=Math.sqrt(w+1)*2,e[3]=.25*g,e[0]=(h-d)/g,e[1]=(f-l)/g,e[2]=(a-u)/g):s>c&&s>p?(g=Math.sqrt(1+s-c-p)*2,e[3]=(h-d)/g,e[0]=.25*g,e[1]=(a+u)/g,e[2]=(f+l)/g):c>p?(g=Math.sqrt(1+c-s-p)*2,e[3]=(f-l)/g,e[0]=(a+u)/g,e[1]=.25*g,e[2]=(h+d)/g):(g=Math.sqrt(1+p-s-c)*2,e[3]=(a-u)/g,e[0]=(f+l)/g,e[1]=(h+d)/g,e[2]=.25*g),e}function fw(e,t,r,n){var i=t[0],o=t[1],s=t[2],a=t[3],l=i+i,u=o+o,c=s+s,h=i*l,f=i*u,d=i*c,p=o*u,w=o*c,g=s*c,m=a*l,y=a*u,x=a*c,S=n[0],C=n[1],T=n[2];return e[0]=(1-(p+g))*S,e[1]=(f+x)*S,e[2]=(d-y)*S,e[3]=0,e[4]=(f-x)*C,e[5]=(1-(h+g))*C,e[6]=(w+m)*C,e[7]=0,e[8]=(d+y)*T,e[9]=(w-m)*T,e[10]=(1-(h+p))*T,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function dw(e,t,r,n,i){var o=t[0],s=t[1],a=t[2],l=t[3],u=o+o,c=s+s,h=a+a,f=o*u,d=o*c,p=o*h,w=s*c,g=s*h,m=a*h,y=l*u,x=l*c,S=l*h,C=n[0],T=n[1],z=n[2],L=i[0],D=i[1],$=i[2],H=(1-(w+m))*C,Y=(d+S)*C,G=(p-x)*C,V=(d-S)*T,M=(1-(f+m))*T,et=(g+y)*T,K=(p+x)*z,I=(g-y)*z,F=(1-(f+w))*z;return e[0]=H,e[1]=Y,e[2]=G,e[3]=0,e[4]=V,e[5]=M,e[6]=et,e[7]=0,e[8]=K,e[9]=I,e[10]=F,e[11]=0,e[12]=r[0]+L-(H*L+V*D+K*$),e[13]=r[1]+D-(Y*L+M*D+I*$),e[14]=r[2]+$-(G*L+et*D+F*$),e[15]=1,e}function vw(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=r+r,a=n+n,l=i+i,u=r*s,c=n*s,h=n*a,f=i*s,d=i*a,p=i*l,w=o*s,g=o*a,m=o*l;return e[0]=1-h-p,e[1]=c+m,e[2]=f-g,e[3]=0,e[4]=c-m,e[5]=1-u-p,e[6]=d+w,e[7]=0,e[8]=f+g,e[9]=d-w,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pw(e,t,r,n,i,o,s){var a=1/(r-t),l=1/(i-n),u=1/(o-s);return e[0]=o*2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o*2*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(i+n)*l,e[10]=(s+o)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*u,e[15]=0,e}function mw(e,t,r,n,i){var o=1/Math.tan(t/2),s;return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(n-i),e[10]=(i+n)*s,e[14]=2*i*n*s):(e[10]=-1,e[14]=-2*n),e}function yw(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+a),u=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-((s-a)*l*.5),e[9]=(i-o)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function _w(e,t,r,n,i,o,s){var a=1/(t-r),l=1/(n-i),u=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*a,e[13]=(i+n)*l,e[14]=(s+o)*u,e[15]=1,e}function gw(e,t,r,n){var i,o,s,a,l,u,c,h,f,d,p=t[0],w=t[1],g=t[2],m=n[0],y=n[1],x=n[2],S=r[0],C=r[1],T=r[2];return Math.abs(p-S)<O&&Math.abs(w-C)<O&&Math.abs(g-T)<O?up(e):(c=p-S,h=w-C,f=g-T,d=1/Math.hypot(c,h,f),c*=d,h*=d,f*=d,i=y*f-x*h,o=x*c-m*f,s=m*h-y*c,d=Math.hypot(i,o,s),d?(d=1/d,i*=d,o*=d,s*=d):(i=0,o=0,s=0),a=h*s-f*o,l=f*i-c*s,u=c*o-h*i,d=Math.hypot(a,l,u),d?(d=1/d,a*=d,l*=d,u*=d):(a=0,l=0,u=0),e[0]=i,e[1]=a,e[2]=c,e[3]=0,e[4]=o,e[5]=l,e[6]=h,e[7]=0,e[8]=s,e[9]=u,e[10]=f,e[11]=0,e[12]=-(i*p+o*w+s*g),e[13]=-(a*p+l*w+u*g),e[14]=-(c*p+h*w+f*g),e[15]=1,e)}function ww(e,t,r,n){var i=t[0],o=t[1],s=t[2],a=n[0],l=n[1],u=n[2],c=i-r[0],h=o-r[1],f=s-r[2],d=c*c+h*h+f*f;d>0&&(d=1/Math.sqrt(d),c*=d,h*=d,f*=d);var p=l*f-u*h,w=u*c-a*f,g=a*h-l*c;return d=p*p+w*w+g*g,d>0&&(d=1/Math.sqrt(d),p*=d,w*=d,g*=d),e[0]=p,e[1]=w,e[2]=g,e[3]=0,e[4]=h*g-f*w,e[5]=f*p-c*g,e[6]=c*w-h*p,e[7]=0,e[8]=c,e[9]=h,e[10]=f,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e}function xw(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ew(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Sw(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function pp(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Mw(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function Tw(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function Cw(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Pw(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],w=e[13],g=e[14],m=e[15],y=t[0],x=t[1],S=t[2],C=t[3],T=t[4],z=t[5],L=t[6],D=t[7],$=t[8],H=t[9],Y=t[10],G=t[11],V=t[12],M=t[13],et=t[14],K=t[15];return Math.abs(r-y)<=O*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(n-x)<=O*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(i-S)<=O*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(o-C)<=O*Math.max(1,Math.abs(o),Math.abs(C))&&Math.abs(s-T)<=O*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(a-z)<=O*Math.max(1,Math.abs(a),Math.abs(z))&&Math.abs(l-L)<=O*Math.max(1,Math.abs(l),Math.abs(L))&&Math.abs(u-D)<=O*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(c-$)<=O*Math.max(1,Math.abs(c),Math.abs($))&&Math.abs(h-H)<=O*Math.max(1,Math.abs(h),Math.abs(H))&&Math.abs(f-Y)<=O*Math.max(1,Math.abs(f),Math.abs(Y))&&Math.abs(d-G)<=O*Math.max(1,Math.abs(d),Math.abs(G))&&Math.abs(p-V)<=O*Math.max(1,Math.abs(p),Math.abs(V))&&Math.abs(w-M)<=O*Math.max(1,Math.abs(w),Math.abs(M))&&Math.abs(g-et)<=O*Math.max(1,Math.abs(g),Math.abs(et))&&Math.abs(m-K)<=O*Math.max(1,Math.abs(m),Math.abs(K))}var zw=cp,kw=pp;const Lw=Object.freeze(Object.defineProperty({__proto__:null,add:Sw,adjoint:Z2,clone:Y2,copy:b2,create:B2,determinant:K2,equals:Pw,exactEquals:Cw,frob:Ew,fromQuat:vw,fromQuat2:hw,fromRotation:aw,fromRotationTranslation:hp,fromRotationTranslationScale:fw,fromRotationTranslationScaleOrigin:dw,fromScaling:sw,fromTranslation:ow,fromValues:X2,fromXRotation:lw,fromYRotation:uw,fromZRotation:cw,frustum:pw,getRotation:vp,getScaling:dp,getTranslation:fp,identity:up,invert:Q2,lookAt:gw,mul:zw,multiply:cp,multiplyScalar:Mw,multiplyScalarAndAdd:Tw,ortho:_w,perspective:mw,perspectiveFromFieldOfView:yw,rotate:tw,rotateX:rw,rotateY:nw,rotateZ:iw,scale:ew,set:G2,str:xw,sub:kw,subtract:pp,targetTo:ww,translate:J2,transpose:q2},Symbol.toStringTag,{value:"Module"}));function cc(){var e=new B(3);return B!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Rw(e){var t=new B(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function mp(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function ru(e,t,r){var n=new B(3);return n[0]=e,n[1]=t,n[2]=r,n}function $w(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Iw(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function Aw(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function yp(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function _p(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function gp(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function Nw(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Ow(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function Dw(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function Hw(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function Fw(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function jw(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Vw(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function wp(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.hypot(r,n,i)}function xp(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function Ep(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function Uw(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Ww(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function Sp(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function hc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function os(e,t,r){var n=t[0],i=t[1],o=t[2],s=r[0],a=r[1],l=r[2];return e[0]=i*l-o*a,e[1]=o*s-n*l,e[2]=n*a-i*s,e}function Bw(e,t,r,n){var i=t[0],o=t[1],s=t[2];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=s+n*(r[2]-s),e}function Yw(e,t,r,n,i,o){var s=o*o,a=s*(2*o-3)+1,l=s*(o-2)+o,u=s*(o-1),c=s*(3-2*o);return e[0]=t[0]*a+r[0]*l+n[0]*u+i[0]*c,e[1]=t[1]*a+r[1]*l+n[1]*u+i[1]*c,e[2]=t[2]*a+r[2]*l+n[2]*u+i[2]*c,e}function bw(e,t,r,n,i,o){var s=1-o,a=s*s,l=o*o,u=a*s,c=3*o*a,h=3*l*s,f=l*o;return e[0]=t[0]*u+r[0]*c+n[0]*h+i[0]*f,e[1]=t[1]*u+r[1]*c+n[1]*h+i[1]*f,e[2]=t[2]*u+r[2]*c+n[2]*h+i[2]*f,e}function Xw(e,t){t=t||1;var r=Mt()*2*Math.PI,n=Mt()*2-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e}function Gw(e,t,r){var n=t[0],i=t[1],o=t[2],s=r[3]*n+r[7]*i+r[11]*o+r[15];return s=s||1,e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/s,e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/s,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/s,e}function qw(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function Qw(e,t,r){var n=r[0],i=r[1],o=r[2],s=r[3],a=t[0],l=t[1],u=t[2],c=i*u-o*l,h=o*a-n*u,f=n*l-i*a,d=i*f-o*h,p=o*c-n*f,w=n*h-i*c,g=s*2;return c*=g,h*=g,f*=g,d*=2,p*=2,w*=2,e[0]=a+c+d,e[1]=l+h+p,e[2]=u+f+w,e}function Zw(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Kw(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Jw(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function ex(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],s=t[1],a=t[2],l=Math.sqrt(r*r+n*n+i*i),u=Math.sqrt(o*o+s*s+a*a),c=l*u,h=c&&hc(e,t)/c;return Math.acos(Math.min(Math.max(h,-1),1))}function tx(e){return e[0]=0,e[1]=0,e[2]=0,e}function rx(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function nx(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function ix(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],s=t[1],a=t[2];return Math.abs(r-o)<=O*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=O*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-a)<=O*Math.max(1,Math.abs(i),Math.abs(a))}var ox=yp,sx=_p,ax=gp,lx=wp,ux=xp,Mp=mp,cx=Ep,hx=function(){var e=cc();return function(t,r,n,i,o,s){var a,l;for(r||(r=3),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,a=n;a<l;a+=r)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],o(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2];return t}}();const fx=Object.freeze(Object.defineProperty({__proto__:null,add:Aw,angle:ex,bezier:bw,ceil:Nw,clone:Rw,copy:$w,create:cc,cross:os,dist:lx,distance:wp,div:ax,divide:gp,dot:hc,equals:ix,exactEquals:nx,floor:Ow,forEach:hx,fromValues:ru,hermite:Yw,inverse:Ww,len:Mp,length:mp,lerp:Bw,max:Hw,min:Dw,mul:sx,multiply:_p,negate:Uw,normalize:Sp,random:Xw,rotateX:Zw,rotateY:Kw,rotateZ:Jw,round:Fw,scale:jw,scaleAndAdd:Vw,set:Iw,sqrDist:ux,sqrLen:cx,squaredDistance:xp,squaredLength:Ep,str:rx,sub:ox,subtract:yp,transformMat3:qw,transformMat4:Gw,transformQuat:Qw,zero:tx},Symbol.toStringTag,{value:"Module"}));function Tp(){var e=new B(4);return B!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Cp(e){var t=new B(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Pp(e,t,r,n){var i=new B(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function zp(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function kp(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function Lp(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function Rp(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function $p(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Ip(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function dx(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function vx(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function px(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function mx(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function yx(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Ap(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function _x(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function Np(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.hypot(r,n,i,o)}function Op(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+i*i+o*o}function fc(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.hypot(t,r,n,i)}function dc(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function gx(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function wx(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Dp(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=r*r+n*n+i*i+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=r*s,e[1]=n*s,e[2]=i*s,e[3]=o*s,e}function Hp(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function xx(e,t,r,n){var i=r[0]*n[1]-r[1]*n[0],o=r[0]*n[2]-r[2]*n[0],s=r[0]*n[3]-r[3]*n[0],a=r[1]*n[2]-r[2]*n[1],l=r[1]*n[3]-r[3]*n[1],u=r[2]*n[3]-r[3]*n[2],c=t[0],h=t[1],f=t[2],d=t[3];return e[0]=h*u-f*l+d*a,e[1]=-(c*u)+f*s-d*o,e[2]=c*l-h*s+d*i,e[3]=-(c*a)+h*o-f*i,e}function Fp(e,t,r,n){var i=t[0],o=t[1],s=t[2],a=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=s+n*(r[2]-s),e[3]=a+n*(r[3]-a),e}function Ex(e,t){t=t||1;var r,n,i,o,s,a;do r=Mt()*2-1,n=Mt()*2-1,s=r*r+n*n;while(s>=1);do i=Mt()*2-1,o=Mt()*2-1,a=i*i+o*o;while(a>=1);var l=Math.sqrt((1-s)/a);return e[0]=t*r,e[1]=t*n,e[2]=t*i*l,e[3]=t*o*l,e}function Sx(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*s,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*s,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*s,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*s,e}function Mx(e,t,r){var n=t[0],i=t[1],o=t[2],s=r[0],a=r[1],l=r[2],u=r[3],c=u*n+a*o-l*i,h=u*i+l*n-s*o,f=u*o+s*i-a*n,d=-s*n-a*i-l*o;return e[0]=c*u+d*-s+h*-l-f*-a,e[1]=h*u+d*-a+f*-s-c*-l,e[2]=f*u+d*-l+c*-a-h*-s,e[3]=t[3],e}function Tx(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function Cx(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function jp(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Vp(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],s=t[0],a=t[1],l=t[2],u=t[3];return Math.abs(r-s)<=O*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-a)<=O*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=O*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=O*Math.max(1,Math.abs(o),Math.abs(u))}var Px=Rp,zx=$p,kx=Ip,Lx=Np,Rx=Op,$x=fc,Ix=dc,Ax=function(){var e=Tp();return function(t,r,n,i,o,s){var a,l;for(r||(r=4),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,a=n;a<l;a+=r)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],o(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}}();const Nx=Object.freeze(Object.defineProperty({__proto__:null,add:Lp,ceil:dx,clone:Cp,copy:zp,create:Tp,cross:xx,dist:Lx,distance:Np,div:kx,divide:Ip,dot:Hp,equals:Vp,exactEquals:jp,floor:vx,forEach:Ax,fromValues:Pp,inverse:wx,len:$x,length:fc,lerp:Fp,max:mx,min:px,mul:zx,multiply:$p,negate:gx,normalize:Dp,random:Ex,round:yx,scale:Ap,scaleAndAdd:_x,set:kp,sqrDist:Rx,sqrLen:Ix,squaredDistance:Op,squaredLength:dc,str:Cx,sub:Px,subtract:Rp,transformMat4:Sx,transformQuat:Mx,zero:Tx},Symbol.toStringTag,{value:"Module"}));function $s(){var e=new B(4);return B!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Ox(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Up(e,t,r){r=r*.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function Dx(e,t){var r=Math.acos(t[3])*2,n=Math.sin(r/2);return n>O?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function Hx(e,t){var r=pc(e,t);return Math.acos(2*r*r-1)}function Wp(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*c+s*a+i*u-o*l,e[1]=i*c+s*l+o*a-n*u,e[2]=o*c+s*u+n*l-i*a,e[3]=s*c-n*a-i*l-o*u,e}function Bp(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=n*l+s*a,e[1]=i*l+o*a,e[2]=o*l-i*a,e[3]=s*l-n*a,e}function Yp(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=n*l-o*a,e[1]=i*l+s*a,e[2]=o*l+n*a,e[3]=s*l-i*a,e}function bp(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*a,e[1]=i*l-n*a,e[2]=o*l+s*a,e[3]=s*l-o*a,e}function Fx(e,t){var r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e}function Xp(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=Math.sqrt(r*r+n*n+i*i),a=Math.exp(o),l=s>0?a*Math.sin(s)/s:0;return e[0]=r*l,e[1]=n*l,e[2]=i*l,e[3]=a*Math.cos(s),e}function Gp(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=Math.sqrt(r*r+n*n+i*i),a=s>0?Math.atan2(s,o)/s:0;return e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=.5*Math.log(r*r+n*n+i*i+o*o),e}function jx(e,t,r){return Gp(e,t),Qp(e,e,r),Xp(e,e),e}function ss(e,t,r,n){var i=t[0],o=t[1],s=t[2],a=t[3],l=r[0],u=r[1],c=r[2],h=r[3],f,d,p,w,g;return d=i*l+o*u+s*c+a*h,d<0&&(d=-d,l=-l,u=-u,c=-c,h=-h),1-d>O?(f=Math.acos(d),p=Math.sin(f),w=Math.sin((1-n)*f)/p,g=Math.sin(n*f)/p):(w=1-n,g=n),e[0]=w*i+g*l,e[1]=w*o+g*u,e[2]=w*s+g*c,e[3]=w*a+g*h,e}function Vx(e){var t=Mt(),r=Mt(),n=Mt(),i=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*r),e[1]=i*Math.cos(2*Math.PI*r),e[2]=o*Math.sin(2*Math.PI*n),e[3]=o*Math.cos(2*Math.PI*n),e}function Ux(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],s=r*r+n*n+i*i+o*o,a=s?1/s:0;return e[0]=-r*a,e[1]=-n*a,e[2]=-i*a,e[3]=o*a,e}function Wx(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function qp(e,t){var r=t[0]+t[4]+t[8],n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var o=(i+1)%3,s=(i+2)%3;n=Math.sqrt(t[i*3+i]-t[o*3+o]-t[s*3+s]+1),e[i]=.5*n,n=.5/n,e[3]=(t[o*3+s]-t[s*3+o])*n,e[o]=(t[o*3+i]+t[i*3+o])*n,e[s]=(t[s*3+i]+t[i*3+s])*n}return e}function Bx(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i;var o=Math.sin(t),s=Math.cos(t),a=Math.sin(r),l=Math.cos(r),u=Math.sin(n),c=Math.cos(n);return e[0]=o*l*c-s*a*u,e[1]=s*a*c+o*l*u,e[2]=s*l*u-o*a*c,e[3]=s*l*c+o*a*u,e}function Yx(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var bx=Cp,Xx=Pp,vc=zp,Gx=kp,qx=Lp,Qx=Wp,Qp=Ap,pc=Hp,Zx=Fp,mc=fc,Kx=mc,yc=dc,Jx=yc,_c=Dp,e3=jp,t3=Vp,r3=function(){var e=cc(),t=ru(1,0,0),r=ru(0,1,0);return function(n,i,o){var s=hc(i,o);return s<-.999999?(os(e,t,i),Mp(e)<1e-6&&os(e,r,i),Sp(e,e),Up(n,e,Math.PI),n):s>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(os(e,i,o),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+s,_c(n,n))}}(),n3=function(){var e=$s(),t=$s();return function(r,n,i,o,s,a){return ss(e,n,s,a),ss(t,i,o,a),ss(r,e,t,2*a*(1-a)),r}}(),i3=function(){var e=sp();return function(t,r,n,i){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],_c(t,qp(t,e))}}();const o3=Object.freeze(Object.defineProperty({__proto__:null,add:qx,calculateW:Fx,clone:bx,conjugate:Wx,copy:vc,create:$s,dot:pc,equals:t3,exactEquals:e3,exp:Xp,fromEuler:Bx,fromMat3:qp,fromValues:Xx,getAngle:Hx,getAxisAngle:Dx,identity:Ox,invert:Ux,len:Kx,length:mc,lerp:Zx,ln:Gp,mul:Qx,multiply:Wp,normalize:_c,pow:jx,random:Vx,rotateX:Bp,rotateY:Yp,rotateZ:bp,rotationTo:r3,scale:Qp,set:Gx,setAxes:i3,setAxisAngle:Up,slerp:ss,sqlerp:n3,sqrLen:Jx,squaredLength:yc,str:Yx},Symbol.toStringTag,{value:"Module"}));function s3(){var e=new B(8);return B!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function a3(e){var t=new B(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function l3(e,t,r,n,i,o,s,a){var l=new B(8);return l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=i,l[5]=o,l[6]=s,l[7]=a,l}function u3(e,t,r,n,i,o,s){var a=new B(8);a[0]=e,a[1]=t,a[2]=r,a[3]=n;var l=i*.5,u=o*.5,c=s*.5;return a[4]=l*n+u*r-c*t,a[5]=u*n+c*e-l*r,a[6]=c*n+l*t-u*e,a[7]=-l*e-u*t-c*r,a}function Zp(e,t,r){var n=r[0]*.5,i=r[1]*.5,o=r[2]*.5,s=t[0],a=t[1],l=t[2],u=t[3];return e[0]=s,e[1]=a,e[2]=l,e[3]=u,e[4]=n*u+i*l-o*a,e[5]=i*u+o*s-n*l,e[6]=o*u+n*a-i*s,e[7]=-n*s-i*a-o*l,e}function c3(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0]*.5,e[5]=t[1]*.5,e[6]=t[2]*.5,e[7]=0,e}function h3(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function f3(e,t){var r=$s();vp(r,t);var n=new B(3);return fp(n,t),Zp(e,r,n),e}function Kp(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function d3(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function v3(e,t,r,n,i,o,s,a,l){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e}var p3=vc;function m3(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var y3=vc;function _3(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function g3(e,t){var r=t[4],n=t[5],i=t[6],o=t[7],s=-t[0],a=-t[1],l=-t[2],u=t[3];return e[0]=(r*u+o*s+n*l-i*a)*2,e[1]=(n*u+o*a+i*s-r*l)*2,e[2]=(i*u+o*l+r*a-n*s)*2,e}function w3(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=r[0]*.5,l=r[1]*.5,u=r[2]*.5,c=t[4],h=t[5],f=t[6],d=t[7];return e[0]=n,e[1]=i,e[2]=o,e[3]=s,e[4]=s*a+i*u-o*l+c,e[5]=s*l+o*a-n*u+h,e[6]=s*u+n*l-i*a+f,e[7]=-n*a-i*l-o*u+d,e}function x3(e,t,r){var n=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=a*s+c*n+l*o-u*i,f=l*s+c*i+u*n-a*o,d=u*s+c*o+a*i-l*n,p=c*s-a*n-l*i-u*o;return Bp(e,t,r),n=e[0],i=e[1],o=e[2],s=e[3],e[4]=h*s+p*n+f*o-d*i,e[5]=f*s+p*i+d*n-h*o,e[6]=d*s+p*o+h*i-f*n,e[7]=p*s-h*n-f*i-d*o,e}function E3(e,t,r){var n=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=a*s+c*n+l*o-u*i,f=l*s+c*i+u*n-a*o,d=u*s+c*o+a*i-l*n,p=c*s-a*n-l*i-u*o;return Yp(e,t,r),n=e[0],i=e[1],o=e[2],s=e[3],e[4]=h*s+p*n+f*o-d*i,e[5]=f*s+p*i+d*n-h*o,e[6]=d*s+p*o+h*i-f*n,e[7]=p*s-h*n-f*i-d*o,e}function S3(e,t,r){var n=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=a*s+c*n+l*o-u*i,f=l*s+c*i+u*n-a*o,d=u*s+c*o+a*i-l*n,p=c*s-a*n-l*i-u*o;return bp(e,t,r),n=e[0],i=e[1],o=e[2],s=e[3],e[4]=h*s+p*n+f*o-d*i,e[5]=f*s+p*i+d*n-h*o,e[6]=d*s+p*o+h*i-f*n,e[7]=p*s-h*n-f*i-d*o,e}function M3(e,t,r){var n=r[0],i=r[1],o=r[2],s=r[3],a=t[0],l=t[1],u=t[2],c=t[3];return e[0]=a*s+c*n+l*o-u*i,e[1]=l*s+c*i+u*n-a*o,e[2]=u*s+c*o+a*i-l*n,e[3]=c*s-a*n-l*i-u*o,a=t[4],l=t[5],u=t[6],c=t[7],e[4]=a*s+c*n+l*o-u*i,e[5]=l*s+c*i+u*n-a*o,e[6]=u*s+c*o+a*i-l*n,e[7]=c*s-a*n-l*i-u*o,e}function T3(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*c+s*a+i*u-o*l,e[1]=i*c+s*l+o*a-n*u,e[2]=o*c+s*u+n*l-i*a,e[3]=s*c-n*a-i*l-o*u,a=r[4],l=r[5],u=r[6],c=r[7],e[4]=n*c+s*a+i*u-o*l,e[5]=i*c+s*l+o*a-n*u,e[6]=o*c+s*u+n*l-i*a,e[7]=s*c-n*a-i*l-o*u,e}function C3(e,t,r,n){if(Math.abs(n)<O)return Kp(e,t);var i=Math.hypot(r[0],r[1],r[2]);n=n*.5;var o=Math.sin(n),s=o*r[0]/i,a=o*r[1]/i,l=o*r[2]/i,u=Math.cos(n),c=t[0],h=t[1],f=t[2],d=t[3];e[0]=c*u+d*s+h*l-f*a,e[1]=h*u+d*a+f*s-c*l,e[2]=f*u+d*l+c*a-h*s,e[3]=d*u-c*s-h*a-f*l;var p=t[4],w=t[5],g=t[6],m=t[7];return e[4]=p*u+m*s+w*l-g*a,e[5]=w*u+m*a+g*s-p*l,e[6]=g*u+m*l+p*a-w*s,e[7]=m*u-p*s-w*a-g*l,e}function P3(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function Jp(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=r[4],l=r[5],u=r[6],c=r[7],h=t[4],f=t[5],d=t[6],p=t[7],w=r[0],g=r[1],m=r[2],y=r[3];return e[0]=n*y+s*w+i*m-o*g,e[1]=i*y+s*g+o*w-n*m,e[2]=o*y+s*m+n*g-i*w,e[3]=s*y-n*w-i*g-o*m,e[4]=n*c+s*a+i*u-o*l+h*y+p*w+f*m-d*g,e[5]=i*c+s*l+o*a-n*u+f*y+p*g+d*w-h*m,e[6]=o*c+s*u+n*l-i*a+d*y+p*m+h*g-f*w,e[7]=s*c-n*a-i*l-o*u+p*y-h*w-f*g-d*m,e}var z3=Jp;function k3(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var e0=pc;function L3(e,t,r,n){var i=1-n;return e0(t,r)<0&&(n=-n),e[0]=t[0]*i+r[0]*n,e[1]=t[1]*i+r[1]*n,e[2]=t[2]*i+r[2]*n,e[3]=t[3]*i+r[3]*n,e[4]=t[4]*i+r[4]*n,e[5]=t[5]*i+r[5]*n,e[6]=t[6]*i+r[6]*n,e[7]=t[7]*i+r[7]*n,e}function R3(e,t){var r=ta(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function $3(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var t0=mc,I3=t0,ta=yc,A3=ta;function N3(e,t){var r=ta(t);if(r>0){r=Math.sqrt(r);var n=t[0]/r,i=t[1]/r,o=t[2]/r,s=t[3]/r,a=t[4],l=t[5],u=t[6],c=t[7],h=n*a+i*l+o*u+s*c;e[0]=n,e[1]=i,e[2]=o,e[3]=s,e[4]=(a-n*h)/r,e[5]=(l-i*h)/r,e[6]=(u-o*h)/r,e[7]=(c-s*h)/r}return e}function O3(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function D3(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function H3(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=t[0],h=t[1],f=t[2],d=t[3],p=t[4],w=t[5],g=t[6],m=t[7];return Math.abs(r-c)<=O*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-h)<=O*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-f)<=O*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-d)<=O*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-p)<=O*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(a-w)<=O*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(l-g)<=O*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-m)<=O*Math.max(1,Math.abs(u),Math.abs(m))}const F3=Object.freeze(Object.defineProperty({__proto__:null,add:P3,clone:a3,conjugate:$3,copy:Kp,create:s3,dot:e0,equals:H3,exactEquals:D3,fromMat4:f3,fromRotation:h3,fromRotationTranslation:Zp,fromRotationTranslationValues:u3,fromTranslation:c3,fromValues:l3,getDual:m3,getReal:p3,getTranslation:g3,identity:d3,invert:R3,len:I3,length:t0,lerp:L3,mul:z3,multiply:Jp,normalize:N3,rotateAroundAxis:C3,rotateByQuatAppend:M3,rotateByQuatPrepend:T3,rotateX:x3,rotateY:E3,rotateZ:S3,scale:k3,set:v3,setDual:_3,setReal:y3,sqrLen:A3,squaredLength:ta,str:O3,translate:w3},Symbol.toStringTag,{value:"Module"}));function r0(){var e=new B(2);return B!=Float32Array&&(e[0]=0,e[1]=0),e}function j3(e){var t=new B(2);return t[0]=e[0],t[1]=e[1],t}function V3(e,t){var r=new B(2);return r[0]=e,r[1]=t,r}function U3(e,t){return e[0]=t[0],e[1]=t[1],e}function W3(e,t,r){return e[0]=t,e[1]=r,e}function B3(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function n0(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function i0(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function o0(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function Y3(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function b3(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function X3(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function G3(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function q3(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Q3(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function Z3(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function s0(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.hypot(r,n)}function a0(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function l0(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function u0(e){var t=e[0],r=e[1];return t*t+r*r}function K3(e,t){return e[0]=-t[0],e[1]=-t[1],e}function J3(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function eE(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function tE(e,t){return e[0]*t[0]+e[1]*t[1]}function rE(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function nE(e,t,r,n){var i=t[0],o=t[1];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e}function iE(e,t){t=t||1;var r=Mt()*2*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function oE(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function sE(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function aE(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function lE(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function uE(e,t,r,n){var i=t[0]-r[0],o=t[1]-r[1],s=Math.sin(n),a=Math.cos(n);return e[0]=i*a-o*s+r[0],e[1]=i*s+o*a+r[1],e}function cE(e,t){var r=e[0],n=e[1],i=t[0],o=t[1],s=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+o*o),a=s&&(r*i+n*o)/s;return Math.acos(Math.min(Math.max(a,-1),1))}function hE(e){return e[0]=0,e[1]=0,e}function fE(e){return"vec2("+e[0]+", "+e[1]+")"}function dE(e,t){return e[0]===t[0]&&e[1]===t[1]}function vE(e,t){var r=e[0],n=e[1],i=t[0],o=t[1];return Math.abs(r-i)<=O*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=O*Math.max(1,Math.abs(n),Math.abs(o))}var pE=l0,mE=n0,yE=i0,_E=o0,gE=s0,wE=a0,xE=u0,EE=function(){var e=r0();return function(t,r,n,i,o,s){var a,l;for(r||(r=2),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,a=n;a<l;a+=r)e[0]=t[a],e[1]=t[a+1],o(e,e,s),t[a]=e[0],t[a+1]=e[1];return t}}();const SE=Object.freeze(Object.defineProperty({__proto__:null,add:B3,angle:cE,ceil:Y3,clone:j3,copy:U3,create:r0,cross:rE,dist:gE,distance:s0,div:_E,divide:o0,dot:tE,equals:vE,exactEquals:dE,floor:b3,forEach:EE,fromValues:V3,inverse:J3,len:pE,length:l0,lerp:nE,max:G3,min:X3,mul:yE,multiply:i0,negate:K3,normalize:eE,random:iE,rotate:uE,round:q3,scale:Q3,scaleAndAdd:Z3,set:W3,sqrDist:wE,sqrLen:xE,squaredDistance:a0,squaredLength:u0,str:fE,sub:mE,subtract:n0,transformMat2:oE,transformMat2d:sE,transformMat3:aE,transformMat4:lE,zero:hE},Symbol.toStringTag,{value:"Module"})),ME=Object.freeze(Object.defineProperty({__proto__:null,glMatrix:_g,mat2:Wg,mat2d:d2,mat3:W2,mat4:Lw,quat:o3,quat2:F3,vec2:SE,vec3:fx,vec4:Nx},Symbol.toStringTag,{value:"Module"})),Ae=F1(ME);function TE(e,t,r){return Math.min(Math.max(e,t),r)}var Kn=TE,CE=256,tf=256,Bo=Kn,PE=Ae.vec4,Is=Ae.vec3,In=Ae.mat4;function rf(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw e.getShaderInfoLog(n);return n}function zE(e,t,r,n,i){var o=rf(e,e.VERTEX_SHADER,t),s=rf(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,o),e.attachShader(a,s),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw e.getProgramInfoLog(a);for(var l=0;l<n.length;l++){var u=n[l];if(a[u]=e.getAttribLocation(a,u),a[u]===-1)throw new Error("Shader program has no "+u+" attribute")}for(var c=0;c<i.length;c++){var h=i[c];if(a[h]=e.getUniformLocation(a,h),a[h]===-1)throw new Error("Shader program has no "+h+" uniform")}return a}function kE(e,t){for(var r=e.getAttachedShaders(t),n=0;n<r.length;n++){var i=r[n];e.detachShader(t,i),e.deleteShader(i)}e.deleteProgram(t)}function Ga(e,t,r,n){var i=e.createBuffer();return e.bindBuffer(t,i),e.bufferData(t,n,r),i}function LE(e,t,r,n){return{vertexIndices:Ga(e,e.ELEMENT_ARRAY_BUFFER,e.STATIC_DRAW,new Uint16Array(t)),vertexPositions:Ga(e,e.ARRAY_BUFFER,e.STATIC_DRAW,new Float32Array(r)),textureCoords:Ga(e,e.ARRAY_BUFFER,e.STATIC_DRAW,new Float32Array(n))}}function RE(e,t){e.deleteBuffer(t.vertexIndices),e.deleteBuffer(t.vertexPositions),e.deleteBuffer(t.textureCoords)}function $E(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<r;n++)e.enableVertexAttribArray(n)}function IE(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<r;n++)e.disableVertexAttribArray(n)}function AE(e,t,r){e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,r._texture),e.uniform1i(t.uSampler,0)}function NE(e,t,r,n){var i=((r+1)*tf-n)/(tf*CE);e.uniform1f(t.uDepth,i)}var OE=1,DE=PE.create(),c0=In.create();In.identity(c0);function HE(e,t,r){var n=OE;t&&t.opacity!=null&&(n=t.opacity),e.uniform1f(r.opacity,n);var i=DE;t&&t.colorOffset&&(i=t.colorOffset),e.uniform4fv(r.colorOffset,i);var o=c0;t&&t.colorMatrix&&(o=t.colorMatrix),e.uniformMatrix4fv(r.colorMatrix,!1,o)}var nf=Is.create(),of=Is.create();function FE(e,t,r,n){if(r.x===0&&r.width===1&&r.y===0&&r.height===1){e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),In.identity(n);return}var i=r.x,o=Bo(i,0,1),s=o-i,a=1-o,l=Bo(r.width-s,0,a),u=r.width-l,c=1-r.height-r.y,h=Bo(c,0,1),f=h-c,d=1-h,p=Bo(r.height-f,0,d),w=r.height-p;Is.set(of,r.width/l,r.height/p,1),Is.set(nf,(u-s)/l,(w-f)/p,0),In.identity(n),In.translate(n,n,nf),In.scale(n,n,of),e.viewport(e.drawingBufferWidth*o,e.drawingBufferHeight*h,e.drawingBufferWidth*l,e.drawingBufferHeight*p)}var h0={createShaderProgram:zE,destroyShaderProgram:kE,createConstantBuffers:LE,destroyConstantBuffers:RE,enableAttributes:$E,disableAttributes:IE,setTexture:AE,setDepth:NE,setViewport:FE,setupPixelEffectUniforms:HE},jE=["attribute vec3 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float uDepth;","uniform mat4 uViewportMatrix;","uniform mat4 uProjMatrix;","varying vec2 vTextureCoord;","void main(void) {","  gl_Position = uViewportMatrix * uProjMatrix * vec4(aVertexPosition.xy, 0.0, 1.0);","  gl_Position.z = uDepth * gl_Position.w;","  vTextureCoord = aTextureCoord;","}"].join(`
`),VE=["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uSampler;","uniform float uOpacity;","uniform vec4 uColorOffset;","uniform mat4 uColorMatrix;","varying vec2 vTextureCoord;","void main(void) {","  vec4 color = texture2D(uSampler, vTextureCoord) * uColorMatrix + uColorOffset;","  gl_FragColor = vec4(color.rgba * uOpacity);","}"].join(`
`),br=Ae.mat4,sf=Ae.vec3,UE=ie,Ft=h0,WE=Ft.createConstantBuffers,BE=Ft.destroyConstantBuffers,YE=Ft.createShaderProgram,bE=Ft.destroyShaderProgram,XE=Ft.enableAttributes,GE=Ft.disableAttributes,qE=Ft.setViewport,QE=Ft.setupPixelEffectUniforms,ZE=Ft.setDepth,KE=Ft.setTexture,JE=jE,e4=VE,f0=[0,1,2,0,2,3],t4=[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],r4=[0,0,1,0,1,1,0,1],n4=["aVertexPosition","aTextureCoord"],i4=["uDepth","uOpacity","uSampler","uProjMatrix","uViewportMatrix","uColorOffset","uColorMatrix"];function so(e){this.gl=e,this.projMatrix=br.create(),this.viewportMatrix=br.create(),this.translateVector=sf.create(),this.scaleVector=sf.create(),this.constantBuffers=WE(e,f0,t4,r4),this.shaderProgram=YE(e,JE,e4,n4,i4)}so.prototype.destroy=function(){BE(this.gl,this.constantBuffers),bE(this.gl,this.shaderProgram),UE(this)};so.prototype.startLayer=function(e,t){var r=this.gl,n=this.shaderProgram,i=this.constantBuffers,o=this.viewportMatrix;r.useProgram(n),XE(r,n),qE(r,e,t,o),r.uniformMatrix4fv(n.uViewportMatrix,!1,o),r.bindBuffer(r.ARRAY_BUFFER,i.vertexPositions),r.vertexAttribPointer(n.aVertexPosition,3,r.FLOAT,r.FALSE,0,0),r.bindBuffer(r.ARRAY_BUFFER,i.textureCoords),r.vertexAttribPointer(n.aTextureCoord,2,r.FLOAT,r.FALSE,0,0),QE(r,e.effects(),{opacity:n.uOpacity,colorOffset:n.uColorOffset,colorMatrix:n.uColorMatrix})};so.prototype.endLayer=function(e,t){var r=this.gl,n=this.shaderProgram;GE(r,n)};so.prototype.renderTile=function(e,t,r,n){var i=this.gl,o=this.shaderProgram,s=this.constantBuffers,a=this.projMatrix,l=this.translateVector,u=this.scaleVector;l[0]=e.centerX(),l[1]=e.centerY(),l[2]=-.5,u[0]=e.scaleX(),u[1]=e.scaleY(),u[2]=1,br.copy(a,r.view().projection()),br.rotateX(a,a,e.rotX()),br.rotateY(a,a,e.rotY()),br.translate(a,a,l),br.scale(a,a,u),i.uniformMatrix4fv(o.uProjMatrix,!1,a),ZE(i,o,n,e.z),KE(i,o,t),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,s.vertexIndices),i.drawElements(i.TRIANGLES,f0.length,i.UNSIGNED_SHORT,0)};var d0=so,o4=d0,s4=Ht;function v0(){this.constructor.super_.apply(this,arguments)}s4(v0,o4);var p0=v0,a4=d0,l4=Ht;function m0(){this.constructor.super_.apply(this,arguments)}l4(m0,a4);var y0=m0,u4=["attribute vec3 aVertexPosition;","uniform float uDepth;","uniform mat4 uViewportMatrix;","uniform mat4 uInvProjMatrix;","varying vec4 vRay;","void main(void) {","  vRay = uInvProjMatrix * vec4(aVertexPosition.xy, 1.0, 1.0);","  gl_Position = uViewportMatrix * vec4(aVertexPosition.xy, uDepth, 1.0);","}"].join(`
`),c4=["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float","#endif","uniform sampler2D uSampler;","uniform float uOpacity;","uniform float uTextureX;","uniform float uTextureY;","uniform float uTextureWidth;","uniform float uTextureHeight;","uniform vec4 uColorOffset;","uniform mat4 uColorMatrix;","varying vec4 vRay;","const float PI = 3.14159265358979323846264;","void main(void) {","  float r = inversesqrt(vRay.x * vRay.x + vRay.y * vRay.y + vRay.z * vRay.z);","  float phi  = acos(vRay.y * r);","  float theta = atan(vRay.x, -1.0*vRay.z);","  float s = 0.5 + 0.5 * theta / PI;","  float t = 1.0 - phi / PI;","  s = s * uTextureWidth + uTextureX;","  t = t * uTextureHeight + uTextureY;","  vec4 color = texture2D(uSampler, vec2(s, t)) * uColorMatrix + uColorOffset;","  gl_FragColor = vec4(color.rgba * uOpacity);","}"].join(`
`),As=Ae.mat4,h4=ie,jt=h0,f4=jt.createConstantBuffers,d4=jt.destroyConstantBuffers,v4=jt.createShaderProgram,p4=jt.destroyShaderProgram,m4=jt.enableAttributes,y4=jt.disableAttributes,_4=jt.setViewport,g4=jt.setupPixelEffectUniforms,w4=jt.setDepth,x4=jt.setTexture,E4=u4,S4=c4,_0=[0,1,2,0,2,3],M4=[-1,-1,0,1,-1,0,1,1,0,-1,1,0],T4=[0,0,1,0,1,1,0,1],C4=["aVertexPosition"],P4=["uDepth","uOpacity","uSampler","uInvProjMatrix","uViewportMatrix","uColorOffset","uColorMatrix","uTextureX","uTextureY","uTextureWidth","uTextureHeight"];function ao(e){this.gl=e,this.invProjMatrix=As.create(),this.viewportMatrix=As.create(),this.constantBuffers=f4(e,_0,M4,T4),this.shaderProgram=v4(e,E4,S4,C4,P4)}ao.prototype.destroy=function(){d4(this.gl,this.constantBuffers),p4(this.gl,this.shaderProgram),h4(this)};ao.prototype.startLayer=function(e,t){var r=this.gl,n=this.shaderProgram,i=this.constantBuffers,o=this.invProjMatrix,s=this.viewportMatrix;r.useProgram(n),m4(r,n),_4(r,e,t,s),r.uniformMatrix4fv(n.uViewportMatrix,!1,s),r.bindBuffer(r.ARRAY_BUFFER,i.vertexPositions),r.vertexAttribPointer(n.aVertexPosition,3,r.FLOAT,r.FALSE,0,0),r.bindBuffer(r.ARRAY_BUFFER,i.textureCoords),As.copy(o,e.view().projection()),As.invert(o,o),r.uniformMatrix4fv(n.uInvProjMatrix,!1,o);var a=e.effects().textureCrop||{},l=a.x!=null?a.x:0,u=a.y!=null?a.y:0,c=a.width!=null?a.width:1,h=a.height!=null?a.height:1;r.uniform1f(n.uTextureX,l),r.uniform1f(n.uTextureY,u),r.uniform1f(n.uTextureWidth,c),r.uniform1f(n.uTextureHeight,h),g4(r,e.effects(),{opacity:n.uOpacity,colorOffset:n.uColorOffset,colorMatrix:n.uColorMatrix})};ao.prototype.endLayer=function(e,t){var r=this.gl,n=this.shaderProgram;y4(r,n)};ao.prototype.renderTile=function(e,t,r,n){var i=this.gl,o=this.shaderProgram,s=this.constantBuffers;w4(i,o,n,e.z),x4(i,o,t),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,s.vertexIndices),i.drawElements(i.TRIANGLES,_0.length,i.UNSIGNED_SHORT,0)};var g0=ao,z4=p0,k4=y0,L4=g0;function R4(e){switch(e.type){case"webgl":e.registerRenderer("flat","flat",k4),e.registerRenderer("cube","rectilinear",z4),e.registerRenderer("equirect","rectilinear",L4);break;default:throw new Error("Unknown stage type: "+e.type)}}var w0=R4;function $4(){for(var e=0,t=0;t<arguments.length;t++){var r=arguments[t];e+=r,e+=r<<10,e^=r>>6}return e+=e<<3,e^=e>>11,e+=e<<15,e>=0?e:-e}var ra=$4;function I4(e,t){return(+e%(t=+t)+t)%t}var Or=I4,gc=Or,A4=64;function un(e){if(e!=null&&(!isFinite(e)||Math.floor(e)!==e||e<1))throw new Error("Set: invalid capacity");this._capacity=this._capacity||A4,this._buckets=[];for(var t=0;t<this._capacity;t++)this._buckets.push([]);this._size=0}un.prototype.add=function(e){for(var t=gc(e.hash(),this._capacity),r=this._buckets[t],n=0;n<r.length;n++){var i=r[n];if(e.equals(i))return r[n]=e,i}return r.push(e),this._size++,null};un.prototype.remove=function(e){for(var t=gc(e.hash(),this._capacity),r=this._buckets[t],n=0;n<r.length;n++){var i=r[n];if(e.equals(i)){for(var o=n;o<r.length-1;o++)r[o]=r[o+1];return r.length=r.length-1,this._size--,i}}return null};un.prototype.has=function(e){for(var t=gc(e.hash(),this._capacity),r=this._buckets[t],n=0;n<r.length;n++){var i=r[n];if(e.equals(i))return!0}return!1};un.prototype.size=function(){return this._size};un.prototype.clear=function(){for(var e=0;e<this._capacity;e++)this._buckets[e].length=0;this._size=0};un.prototype.forEach=function(e){for(var t=0,r=0;r<this._capacity;r++)for(var n=this._buckets[r],i=0;i<n.length;i++)e(n[i]),t+=1;return t};var x0=un,N4=x0;function wc(){this._stack=[],this._visited=new N4,this._vertices=null}wc.prototype.search=function(e,t,r){var n=this._stack,i=this._visited,o=this._vertices,s=0;for(this._clear(),n.push(t);n.length>0;){var a=n.pop();if(!i.has(a)&&e.intersects(a.vertices(o))){i.add(a);for(var l=a.neighbors(),u=0;u<l.length;u++)n.push(l[u]);r.push(a),s++}}return this._vertices=o,this._clear(),s};wc.prototype._clear=function(){this._stack.length=0,this._visited.clear()};var E0=wc,O4=Or;function ar(e){if(!isFinite(e)||Math.floor(e)!==e||e<0)throw new Error("LruMap: invalid capacity");this._capacity=e,this._keys=new Array(this._capacity),this._values=new Array(this._capacity),this._start=0,this._size=0}ar.prototype._index=function(e){return O4(this._start+e,this._capacity)};ar.prototype.get=function(e){for(var t=0;t<this._size;t++){var r=this._keys[this._index(t)];if(e.equals(r))return this._values[this._index(t)]}return null};ar.prototype.set=function(e,t){if(this._capacity===0)return e;this.del(e);var r=this._size===this._capacity?this._keys[this._index(0)]:null;return this._keys[this._index(this._size)]=e,this._values[this._index(this._size)]=t,this._size<this._capacity?this._size++:this._start=this._index(1),r};ar.prototype.del=function(e){for(var t=0;t<this._size;t++)if(e.equals(this._keys[this._index(t)])){for(var r=this._values[this._index(t)],n=t;n<this._size-1;n++)this._keys[this._index(n)]=this._keys[this._index(n+1)],this._values[this._index(n)]=this._values[this._index(n+1)];return this._size--,r}return null};ar.prototype.has=function(e){for(var t=0;t<this._size;t++)if(e.equals(this._keys[this._index(t)]))return!0;return!1};ar.prototype.size=function(){return this._size};ar.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._start=0,this._size=0};ar.prototype.forEach=function(e){for(var t=0,r=0;r<this._size;r++)e(this._keys[this._index(r)],this._values[this._index(r)]),t+=1;return t};var S0=ar;function na(e){this._fallbackOnly=!!e.fallbackOnly}na.prototype.numHorizontalTiles=function(){return Math.ceil(this.width()/this.tileWidth())};na.prototype.numVerticalTiles=function(){return Math.ceil(this.height()/this.tileHeight())};na.prototype.fallbackOnly=function(){return this._fallbackOnly};var xc=na;function D4(e,t){return e<t?-1:e>t?1:0}var lo=D4,H4=lo;function F4(e,t){for(var r=[],n=0;n<e.length;n++)r.push(new t(e[n]));return r.sort(function(i,o){return H4(i.width(),o.width())}),r}function j4(e){for(var t=[],r=0;r<e.length;r++)e[r]._fallbackOnly||t.push(e[r]);if(!t.length)throw new Error("No selectable levels in list");return t}var uo={makeLevelList:F4,makeSelectableLevelList:j4};function V4(e){var t=typeof e;if(t==="object"){if(e===null)return"null";if(Object.prototype.toString.call(e)==="[object Array]")return"array";if(Object.prototype.toString.call(e)==="[object RegExp]")return"regexp"}return t}var co=V4,U4=Ht,W4=ra,B4=E0,Y4=S0,b4=xc,X4=uo.makeLevelList,G4=uo.makeSelectableLevelList,Ns=Kn,Yo=lo,q4=co,Ge=Ae.vec3,nu=Ae.vec4,Q4=64,nn="fudlrb",on={f:{x:0,y:0},b:{x:0,y:Math.PI},l:{x:0,y:Math.PI/2},r:{x:0,y:-Math.PI/2},u:{x:Math.PI/2,y:0},d:{x:-Math.PI/2,y:0}},af=Ge.create();function Zi(e,t,r,n){r&&Ge.rotateX(e,e,af,r),n&&Ge.rotateY(e,e,af,n)}var iu={};for(var qa=0;qa<nn.length;qa++){var lf=nn[qa],uf=on[lf],cf=Ge.fromValues(0,0,-1);Zi(cf,0,uf.x,uf.y),iu[lf]=cf}var bo={f:["l","r","u","d"],b:["r","l","u","d"],l:["b","f","u","d"],r:["f","b","u","d"],u:["l","r","b","f"],d:["l","r","f","b"]},Qa=[[0,1],[1,0],[0,-1],[-1,0]];function me(e,t,r,n,i){this.face=e,this.x=t,this.y=r,this.z=n,this._geometry=i,this._level=i.levelList[n]}me.prototype.rotX=function(){return on[this.face].x};me.prototype.rotY=function(){return on[this.face].y};me.prototype.centerX=function(){return(this.x+.5)/this._level.numHorizontalTiles()-.5};me.prototype.centerY=function(){return .5-(this.y+.5)/this._level.numVerticalTiles()};me.prototype.scaleX=function(){return 1/this._level.numHorizontalTiles()};me.prototype.scaleY=function(){return 1/this._level.numVerticalTiles()};me.prototype.vertices=function(e){e||(e=[Ge.create(),Ge.create(),Ge.create(),Ge.create()]);var t=on[this.face];function r(a,l,u){Ge.set(a,l,u,-.5),Zi(a,0,t.x,t.y)}var n=this.centerX()-this.scaleX()/2,i=this.centerX()+this.scaleX()/2,o=this.centerY()-this.scaleY()/2,s=this.centerY()+this.scaleY()/2;return r(e[0],n,s),r(e[1],i,s),r(e[2],i,o),r(e[3],n,o),e};me.prototype.parent=function(){if(this.z===0)return null;var e=this.face,t=this.z,r=this.x,n=this.y,i=this._geometry,o=i.levelList[t],s=i.levelList[t-1],a=Math.floor(r/o.numHorizontalTiles()*s.numHorizontalTiles()),l=Math.floor(n/o.numVerticalTiles()*s.numVerticalTiles()),u=t-1;return new me(e,a,l,u,i)};me.prototype.children=function(e){if(this.z===this._geometry.levelList.length-1)return null;var t=this.face,r=this.z,n=this.x,i=this.y,o=this._geometry,s=o.levelList[r],a=o.levelList[r+1],l=a.numHorizontalTiles()/s.numHorizontalTiles(),u=a.numVerticalTiles()/s.numVerticalTiles();e=e||[];for(var c=0;c<l;c++)for(var h=0;h<u;h++){var f=l*n+c,d=u*i+h,p=r+1;e.push(new me(t,f,d,p,o))}return e};me.prototype.neighbors=function(){var e=this._geometry,t=e._neighborsCache,r=t.get(this);if(r)return r;for(var n=e._vec,i=this.face,o=this.x,s=this.y,a=this.z,l=this._level,u=l.numHorizontalTiles(),c=l.numVerticalTiles(),h=[],f=0;f<Qa.length;f++){var d=Qa[f][0],p=Qa[f][1],w=o+d,g=s+p,m=a,y=i;if(w<0||w>=u||g<0||g>=c){var x=this.centerX(),S=this.centerY();w<0?(Ge.set(n,-.5,S,-.5),y=bo[i][0]):w>=u?(Ge.set(n,.5,S,-.5),y=bo[i][1]):g<0?(Ge.set(n,x,.5,-.5),y=bo[i][2]):g>=c&&(Ge.set(n,x,-.5,-.5),y=bo[i][3]);var C;C=on[i],Zi(n,0,C.x,C.y),C=on[y],Zi(n,0,-C.x,-C.y),w=Ns(Math.floor((.5+n[0])*u),0,u-1),g=Ns(Math.floor((.5-n[1])*c),0,c-1)}h.push(new me(y,w,g,m,e))}return t.set(this,h),h};me.prototype.hash=function(){return W4(nn.indexOf(this.face),this.z,this.y,this.x)};me.prototype.equals=function(e){return this._geometry===e._geometry&&this.face===e.face&&this.z===e.z&&this.y===e.y&&this.x===e.x};me.prototype.cmp=function(e){return Yo(this.z,e.z)||Yo(nn.indexOf(this.face),nn.indexOf(e.face))||Yo(this.y,e.y)||Yo(this.x,e.x)};me.prototype.str=function(){return"CubeTile("+tile.face+", "+tile.x+", "+tile.y+", "+tile.z+")"};function cn(e){if(this.constructor.super_.call(this,e),this._size=e.size,this._tileSize=e.tileSize,this._size%this._tileSize!==0)throw new Error("Level size is not multiple of tile size: "+this._size+" "+this._tileSize)}U4(cn,b4);cn.prototype.width=function(){return this._size};cn.prototype.height=function(){return this._size};cn.prototype.tileWidth=function(){return this._tileSize};cn.prototype.tileHeight=function(){return this._tileSize};cn.prototype._validateWithParentLevel=function(e){var t=this.width(),r=this.height(),n=this.tileWidth(),i=this.tileHeight(),o=this.numHorizontalTiles(),s=this.numVerticalTiles(),a=e.width(),l=e.height(),u=e.tileWidth(),c=e.tileHeight(),h=e.numHorizontalTiles(),f=e.numVerticalTiles();if(t%a!==0)throw new Error("Level width must be multiple of parent level: "+t+" vs. "+a);if(r%l!==0)throw new Error("Level height must be multiple of parent level: "+r+" vs. "+l);if(o%h!==0)throw new Error("Number of horizontal tiles must be multiple of parent level: "+o+" ("+t+"/"+n+") vs. "+h+" ("+a+"/"+u+")");if(s%f!==0)throw new Error("Number of vertical tiles must be multiple of parent level: "+s+" ("+r+"/"+i+") vs. "+f+" ("+l+"/"+c+")")};function rr(e){if(q4(e)!=="array")throw new Error("Level list must be an array");this.levelList=X4(e,cn),this.selectableLevelList=G4(this.levelList);for(var t=1;t<this.levelList.length;t++)this.levelList[t]._validateWithParentLevel(this.levelList[t-1]);this._tileSearcher=new B4,this._neighborsCache=new Y4(Q4),this._vec=nu.create(),this._viewSize={}}rr.prototype.maxTileSize=function(){for(var e=0,t=0;t<this.levelList.length;t++){var r=this.levelList[t];e=Math.max(e,r.tileWidth,r.tileHeight)}return e};rr.prototype.levelTiles=function(e,t){var r=this.levelList.indexOf(e),n=e.numHorizontalTiles()-1,i=e.numVerticalTiles()-1;t=t||[];for(var o=0;o<nn.length;o++)for(var s=nn[o],a=0;a<=n;a++)for(var l=0;l<=i;l++)t.push(new me(s,a,l,r,this));return t};rr.prototype._closestTile=function(e,t){var r=this._vec;nu.set(r,0,0,1,1),nu.transformMat4(r,r,e.inverseProjection());var n=1/0,i=null;for(var o in iu){var s=iu[o],a=1-Ge.dot(s,r);a<n&&(n=a,i=o)}for(var l=Math.max(Math.abs(r[0]),Math.abs(r[1]),Math.abs(r[2]))/.5,u=0;u<3;u++)r[u]=r[u]/l;var c=on[i];Zi(r,0,-c.x,-c.y);var h=this.levelList.indexOf(t),f=t.numHorizontalTiles(),d=t.numVerticalTiles(),p=Ns(Math.floor((.5+r[0])*f),0,f-1),w=Ns(Math.floor((.5-r[1])*d),0,d-1);return new me(i,p,w,h,this)};rr.prototype.visibleTiles=function(e,t,r){var n=this._viewSize,i=this._tileSearcher;if(r=r||[],e.size(n),n.width===0||n.height===0)return r;var o=this._closestTile(e,t),s=i.search(e,o,r);if(!s)throw new Error("Starting tile is not visible");return r};rr.Tile=rr.prototype.Tile=me;rr.type=rr.prototype.type="cube";me.type=me.prototype.type="cube";var Z4=rr,K4=Ht,J4=ra,eS=E0,tS=S0,rS=xc,nS=uo.makeLevelList,iS=uo.makeSelectableLevelList,hf=Kn,M0=Or,Za=lo,oS=co,fr=Ae.vec2,ou=Ae.vec4,sS=64,Ka=[[0,1],[1,0],[0,-1],[-1,0]];function J(e,t,r,n){this.x=e,this.y=t,this.z=r,this._geometry=n,this._level=n.levelList[r]}J.prototype.rotX=function(){return 0};J.prototype.rotY=function(){return 0};J.prototype.centerX=function(){var e=this._level.width(),t=this._level.tileWidth();return(this.x*t+.5*this.width())/e-.5};J.prototype.centerY=function(){var e=this._level.height(),t=this._level.tileHeight();return .5-(this.y*t+.5*this.height())/e};J.prototype.scaleX=function(){var e=this._level.width();return this.width()/e};J.prototype.scaleY=function(){var e=this._level.height();return this.height()/e};J.prototype.width=function(){var e=this._level.width(),t=this._level.tileWidth();if(this.x===this._level.numHorizontalTiles()-1){var r=M0(e,t);return r||t}else return t};J.prototype.height=function(){var e=this._level.height(),t=this._level.tileHeight();if(this.y===this._level.numVerticalTiles()-1){var r=M0(e,t);return r||t}else return t};J.prototype.levelWidth=function(){return this._level.width()};J.prototype.levelHeight=function(){return this._level.height()};J.prototype.vertices=function(e){e||(e=[fr.create(),fr.create(),fr.create(),fr.create()]);var t=this.centerX()-this.scaleX()/2,r=this.centerX()+this.scaleX()/2,n=this.centerY()-this.scaleY()/2,i=this.centerY()+this.scaleY()/2;return fr.set(e[0],t,i),fr.set(e[1],r,i),fr.set(e[2],r,n),fr.set(e[3],t,n),e};J.prototype.parent=function(){if(this.z===0)return null;var e=this._geometry,t=this.z-1,r=Math.floor(this.x/2),n=Math.floor(this.y/2);return new J(r,n,t,e)};J.prototype.children=function(e){if(this.z===this._geometry.levelList.length-1)return null;var t=this._geometry,r=this.z+1;return e=e||[],e.push(new J(2*this.x,2*this.y,r,t)),e.push(new J(2*this.x,2*this.y+1,r,t)),e.push(new J(2*this.x+1,2*this.y,r,t)),e.push(new J(2*this.x+1,2*this.y+1,r,t)),e};J.prototype.neighbors=function(){var e=this._geometry,t=e._neighborsCache,r=t.get(this);if(r)return r;for(var n=this.x,i=this.y,o=this.z,s=this._level,a=s.numHorizontalTiles()-1,l=s.numVerticalTiles()-1,u=[],c=0;c<Ka.length;c++){var h=Ka[c][0],f=Ka[c][1],d=n+h,p=i+f,w=o;0<=d&&d<=a&&0<=p&&p<=l&&u.push(new J(d,p,w,e))}return t.set(this,u),u};J.prototype.hash=function(){return J4(this.z,this.y,this.x)};J.prototype.equals=function(e){return this._geometry===e._geometry&&this.z===e.z&&this.y===e.y&&this.x===e.x};J.prototype.cmp=function(e){return Za(this.z,e.z)||Za(this.y,e.y)||Za(this.x,e.x)};J.prototype.str=function(){return"FlatTile("+tile.x+", "+tile.y+", "+tile.z+")"};function hn(e){this.constructor.super_.call(this,e),this._width=e.width,this._height=e.height,this._tileWidth=e.tileWidth,this._tileHeight=e.tileHeight}K4(hn,rS);hn.prototype.width=function(){return this._width};hn.prototype.height=function(){return this._height};hn.prototype.tileWidth=function(){return this._tileWidth};hn.prototype.tileHeight=function(){return this._tileHeight};hn.prototype._validateWithParentLevel=function(e){var t=this.width(),r=this.height(),n=this.tileWidth(),i=this.tileHeight(),o=e.width(),s=e.height(),a=e.tileWidth(),l=e.tileHeight();if(t%o!==0)return new Error("Level width must be multiple of parent level: "+t+" vs. "+o);if(r%s!==0)return new Error("Level height must be multiple of parent level: "+r+" vs. "+s);if(n%a!==0)return new Error("Level tile width must be multiple of parent level: "+n+" vs. "+a);if(i%l!==0)return new Error("Level tile height must be multiple of parent level: "+i+" vs. "+l)};function nr(e){if(oS(e)!=="array")throw new Error("Level list must be an array");this.levelList=nS(e,hn),this.selectableLevelList=iS(this.levelList);for(var t=1;t<this.levelList.length;t++)this.levelList[t]._validateWithParentLevel(this.levelList[t-1]);this._tileSearcher=new eS,this._neighborsCache=new tS(sS),this._vec=ou.create(),this._viewSize={}}nr.prototype.maxTileSize=function(){for(var e=0,t=0;t<this.levelList.length;t++){var r=this.levelList[t];e=Math.max(e,r.tileWidth,r.tileHeight)}return e};nr.prototype.levelTiles=function(e,t){var r=this.levelList.indexOf(e),n=e.numHorizontalTiles()-1,i=e.numVerticalTiles()-1;t||(t=[]);for(var o=0;o<=n;o++)for(var s=0;s<=i;s++)t.push(new J(o,s,r,this));return t};nr.prototype._closestTile=function(e,t){var r=this._vec;ou.set(r,0,0,1,1),ou.transformMat4(r,r,e.inverseProjection());var n=.5+r[0],i=.5-r[1],o=this.levelList.indexOf(t),s=t.width(),a=t.height(),l=t.tileWidth(),u=t.tileHeight(),c=t.numHorizontalTiles(),h=t.numVerticalTiles(),f=hf(Math.floor(n*s/l),0,c-1),d=hf(Math.floor(i*a/u),0,h-1);return new J(f,d,o,this)};nr.prototype.visibleTiles=function(e,t,r){var n=this._viewSize,i=this._tileSearcher;if(r=r||[],e.size(n),n.width===0||n.height===0)return r;var o=this._closestTile(e,t),s=i.search(e,o,r);if(!s)throw new Error("Starting tile is not visible");return r};nr.Tile=nr.prototype.Tile=J;nr.type=nr.prototype.type="flat";J.type=J.prototype.type="flat";var aS=nr,lS=Ht,uS=ra,cS=lo,ff=uo,hS=xc,fS=co;function we(e,t){this.z=e,this._geometry=t,this._level=t.levelList[e]}we.prototype.rotX=function(){return 0};we.prototype.rotY=function(){return 0};we.prototype.centerX=function(){return .5};we.prototype.centerY=function(){return .5};we.prototype.scaleX=function(){return 1};we.prototype.scaleY=function(){return 1};we.prototype.parent=function(){return this.z===0?null:new we(this.z-1,this._geometry)};we.prototype.children=function(e){return this.z===this._geometry.levelList.length-1?null:(e=e||[],e.push(new we(this.z+1,this._geometry)),e)};we.prototype.neighbors=function(){return[]};we.prototype.hash=function(){return uS(this.z)};we.prototype.equals=function(e){return this._geometry===e._geometry&&this.z===e.z};we.prototype.cmp=function(e){return cS(this.z,e.z)};we.prototype.str=function(){return"EquirectTile("+tile.z+")"};function Jn(e){this.constructor.super_.call(this,e),this._width=e.width}lS(Jn,hS);Jn.prototype.width=function(){return this._width};Jn.prototype.height=function(){return this._width/2};Jn.prototype.tileWidth=function(){return this._width};Jn.prototype.tileHeight=function(){return this._width/2};function Rr(e){if(fS(e)!=="array")throw new Error("Level list must be an array");this.levelList=ff.makeLevelList(e,Jn),this.selectableLevelList=ff.makeSelectableLevelList(this.levelList)}Rr.prototype.maxTileSize=function(){for(var e=0,t=0;t<this.levelList.length;t++){var r=this.levelList[t];e=Math.max(e,r.tileWidth,r.tileHeight)}return e};Rr.prototype.levelTiles=function(e,t){var r=this.levelList.indexOf(e);return t=t||[],t.push(new we(r,this)),t};Rr.prototype.visibleTiles=function(e,t,r){var n=new we(this.levelList.indexOf(t),this);r=r||[],r.length=0,r.push(n)};Rr.Tile=Rr.prototype.Tile=we;Rr.type=Rr.prototype.type="equirect";we.type=we.prototype.type="equirect";var dS=Rr;function fn(e,t,r){return 2*Math.atan(r*Math.tan(e/2)/t)}function vS(e,t,r){return fn(e,t,r)}function pS(e,t,r){return fn(e,t,Math.sqrt(t*t+r*r))}function mS(e,t,r){return fn(e,r,t)}function yS(e,t,r){return fn(e,r,Math.sqrt(t*t+r*r))}function _S(e,t,r){return fn(e,Math.sqrt(t*t+r*r),t)}function gS(e,t,r){return fn(e,Math.sqrt(t*t+r*r),r)}var T0={convert:fn,htov:vS,htod:pS,vtoh:mS,vtod:yS,dtoh:_S,dtov:gS};function wS(e){return typeof e=="number"&&isFinite(e)}var Ec=wS;function xS(e){return e.toPrecision(15)}var Sc=xS;function ES(){var e=arguments;return function(r){for(var n=r,i=0;i<e.length;i++){var o=e[i];n=o.call(null,n)}return n}}var C0=ES,SS=ue,mr=Ae.mat4,Re=Ae.vec4,P0=ea,Ki=T0,Ja=Or,dr=Ec,Yr=Kn,It=Sc,MS=C0,TS=ie,CS=0,PS=0,zS=0,kS=0,LS=0,RS=Math.PI/4,$S=0,IS=0,df=1e-6;function U(e,t){this._yaw=e&&e.yaw!=null?e.yaw:zS,this._pitch=e&&e.pitch!=null?e.pitch:kS,this._roll=e&&e.roll!=null?e.roll:LS,this._fov=e&&e.fov!=null?e.fov:RS,this._width=e&&e.width!=null?e.width:CS,this._height=e&&e.height!=null?e.height:PS,this._projectionCenterX=e&&e.projectionCenterX!=null?e.projectionCenterX:$S,this._projectionCenterY=e&&e.projectionCenterY!=null?e.projectionCenterY:IS,this._limiter=t||null,this._projMatrix=mr.create(),this._invProjMatrix=mr.create(),this._frustum=[Re.create(),Re.create(),Re.create(),Re.create(),Re.create()],this._projectionChanged=!0,this._params={},this._fovs={},this._tmpVec=Re.create(),this._update()}SS(U);U.prototype.destroy=function(){TS(this)};U.prototype.yaw=function(){return this._yaw};U.prototype.pitch=function(){return this._pitch};U.prototype.roll=function(){return this._roll};U.prototype.projectionCenterX=function(){return this._projectionCenterX};U.prototype.projectionCenterY=function(){return this._projectionCenterY};U.prototype.fov=function(){return this._fov};U.prototype.width=function(){return this._width};U.prototype.height=function(){return this._height};U.prototype.size=function(e){return e=e||{},e.width=this._width,e.height=this._height,e};U.prototype.parameters=function(e){return e=e||{},e.yaw=this._yaw,e.pitch=this._pitch,e.roll=this._roll,e.fov=this._fov,e};U.prototype.limiter=function(){return this._limiter};U.prototype.setYaw=function(e){this._resetParams(),this._params.yaw=e,this._update(this._params)};U.prototype.setPitch=function(e){this._resetParams(),this._params.pitch=e,this._update(this._params)};U.prototype.setRoll=function(e){this._resetParams(),this._params.roll=e,this._update(this._params)};U.prototype.setFov=function(e){this._resetParams(),this._params.fov=e,this._update(this._params)};U.prototype.setProjectionCenterX=function(e){this._resetParams(),this._params.projectionCenterX=e,this._update(this._params)};U.prototype.setProjectionCenterY=function(e){this._resetParams(),this._params.projectionCenterY=e,this._update(this._params)};U.prototype.offsetYaw=function(e){this.setYaw(this._yaw+e)};U.prototype.offsetPitch=function(e){this.setPitch(this._pitch+e)};U.prototype.offsetRoll=function(e){this.setRoll(this._roll+e)};U.prototype.offsetFov=function(e){this.setFov(this._fov+e)};U.prototype.setSize=function(e){this._resetParams(),this._params.width=e.width,this._params.height=e.height,this._update(this._params)};U.prototype.setParameters=function(e){this._resetParams(),this._params.yaw=e.yaw,this._params.pitch=e.pitch,this._params.roll=e.roll,this._params.fov=e.fov,this._params.projectionCenterX=e.projectionCenterX,this._params.projectionCenterY=e.projectionCenterY,this._update(this._params)};U.prototype.setLimiter=function(e){this._limiter=e||null,this._update()};U.prototype._resetParams=function(){var e=this._params;e.yaw=null,e.pitch=null,e.roll=null,e.fov=null,e.width=null,e.height=null};U.prototype._update=function(e){e==null&&(this._resetParams(),e=this._params);var t=this._yaw,r=this._pitch,n=this._roll,i=this._fov,o=this._projectionCenterX,s=this._projectionCenterY,a=this._width,l=this._height;if(e.yaw=e.yaw!=null?e.yaw:t,e.pitch=e.pitch!=null?e.pitch:r,e.roll=e.roll!=null?e.roll:n,e.fov=e.fov!=null?e.fov:i,e.width=e.width!=null?e.width:a,e.height=e.height!=null?e.height:l,e.projectionCenterX=e.projectionCenterX!=null?e.projectionCenterX:o,e.projectionCenterY=e.projectionCenterY!=null?e.projectionCenterY:s,this._limiter&&(e=this._limiter(e),!e))throw new Error("Bad view limiter");e=this._normalize(e);var u=e.yaw,c=e.pitch,h=e.roll,f=e.fov,d=e.width,p=e.height,w=e.projectionCenterX,g=e.projectionCenterY;if(!dr(u)||!dr(c)||!dr(h)||!dr(f)||!dr(d)||!dr(p)||!dr(w)||!dr(g))throw new Error("Bad view - suspect a broken limiter");this._yaw=u,this._pitch=c,this._roll=h,this._fov=f,this._width=d,this._height=p,this._projectionCenterX=w,this._projectionCenterY=g,(u!==t||c!==r||h!==n||f!==i||d!==a||p!==l||w!==o||g!==s)&&(this._projectionChanged=!0,this.emit("change")),(d!==a||p!==l)&&this.emit("resize")};U.prototype._normalize=function(e){this._normalizeCoordinates(e);var t=Ki.htov(Math.PI,e.width,e.height),r=isNaN(t)?Math.PI:Math.min(Math.PI,t);return e.fov=Yr(e.fov,df,r-df),e};U.prototype._normalizeCoordinates=function(e){return"yaw"in e&&(e.yaw=Ja(e.yaw-Math.PI,-2*Math.PI)+Math.PI),"pitch"in e&&(e.pitch=Ja(e.pitch-Math.PI,-2*Math.PI)+Math.PI),"roll"in e&&(e.roll=Ja(e.roll-Math.PI,-2*Math.PI)+Math.PI),e};U.prototype.normalizeToClosest=function(e,t){var r=this._yaw,n=this._pitch,i=e.yaw,o=e.pitch,s=i-2*Math.PI,a=i+2*Math.PI;Math.abs(s-r)<Math.abs(i-r)?i=s:Math.abs(a-r)<Math.abs(i-r)&&(i=a);var l=o-2*Math.PI,u=o+2*Math.PI;return Math.abs(l-n)<Math.abs(o-n)?o=l:Math.abs(l-n)<Math.abs(o-n)&&(o=u),t=t||{},t.yaw=i,t.pitch=o,t};U.prototype.updateWithControlParameters=function(e){var t=this._fov,r=Ki.vtoh(t,this._width,this._height);isNaN(r)&&(r=t),this.offsetYaw(e.axisScaledX*r+e.x*2*r+e.yaw),this.offsetPitch(e.axisScaledY*t+e.y*2*r+e.pitch),this.offsetRoll(-e.roll),this.offsetFov(e.zoom*t)};U.prototype._updateProjection=function(){var e=this._projMatrix,t=this._invProjMatrix,r=this._frustum;if(this._projectionChanged){var n=this._width,i=this._height,o=this._fov,s=Ki.vtoh(o,n,i),a=n/i,l=this._projectionCenterX,u=this._projectionCenterY;if(l!==0||u!==0){var c=Math.atan(l*2*Math.tan(s/2)),h=Math.atan(u*2*Math.tan(o/2)),f=this._fovs;f.leftDegrees=(s/2+c)*180/Math.PI,f.rightDegrees=(s/2-c)*180/Math.PI,f.upDegrees=(o/2+h)*180/Math.PI,f.downDegrees=(o/2-h)*180/Math.PI,mr.perspectiveFromFieldOfView(e,f,-1,1)}else mr.perspective(e,o,a,-1,1);mr.rotateZ(e,e,this._roll),mr.rotateX(e,e,this._pitch),mr.rotateY(e,e,this._yaw),mr.invert(t,e),this._matrixToFrustum(e,r),this._projectionChanged=!1}};U.prototype._matrixToFrustum=function(e,t){Re.set(t[0],e[3]+e[0],e[7]+e[4],e[11]+e[8],0),Re.set(t[1],e[3]-e[0],e[7]-e[4],e[11]-e[8],0),Re.set(t[2],e[3]+e[1],e[7]+e[5],e[11]+e[9],0),Re.set(t[3],e[3]-e[1],e[7]-e[5],e[11]-e[9],0),Re.set(t[4],e[3]+e[2],e[7]+e[6],e[11]+e[10],0)};U.prototype.projection=function(){return this._updateProjection(),this._projMatrix};U.prototype.inverseProjection=function(){return this._updateProjection(),this._invProjMatrix};U.prototype.intersects=function(e){this._updateProjection();for(var t=this._frustum,r=this._tmpVec,n=0;n<t.length;n++){for(var i=t[n],o=!1,s=0;s<e.length;s++){var a=e[s];Re.set(r,a[0],a[1],a[2],0),Re.dot(i,r)>=0&&(o=!0)}if(!o)return!1}return!0};U.prototype.selectLevel=function(e){for(var t=P0()*this._height,r=Math.tan(.5*this._fov),n=0;n<e.length;n++){var i=e[n];if(r*i.height()>=t)return i}return e[e.length-1]};U.prototype.coordinatesToScreen=function(e,t){var r=this._tmpVec;t||(t={});var n=this._width,i=this._height;if(n<=0||i<=0)return t.x=null,t.y=null,null;var o=e.yaw,s=e.pitch,a=Math.sin(o)*Math.cos(s),l=-Math.sin(s),u=-Math.cos(o)*Math.cos(s);if(Re.set(r,a,l,u,1),Re.transformMat4(r,r,this.projection()),r[3]>=0)t.x=n*(r[0]/r[3]+1)/2,t.y=i*(1-r[1]/r[3])/2;else return t.x=null,t.y=null,null;return t};U.prototype.screenToCoordinates=function(e,t){var r=this._tmpVec;t||(t={});var n=this._width,i=this._height,o=2*e.x/n-1,s=1-2*e.y/i;Re.set(r,o,s,1,1),Re.transformMat4(r,r,this.inverseProjection());var a=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);return t.yaw=Math.atan2(r[0],-r[2]),t.pitch=Math.acos(r[1]/a)-Math.PI/2,this._normalizeCoordinates(t),t};U.prototype.coordinatesToPerspectiveTransform=function(e,t,r){r=r||"";var n=this._height,i=this._width,o=this._fov,s=.5*n/Math.tan(o/2),a="";return a+="translateX("+It(i/2)+"px) ",a+="translateY("+It(n/2)+"px) ",a+="translateX(-50%) translateY(-50%) ",a+="perspective("+It(s)+"px) ",a+="translateZ("+It(s)+"px) ",a+="rotateZ("+It(-this._roll)+"rad) ",a+="rotateX("+It(-this._pitch)+"rad) ",a+="rotateY("+It(this._yaw)+"rad) ",a+="rotateY("+It(-e.yaw)+"rad) ",a+="rotateX("+It(e.pitch)+"rad) ",a+="translateZ("+It(-t)+"px) ",a+=r+" ",a};U.limit={yaw:function(e,t){return function(n){return n.yaw=Yr(n.yaw,e,t),n}},pitch:function(e,t){return function(n){return n.pitch=Yr(n.pitch,e,t),n}},roll:function(e,t){return function(n){return n.roll=Yr(n.roll,e,t),n}},hfov:function(e,t){return function(n){var i=n.width,o=n.height;if(i>0&&o>0){var s=Ki.htov(e,i,o),a=Ki.htov(t,i,o);n.fov=Yr(n.fov,s,a)}return n}},vfov:function(e,t){return function(n){return n.fov=Yr(n.fov,e,t),n}},resolution:function(e){return function(r){var n=r.height;if(n){var i=P0()*n,o=2*Math.atan(i/e);r.fov=Yr(r.fov,o,1/0)}return r}},traditional:function(e,t,r){return r=r??t,MS(U.limit.resolution(e),U.limit.vfov(0,t),U.limit.hfov(0,r),U.limit.pitch(-Math.PI/2,Math.PI/2))}};U.type=U.prototype.type="rectilinear";var AS=U,NS=ue,Os=Ae.mat4,Ji=Ae.vec4,z0=ea,gn=Ec,bt=Kn,OS=ie,DS=0,HS=0,k0=.5,L0=.5,FS=1,jS=[1,0,1,0],VS=[-1,-1,1,1],US=1e-6;function b(e,t){if(!(e&&e.mediaAspectRatio!=null))throw new Error("mediaAspectRatio must be defined");this._x=e&&e.x!=null?e.x:k0,this._y=e&&e.y!=null?e.y:L0,this._zoom=e&&e.zoom!=null?e.zoom:FS,this._mediaAspectRatio=e.mediaAspectRatio,this._width=e&&e.width!=null?e.width:DS,this._height=e&&e.height!=null?e.height:HS,this._limiter=t||null,this._projMatrix=Os.create(),this._invProjMatrix=Os.create(),this._frustum=[0,0,0,0],this._projectionChanged=!0,this._params={},this._vec=Ji.create(),this._update()}NS(b);b.prototype.destroy=function(){OS(this)};b.prototype.x=function(){return this._x};b.prototype.y=function(){return this._y};b.prototype.zoom=function(){return this._zoom};b.prototype.mediaAspectRatio=function(){return this._mediaAspectRatio};b.prototype.width=function(){return this._width};b.prototype.height=function(){return this._height};b.prototype.size=function(e){return e=e||{},e.width=this._width,e.height=this._height,e};b.prototype.parameters=function(e){return e=e||{},e.x=this._x,e.y=this._y,e.zoom=this._zoom,e.mediaAspectRatio=this._mediaAspectRatio,e};b.prototype.limiter=function(){return this._limiter};b.prototype.setX=function(e){this._resetParams(),this._params.x=e,this._update(this._params)};b.prototype.setY=function(e){this._resetParams(),this._params.y=e,this._update(this._params)};b.prototype.setZoom=function(e){this._resetParams(),this._params.zoom=e,this._update(this._params)};b.prototype.offsetX=function(e){this.setX(this._x+e)};b.prototype.offsetY=function(e){this.setY(this._y+e)};b.prototype.offsetZoom=function(e){this.setZoom(this._zoom+e)};b.prototype.setMediaAspectRatio=function(e){this._resetParams(),this._params.mediaAspectRatio=e,this._update(this._params)};b.prototype.setSize=function(e){this._resetParams(),this._params.width=e.width,this._params.height=e.height,this._update(this._params)};b.prototype.setParameters=function(e){this._resetParams(),this._params.x=e.x,this._params.y=e.y,this._params.zoom=e.zoom,this._params.mediaAspectRatio=e.mediaAspectRatio,this._update(this._params)};b.prototype.setLimiter=function(e){this._limiter=e||null,this._update()};b.prototype._resetParams=function(){var e=this._params;e.x=null,e.y=null,e.zoom=null,e.mediaAspectRatio=null,e.width=null,e.height=null};b.prototype._update=function(e){e==null&&(this._resetParams(),e=this._params);var t=this._x,r=this._y,n=this._zoom,i=this._mediaAspectRatio,o=this._width,s=this._height;if(e.x=e.x!=null?e.x:t,e.y=e.y!=null?e.y:r,e.zoom=e.zoom!=null?e.zoom:n,e.mediaAspectRatio=e.mediaAspectRatio!=null?e.mediaAspectRatio:i,e.width=e.width!=null?e.width:o,e.height=e.height!=null?e.height:s,this._limiter&&(e=this._limiter(e),!e))throw new Error("Bad view limiter");var a=e.x,l=e.y,u=e.zoom,c=e.mediaAspectRatio,h=e.width,f=e.height;if(!gn(a)||!gn(l)||!gn(u)||!gn(c)||!gn(h)||!gn(f))throw new Error("Bad view - suspect a broken limiter");u=bt(u,US,1/0),this._x=a,this._y=l,this._zoom=u,this._mediaAspectRatio=c,this._width=h,this._height=f,(a!==t||l!==r||u!==n||c!==i||h!==o||f!==s)&&(this._projectionChanged=!0,this.emit("change")),(h!==o||f!==s)&&this.emit("resize")};b.prototype._zoomX=function(){return this._zoom};b.prototype._zoomY=function(){var e=this._mediaAspectRatio,t=this._width/this._height,r=this._zoom,n=r*e/t;return isNaN(n)&&(n=r),n};b.prototype.updateWithControlParameters=function(e){var t=this.zoom(),r=this._zoomX(),n=this._zoomY();this.offsetX(e.axisScaledX*r+e.x*t),this.offsetY(e.axisScaledY*n+e.y*t),this.offsetZoom(e.zoom*t)};b.prototype._updateProjection=function(){var e=this._projMatrix,t=this._invProjMatrix,r=this._frustum;if(this._projectionChanged){var n=this._x,i=this._y,o=this._zoomX(),s=this._zoomY(),a=r[0]=.5-i+.5*s,l=r[1]=n-.5+.5*o,u=r[2]=.5-i-.5*s,c=r[3]=n-.5-.5*o;Os.ortho(e,c,l,u,a,-1,1),Os.invert(t,e),this._projectionChanged=!1}};b.prototype.projection=function(){return this._updateProjection(),this._projMatrix};b.prototype.inverseProjection=function(){return this._updateProjection(),this._invProjMatrix};b.prototype.intersects=function(e){this._updateProjection();for(var t=this._frustum,r=0;r<t.length;r++){for(var n=t[r],i=jS[r],o=VS[r],s=!1,a=0;a<e.length;a++){var l=e[a];if(o<0&&l[i]<n||o>0&&l[i]>n){s=!0;break}}if(!s)return!1}return!0};b.prototype.selectLevel=function(e){for(var t=z0()*this.width(),r=this._zoom,n=0;n<e.length;n++){var i=e[n];if(r*i.width()>=t)return i}return e[e.length-1]};b.prototype.coordinatesToScreen=function(e,t){var r=this._vec;t||(t={});var n=this._width,i=this._height;if(n<=0||i<=0)return t.x=null,t.y=null,null;var o=e&&e.x!=null?e.x:k0,s=e&&e.y!=null?e.y:L0;Ji.set(r,o-.5,.5-s,-1,1),Ji.transformMat4(r,r,this.projection());for(var a=0;a<3;a++)r[a]/=r[3];return t.x=n*(r[0]+1)/2,t.y=i*(1-r[1])/2,t};b.prototype.screenToCoordinates=function(e,t){var r=this._vec;t||(t={});var n=this._width,i=this._height,o=2*e.x/n-1,s=1-2*e.y/i;return Ji.set(r,o,s,1,1),Ji.transformMat4(r,r,this.inverseProjection()),t.x=.5+r[0],t.y=.5-r[1],t};b.limit={x:function(e,t){return function(n){return n.x=bt(n.x,e,t),n}},y:function(e,t){return function(n){return n.y=bt(n.y,e,t),n}},zoom:function(e,t){return function(n){return n.zoom=bt(n.zoom,e,t),n}},resolution:function(e){return function(r){if(r.width<=0||r.height<=0)return r;var n=r.width,i=z0()*n/e;return r.zoom=bt(r.zoom,i,1/0),r}},visibleX:function(e,t){return function(n){var i=t-e;n.zoom>i&&(n.zoom=i);var o=e+.5*n.zoom,s=t-.5*n.zoom;return n.x=bt(n.x,o,s),n}},visibleY:function(e,t){return function(n){if(n.width<=0||n.height<=0)return n;var i=n.width/n.height,o=i/n.mediaAspectRatio,s=(t-e)*o;n.zoom>s&&(n.zoom=s);var a=e+.5*n.zoom/o,l=t-.5*n.zoom/o;return n.y=bt(n.y,a,l),n}},letterbox:function(){return function(t){if(t.width<=0||t.height<=0)return t;var r=t.width/t.height,n=1,i=r/t.mediaAspectRatio;t.mediaAspectRatio>=r&&(t.zoom=Math.min(t.zoom,n)),t.mediaAspectRatio<=r&&(t.zoom=Math.min(t.zoom,i));var o,s;t.zoom>n?o=s=.5:(o=0+.5*t.zoom/n,s=1-.5*t.zoom/n);var a,l;return t.zoom>i?a=l=.5:(a=0+.5*t.zoom/i,l=1-.5*t.zoom/i),t.x=bt(t.x,o,s),t.y=bt(t.y,a,l),t}}};b.type=b.prototype.type="flat";var WS=b,BS=Bv,YS=Or;function ho(e){this._concurrency=e&&e.concurrency||1,this._paused=e&&!!e.paused||!1,this._pool=[];for(var t=0;t<this._concurrency;t++)this._pool.push(new BS(e));this._next=0}ho.prototype.length=function(){for(var e=0,t=0;t<this._pool.length;t++)e+=this._pool[t].length();return e};ho.prototype.push=function(e,t){var r=this._next,n=this._pool[r].push(e,t);return this._next=YS(this._next+1,this._concurrency),n};ho.prototype.pause=function(){if(!this._paused){this._paused=!0;for(var e=0;e<this._concurrency;e++)this._pool[e].pause()}};ho.prototype.resume=function(){if(this._paused){this._paused=!1;for(var e=0;e<this._concurrency;e++)this._pool[e].resume()}};var bS=ho;function XS(){}var fo=XS,GS=fo;function qS(){var e=Array.prototype.slice.call(arguments,0);return function(){var r=e.slice(0),n=null,i=null,o=arguments.length?Array.prototype.slice.call(arguments,0,arguments.length-1):[],s=arguments.length?arguments[arguments.length-1]:GS;function a(){var u=arguments[0];if(u){n=i=null,s.apply(null,arguments);return}if(!r.length){n=i=null,s.apply(null,arguments);return}n=r.shift();var c=n,h=Array.prototype.slice.call(arguments,1);h.push(a);var f=n.apply(null,h);if(c===n){if(typeof f!="function")throw new Error("chain: chaining on non-cancellable function");i=f}}function l(){i&&i.apply(null,arguments)}return o.unshift(null),a.apply(null,o),l}}var Mc=qS;function QS(e,t){var r=null;function n(){r!=null&&(r=null,t(null))}function i(){r!=null&&(clearTimeout(r),r=null,t.apply(null,arguments))}return r=setTimeout(n,e),i}var R0=QS,ZS=ue,KS=Qv,JS=bS,eM=Mc,tM=R0,vf=ln,pf={x:"x",y:"y",z:"z",f:"face"},rM="bdflru",nM=4,iM=1e4;function eo(e,t){t=t||{},this._loadPool=new JS({concurrency:t.concurrency||nM}),this._retryDelay=t.retryDelay||iM,this._retryMap={},this._sourceFromTile=e}ZS(eo);eo.prototype.loadAsset=function(e,t,r){var n=this,i=this._retryDelay,o=this._retryMap,s=this._sourceFromTile(t),a=s.url,l=s.rect,u=e.loadImage.bind(e,a,l),c=function(g){return n._loadPool.push(u,function(m,y){m?(m instanceof KS&&(o[a]=vf(),n.emit("networkError",m,t)),g(m,t)):(delete o[a],g(null,t,y))})},h,f=o[a];if(f!=null){var d=vf(),p=d-f;p<i?h=i-p:(h=0,delete o[a])}var w=tM.bind(null,h);return eM(w,c)(r)};eo.fromString=function(e,t){t=t||{};var r=t&&t.cubeMapPreviewFaceOrder||rM,n=t.cubeMapPreviewUrl?o:i;return new eo(n,t);function i(a){var l=e;for(var u in pf){var c=pf[u],h=oM(u),f=a.hasOwnProperty(c)?a[c]:"";l=l.replace(h,f)}return{url:l}}function o(a){return a.z===0?s(a):i(a)}function s(a){var l=r.indexOf(a.face)/6;return{url:t.cubeMapPreviewUrl,rect:{x:0,y:l,width:1,height:1/6}}}};function oM(e){var t="\\{("+e+")\\}";return new RegExp(t,"g")}var sM=eo;function Tc(e){this._asset=e}Tc.prototype.asset=function(){return this._asset};Tc.prototype.loadAsset=function(e,t,r){var n=this,i=setTimeout(function(){r(null,t,n._asset)},0);function o(){clearTimeout(i),r.apply(null,arguments)}return o};var aM=Tc,lM=oc,uM=Ht,cM=ue,hM=ie;function dn(e){this.constructor.super_.call(this,e),this._timestamp=0}uM(dn,lM);cM(dn);dn.prototype.destroy=function(){hM(this)};dn.prototype.timestamp=function(){return this._timestamp};dn.prototype.isDynamic=function(){return!0};dn.prototype.markDirty=function(){this._timestamp++,this.emit("change")};var fM=dn,ia=Or,dM=64;function Dr(e){if(e!=null&&(!isFinite(e)||Math.floor(e)!==e||e<1))throw new Error("Map: invalid capacity");this._capacity=e||dM,this._keyBuckets=[],this._valBuckets=[];for(var t=0;t<this._capacity;t++)this._keyBuckets.push([]),this._valBuckets.push([]);this._size=0}Dr.prototype.get=function(e){for(var t=ia(e.hash(),this._capacity),r=this._keyBuckets[t],n=0;n<r.length;n++){var i=r[n];if(e.equals(i)){var o=this._valBuckets[t],s=o[n];return s}}return null};Dr.prototype.set=function(e,t){for(var r=ia(e.hash(),this._capacity),n=this._keyBuckets[r],i=this._valBuckets[r],o=0;o<n.length;o++){var s=n[o];if(e.equals(s)){var a=i[o];return n[o]=e,i[o]=t,a}}return n.push(e),i.push(t),this._size++,null};Dr.prototype.del=function(e){for(var t=ia(e.hash(),this._capacity),r=this._keyBuckets[t],n=this._valBuckets[t],i=0;i<r.length;i++){var o=r[i];if(e.equals(o)){for(var s=n[i],a=i;a<r.length-1;a++)r[a]=r[a+1],n[a]=n[a+1];return r.length=r.length-1,n.length=n.length-1,this._size--,s}}return null};Dr.prototype.has=function(e){for(var t=ia(e.hash(),this._capacity),r=this._keyBuckets[t],n=0;n<r.length;n++){var i=r[n];if(e.equals(i))return!0}return!1};Dr.prototype.size=function(){return this._size};Dr.prototype.clear=function(){for(var e=0;e<this._capacity;e++)this._keyBuckets[e].length=0,this._valBuckets[e].length=0;this._size=0};Dr.prototype.forEach=function(e){for(var t=0,r=0;r<this._capacity;r++)for(var n=this._keyBuckets[r],i=this._valBuckets[r],o=0;o<n.length;o++)e(n[o],i[o]),t+=1;return t};var vM=Dr,pM=Or;function Hr(e){if(!isFinite(e)||Math.floor(e)!==e||e<0)throw new Error("LruSet: invalid capacity");this._capacity=e,this._elements=new Array(this._capacity),this._start=0,this._size=0}Hr.prototype._index=function(e){return pM(this._start+e,this._capacity)};Hr.prototype.add=function(e){if(this._capacity===0)return e;this.remove(e);var t=this._size===this._capacity?this._elements[this._index(0)]:null;return this._elements[this._index(this._size)]=e,this._size<this._capacity?this._size++:this._start=this._index(1),t};Hr.prototype.remove=function(e){for(var t=0;t<this._size;t++){var r=this._elements[this._index(t)];if(e.equals(r)){for(var n=t;n<this._size-1;n++)this._elements[this._index(n)]=this._elements[this._index(n+1)];return this._size--,r}}return null};Hr.prototype.has=function(e){for(var t=0;t<this._size;t++)if(e.equals(this._elements[this._index(t)]))return!0;return!1};Hr.prototype.size=function(){return this._size};Hr.prototype.clear=function(){this._elements.length=0,this._start=0,this._size=0};Hr.prototype.forEach=function(e){for(var t=0,r=0;r<this._size;r++)e(this._elements[this._index(r)]),t+=1;return t};var mM=Hr;function yM(e,t){for(var r in t)r in e||(e[r]=t[r]);return e}var Vt=yM,_M=fo;function gM(e){return function(){var r=arguments.length?Array.prototype.slice.call(arguments,0,arguments.length-1):[],n=arguments.length?arguments[arguments.length-1]:_M,i=null,o=!1;function s(){var a=arguments[0];!a||o?n.apply(null,arguments):i=e.apply(null,r)}return r.push(s),s(!0),function(){o=!0,i.apply(null,arguments)}}}var $0=gM,mf=vM,yf=x0,wM=mM,I0=ue,xM=Vt,EM=$0,SM=Mc,MM=Ht,A0=ie,Si=typeof MARZIPANODEBUG<"u"&&MARZIPANODEBUG.textureStore,vt={IDLE:0,START:1,MARK:2,END:3},TM={previouslyVisibleCacheSize:512},CM=0;function Cc(){}MM(Cc,Error);function vo(e,t){var r=this,n=CM++;r._id=n,r._store=e,r._tile=t,r._asset=null,r._texture=null,r._changeHandler=function(){e.emit("textureInvalid",t)};var i=e.source(),o=e.stage(),s=i.loadAsset.bind(i),a=o.createTexture.bind(o),l=SM(EM(s),a);e.emit("textureStartLoad",t),Si&&console.log("loading",n,t),r._cancel=l(o,t,function(u,c,h,f){if(r._cancel=null,u){h&&h.destroy(),f&&f.destroy(),u instanceof Cc?(e.emit("textureCancel",t),Si&&console.log("cancel",n,t)):(e.emit("textureError",t,u),Si&&console.log("error",n,t));return}r._texture=f,h.isDynamic()?(r._asset=h,h.addEventListener("change",r._changeHandler)):h.destroy(),e.emit("textureLoad",t),Si&&console.log("load",n,t)})}vo.prototype.asset=function(){return this._asset};vo.prototype.texture=function(){return this._texture};vo.prototype.destroy=function(){var e=this._id,t=this._store,r=this._tile,n=this._asset,i=this._texture,o=this._cancel;if(o){o(new Cc);return}n&&(n.removeEventListener("change",this._changeHandler),n.destroy()),i&&i.destroy(),t.emit("textureUnload",r),Si&&console.log("unload",e,r),A0(this)};I0(vo);function ze(e,t,r){r=xM(r||{},TM),this._source=e,this._stage=t,this._state=vt.IDLE,this._delimCount=0,this._itemMap=new mf,this._visible=new yf,this._previouslyVisible=new wM(r.previouslyVisibleCacheSize),this._pinMap=new mf,this._newVisible=new yf,this._noLongerVisible=[],this._visibleAgain=[],this._evicted=[]}I0(ze);ze.prototype.destroy=function(){this.clear(),A0(this)};ze.prototype.stage=function(){return this._stage};ze.prototype.source=function(){return this._source};ze.prototype.clear=function(){var e=this;e._evicted.length=0,e._itemMap.forEach(function(t){e._evicted.push(t)}),e._evicted.forEach(function(t){e._unloadTile(t)}),e._itemMap.clear(),e._visible.clear(),e._previouslyVisible.clear(),e._pinMap.clear(),e._newVisible.clear(),e._noLongerVisible.length=0,e._visibleAgain.length=0,e._evicted.length=0};ze.prototype.clearNotPinned=function(){var e=this;e._evicted.length=0,e._itemMap.forEach(function(t){e._pinMap.has(t)||e._evicted.push(t)}),e._evicted.forEach(function(t){e._unloadTile(t)}),e._visible.clear(),e._previouslyVisible.clear(),e._evicted.length=0};ze.prototype.startFrame=function(){if(this._state!==vt.IDLE&&this._state!==vt.START)throw new Error("TextureStore: startFrame called out of sequence");this._state=vt.START,this._delimCount++};ze.prototype.markTile=function(e){if(this._state!==vt.START&&this._state!==vt.MARK)throw new Error("TextureStore: markTile called out of sequence");this._state=vt.MARK;var t=this._itemMap.get(e),r=t&&t.texture(),n=t&&t.asset();r&&n&&r.refresh(e,n),this._newVisible.add(e)};ze.prototype.endFrame=function(){if(this._state!==vt.START&&this._state!==vt.MARK&&this._state!==vt.END)throw new Error("TextureStore: endFrame called out of sequence");this._state=vt.END,this._delimCount--,this._delimCount||(this._update(),this._state=vt.IDLE)};ze.prototype._update=function(){var e=this;e._noLongerVisible.length=0,e._visible.forEach(function(r){e._newVisible.has(r)||e._noLongerVisible.push(r)}),e._visibleAgain.length=0,e._newVisible.forEach(function(r){e._previouslyVisible.has(r)&&e._visibleAgain.push(r)}),e._visibleAgain.forEach(function(r){e._previouslyVisible.remove(r)}),e._evicted.length=0,e._noLongerVisible.forEach(function(r){var n=e._itemMap.get(r),i=n&&n.texture();if(i){var o=e._previouslyVisible.add(r);o!=null&&e._evicted.push(o)}else n&&e._unloadTile(r)}),e._evicted.forEach(function(r){e._pinMap.has(r)||e._unloadTile(r)}),e._newVisible.forEach(function(r){var n=e._itemMap.get(r);n||e._loadTile(r)});var t=e._visible;e._visible=e._newVisible,e._newVisible=t,e._newVisible.clear(),e._noLongerVisible.length=0,e._visibleAgain.length=0,e._evicted.length=0};ze.prototype._loadTile=function(e){if(this._itemMap.has(e))throw new Error("TextureStore: loading texture already in cache");var t=new vo(this,e);this._itemMap.set(e,t)};ze.prototype._unloadTile=function(e){var t=this._itemMap.del(e);if(!t)throw new Error("TextureStore: unloading texture not in cache");t.destroy()};ze.prototype.asset=function(e){var t=this._itemMap.get(e);return t?t.asset():null};ze.prototype.texture=function(e){var t=this._itemMap.get(e);return t?t.texture():null};ze.prototype.pin=function(e){var t=(this._pinMap.get(e)||0)+1;return this._pinMap.set(e,t),this._itemMap.has(e)||this._loadTile(e),t};ze.prototype.unpin=function(e){var t=this._pinMap.get(e);if(t)t--,t>0?this._pinMap.set(e,t):(this._pinMap.del(e),!this._visible.has(e)&&!this._previouslyVisible.has(e)&&this._unloadTile(e));else throw new Error("TextureStore: unpin when not pinned");return t};ze.prototype.query=function(e){var t=this._itemMap.get(e),r=this._pinMap.get(e)||0;return{visible:this._visible.has(e),previouslyVisible:this._previouslyVisible.has(e),hasAsset:t!=null&&t.asset()!=null,hasTexture:t!=null&&t.texture()!=null,pinned:r!==0,pinCount:r}};var N0=ze;function PM(e,t){for(var r in t)e[r]=t[r];return e}var O0=PM,zM=ue,kM=O0,LM=ie;function ke(e,t,r,n,i){i=i||{};var o=this;this._source=e,this._geometry=t,this._view=r,this._textureStore=n,this._effects=i.effects||{},this._fixedLevelIndex=null,this._viewChangeHandler=function(){o.emit("viewChange",o.view())},this._view.addEventListener("change",this._viewChangeHandler),this._textureStoreChangeHandler=function(){o.emit("textureStoreChange",o.textureStore())},this._textureStore.addEventListener("textureLoad",this._textureStoreChangeHandler),this._textureStore.addEventListener("textureError",this._textureStoreChangeHandler),this._textureStore.addEventListener("textureInvalid",this._textureStoreChangeHandler)}zM(ke);ke.prototype.destroy=function(){this._view.removeEventListener("change",this._viewChangeHandler),this._textureStore.removeEventListener("textureLoad",this._textureStoreChangeHandler),this._textureStore.removeEventListener("textureError",this._textureStoreChangeHandler),this._textureStore.removeEventListener("textureInvalid",this._textureStoreChangeHandler),LM(this)};ke.prototype.source=function(){return this._source};ke.prototype.geometry=function(){return this._geometry};ke.prototype.view=function(){return this._view};ke.prototype.textureStore=function(){return this._textureStore};ke.prototype.effects=function(){return this._effects};ke.prototype.setEffects=function(e){this._effects=e,this.emit("effectsChange",this._effects)};ke.prototype.mergeEffects=function(e){kM(this._effects,e),this.emit("effectsChange",this._effects)};ke.prototype.fixedLevel=function(){return this._fixedLevelIndex};ke.prototype.setFixedLevel=function(e){if(e!==this._fixedLevelIndex){if(e!=null&&(e>=this._geometry.levelList.length||e<0))throw new Error("Level index out of range: "+e);this._fixedLevelIndex=e,this.emit("fixedLevelChange",this._fixedLevelIndex)}};ke.prototype._selectLevel=function(){var e;return this._fixedLevelIndex!=null?e=this._geometry.levelList[this._fixedLevelIndex]:e=this._view.selectLevel(this._geometry.selectableLevelList),e};ke.prototype.visibleTiles=function(e){var t=this._selectLevel();return this._geometry.visibleTiles(this._view,t,e)};ke.prototype.pinLevel=function(e){for(var t=this._geometry.levelList[e],r=this._geometry.levelTiles(t),n=0;n<r.length;n++)this._textureStore.pin(r[n])};ke.prototype.unpinLevel=function(e){for(var t=this._geometry.levelList[e],r=this._geometry.levelTiles(t),n=0;n<r.length;n++)this._textureStore.unpin(r[n])};ke.prototype.pinFirstLevel=function(){return this.pinLevel(0)};ke.prototype.unpinFirstLevel=function(){return this.unpinLevel(0)};var D0=ke,RM=ue,$M=ie;function Fr(e){var t=this;this._stage=e,this._running=!1,this._rendering=!1,this._requestHandle=null,this._boundLoop=this._loop.bind(this),this._renderInvalidHandler=function(){t._rendering||t.renderOnNextFrame()},this._stage.addEventListener("renderInvalid",this._renderInvalidHandler)}RM(Fr);Fr.prototype.destroy=function(){this.stop(),this._stage.removeEventListener("renderInvalid",this._renderInvalidHandler),$M(this)};Fr.prototype.stage=function(){return this._stage};Fr.prototype.start=function(){this._running=!0,this.renderOnNextFrame()};Fr.prototype.stop=function(){this._requestHandle&&(window.cancelAnimationFrame(this._requestHandle),this._requestHandle=null),this._running=!1};Fr.prototype.renderOnNextFrame=function(){this._running&&!this._requestHandle&&(this._requestHandle=window.requestAnimationFrame(this._boundLoop))};Fr.prototype._loop=function(){if(!this._running)throw new Error("Render loop running while in stopped state");this._requestHandle=null,this._rendering=!0,this.emit("beforeRender"),this._rendering=!1,this._stage.render(),this.emit("afterRender")};var H0=Fr;function ir(){this.velocity=null,this.friction=null,this.offset=null}ir.equals=function(e,t){return e.velocity===t.velocity&&e.friction===t.friction&&e.offset===t.offset};ir.prototype.equals=function(e){return ir.equals(this,e)};ir.prototype.update=function(e,t){e.offset&&(this.offset=this.offset||0,this.offset+=e.offset);var r=this.offsetFromVelocity(t);r&&(this.offset=this.offset||0,this.offset+=r),this.velocity=e.velocity,this.friction=e.friction};ir.prototype.reset=function(){this.velocity=null,this.friction=null,this.offset=null};ir.prototype.velocityAfter=function(e){return this.velocity?this.friction?IM(this.velocity,this.friction*e):this.velocity:null};ir.prototype.offsetFromVelocity=function(e){e=Math.min(e,this.nullVelocityTime());var t=this.velocityAfter(e),r=(this.velocity+t)/2;return r*e};ir.prototype.nullVelocityTime=function(){return this.velocity==null?0:this.velocity&&!this.friction?1/0:Math.abs(this.velocity/this.friction)};function IM(e,t){return e<0?Math.min(0,e+t):e>0?Math.max(0,e-t):0}var lr=ir,AM=ue,NM=lr,OM=ie;function ei(e,t,r,n,i){if(!e)throw new Error("KeyControlMethod: keyCode must be defined");if(!t)throw new Error("KeyControlMethod: parameter must be defined");if(!r)throw new Error("KeyControlMethod: velocity must be defined");if(!n)throw new Error("KeyControlMethod: friction must be defined");i=i||document,this._keyCode=e,this._parameter=t,this._velocity=r,this._friction=n,this._element=i,this._keydownHandler=this._handlePress.bind(this),this._keyupHandler=this._handleRelease.bind(this),this._blurHandler=this._handleBlur.bind(this),this._element.addEventListener("keydown",this._keydownHandler),this._element.addEventListener("keyup",this._keyupHandler),window.addEventListener("blur",this._blurHandler),this._dynamics=new NM,this._pressing=!1}AM(ei);ei.prototype.destroy=function(){this._element.removeEventListener("keydown",this._keydownHandler),this._element.removeEventListener("keyup",this._keyupHandler),window.removeEventListener("blur",this._blurHandler),OM(this)};ei.prototype._handlePress=function(e){e.keyCode===this._keyCode&&(this._pressing=!0,this._dynamics.velocity=this._velocity,this._dynamics.friction=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("active"))};ei.prototype._handleRelease=function(e){e.keyCode===this._keyCode&&(this._pressing&&(this._dynamics.friction=this._friction,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive")),this._pressing=!1)};ei.prototype._handleBlur=function(){this._dynamics.velocity=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive"),this._pressing=!1};var F0=ei,j0={exports:{}};/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */(function(e){(function(t,r,n,i){var o=["","webkit","moz","MS","ms","o"],s=r.createElement("div"),a="function",l=Math.round,u=Math.abs,c=Date.now;function h(v,_,E){return setTimeout(m(v,E),_)}function f(v,_,E){return Array.isArray(v)?(d(v,E[_],E),!0):!1}function d(v,_,E){var P;if(v)if(v.forEach)v.forEach(_,E);else if(v.length!==i)for(P=0;P<v.length;)_.call(E,v[P],P,v),P++;else for(P in v)v.hasOwnProperty(P)&&_.call(E,v[P],P,v)}function p(v,_,E){for(var P=Object.keys(_),R=0;R<P.length;)(!E||E&&v[P[R]]===i)&&(v[P[R]]=_[P[R]]),R++;return v}function w(v,_){return p(v,_,!0)}function g(v,_,E){var P=_.prototype,R;R=v.prototype=Object.create(P),R.constructor=v,R._super=P,E&&p(R,E)}function m(v,_){return function(){return v.apply(_,arguments)}}function y(v,_){return typeof v==a?v.apply(_&&_[0]||i,_):v}function x(v,_){return v===i?_:v}function S(v,_,E){d(L(_),function(P){v.addEventListener(P,E,!1)})}function C(v,_,E){d(L(_),function(P){v.removeEventListener(P,E,!1)})}function T(v,_){for(;v;){if(v==_)return!0;v=v.parentNode}return!1}function z(v,_){return v.indexOf(_)>-1}function L(v){return v.trim().split(/\s+/g)}function D(v,_,E){if(v.indexOf&&!E)return v.indexOf(_);for(var P=0;P<v.length;){if(E&&v[P][E]==_||!E&&v[P]===_)return P;P++}return-1}function $(v){return Array.prototype.slice.call(v,0)}function H(v,_,E){for(var P=[],R=[],W=0;W<v.length;){var Q=v[W][_];D(R,Q)<0&&P.push(v[W]),R[W]=Q,W++}return P=P.sort(function(Ve,Rt){return Ve[_]>Rt[_]}),P}function Y(v,_){for(var E,P,R=_[0].toUpperCase()+_.slice(1),W=0;W<o.length;){if(E=o[W],P=E?E+R:_,P in v)return P;W++}return i}var G=1;function V(){return G++}function M(v){var _=v.ownerDocument;return _.defaultView||_.parentWindow}var et=/mobile|tablet|ip(ad|hone|od)|android/i,K="ontouchstart"in t,I=Y(t,"PointerEvent")!==i,F=K&&et.test(navigator.userAgent),j="touch",ce="pen",ve="mouse",pn="kinect",Wt=25,Me=1,je=2,oe=4,be=8,_o=1,ni=2,ii=4,oi=8,si=16,kt=ni|ii,jr=oi|si,kc=kt|jr,Lc=["x","y"],go=["clientX","clientY"];function ut(v,_){var E=this;this.manager=v,this.callback=_,this.element=v.element,this.target=v.options.inputTarget,this.domHandler=function(P){y(v.options.enable,[v])&&E.handler(P)},this.init()}ut.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(M(this.element),this.evWin,this.domHandler)}};function p1(v){var _,E=v.options.inputClass;return E?_=E:I?_=ha:F?_=Eo:K?_=fa:_=xo,new _(v,m1)}function m1(v,_,E){var P=E.pointers.length,R=E.changedPointers.length,W=_&Me&&P-R===0,Q=_&(oe|be)&&P-R===0;E.isFirst=!!W,E.isFinal=!!Q,W&&(v.session={}),E.eventType=_,y1(v,E),v.emit("hammer.input",E),v.recognize(E),v.session.prevInput=E}function y1(v,_){var E=v.session,P=_.pointers,R=P.length;E.firstInput||(E.firstInput=Rc(_)),R>1&&!E.firstMultiple?E.firstMultiple=Rc(_):R===1&&(E.firstMultiple=!1);var W=E.firstInput,Q=E.firstMultiple,Ne=Q?Q.center:W.center,Ve=_.center=$c(P);_.timeStamp=c(),_.deltaTime=_.timeStamp-W.timeStamp,_.angle=ca(Ne,Ve),_.distance=wo(Ne,Ve),_1(E,_),_.offsetDirection=Ic(_.deltaX,_.deltaY),_.scale=Q?E1(Q.pointers,P):1,_.rotation=Q?x1(Q.pointers,P):0,g1(E,_);var Rt=v.element;T(_.srcEvent.target,Rt)&&(Rt=_.srcEvent.target),_.target=Rt}function _1(v,_){var E=_.center,P=v.offsetDelta||{},R=v.prevDelta||{},W=v.prevInput||{};(_.eventType===Me||W.eventType===oe)&&(R=v.prevDelta={x:W.deltaX||0,y:W.deltaY||0},P=v.offsetDelta={x:E.x,y:E.y}),_.deltaX=R.x+(E.x-P.x),_.deltaY=R.y+(E.y-P.y)}function g1(v,_){var E=v.lastInterval||_,P=_.timeStamp-E.timeStamp,R,W,Q,Ne;if(_.eventType!=be&&(P>Wt||E.velocity===i)){var Ve=E.deltaX-_.deltaX,Rt=E.deltaY-_.deltaY,yn=w1(P,Ve,Rt);W=yn.x,Q=yn.y,R=u(yn.x)>u(yn.y)?yn.x:yn.y,Ne=Ic(Ve,Rt),v.lastInterval=_}else R=E.velocity,W=E.velocityX,Q=E.velocityY,Ne=E.direction;_.velocity=R,_.velocityX=W,_.velocityY=Q,_.direction=Ne}function Rc(v){for(var _=[],E=0;E<v.pointers.length;)_[E]={clientX:l(v.pointers[E].clientX),clientY:l(v.pointers[E].clientY)},E++;return{timeStamp:c(),pointers:_,center:$c(_),deltaX:v.deltaX,deltaY:v.deltaY}}function $c(v){var _=v.length;if(_===1)return{x:l(v[0].clientX),y:l(v[0].clientY)};for(var E=0,P=0,R=0;R<_;)E+=v[R].clientX,P+=v[R].clientY,R++;return{x:l(E/_),y:l(P/_)}}function w1(v,_,E){return{x:_/v||0,y:E/v||0}}function Ic(v,_){return v===_?_o:u(v)>=u(_)?v>0?ni:ii:_>0?oi:si}function wo(v,_,E){E||(E=Lc);var P=_[E[0]]-v[E[0]],R=_[E[1]]-v[E[1]];return Math.sqrt(P*P+R*R)}function ca(v,_,E){E||(E=Lc);var P=_[E[0]]-v[E[0]],R=_[E[1]]-v[E[1]];return Math.atan2(R,P)*180/Math.PI}function x1(v,_){return ca(_[1],_[0],go)-ca(v[1],v[0],go)}function E1(v,_){return wo(_[0],_[1],go)/wo(v[0],v[1],go)}var S1={mousedown:Me,mousemove:je,mouseup:oe},M1="mousedown",T1="mousemove mouseup";function xo(){this.evEl=M1,this.evWin=T1,this.allow=!0,this.pressed=!1,ut.apply(this,arguments)}g(xo,ut,{handler:function(_){var E=S1[_.type];E&Me&&_.button===0&&(this.pressed=!0),E&je&&_.which!==1&&(E=oe),!(!this.pressed||!this.allow)&&(E&oe&&(this.pressed=!1),this.callback(this.manager,E,{pointers:[_],changedPointers:[_],pointerType:ve,srcEvent:_}))}});var C1={pointerdown:Me,pointermove:je,pointerup:oe,pointercancel:be,pointerout:be},P1={2:j,3:ce,4:ve,5:pn},Ac="pointerdown",Nc="pointermove pointerup pointercancel";t.MSPointerEvent&&(Ac="MSPointerDown",Nc="MSPointerMove MSPointerUp MSPointerCancel");function ha(){this.evEl=Ac,this.evWin=Nc,ut.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}g(ha,ut,{handler:function(_){var E=this.store,P=!1,R=_.type.toLowerCase().replace("ms",""),W=C1[R],Q=P1[_.pointerType]||_.pointerType,Ne=Q==j,Ve=D(E,_.pointerId,"pointerId");W&Me&&(_.button===0||Ne)?Ve<0&&(E.push(_),Ve=E.length-1):W&(oe|be)&&(P=!0),!(Ve<0)&&(E[Ve]=_,this.callback(this.manager,W,{pointers:E,changedPointers:[_],pointerType:Q,srcEvent:_}),P&&E.splice(Ve,1))}});var z1={touchstart:Me,touchmove:je,touchend:oe,touchcancel:be},k1="touchstart",L1="touchstart touchmove touchend touchcancel";function Oc(){this.evTarget=k1,this.evWin=L1,this.started=!1,ut.apply(this,arguments)}g(Oc,ut,{handler:function(_){var E=z1[_.type];if(E===Me&&(this.started=!0),!!this.started){var P=R1.call(this,_,E);E&(oe|be)&&P[0].length-P[1].length===0&&(this.started=!1),this.callback(this.manager,E,{pointers:P[0],changedPointers:P[1],pointerType:j,srcEvent:_})}}});function R1(v,_){var E=$(v.touches),P=$(v.changedTouches);return _&(oe|be)&&(E=H(E.concat(P),"identifier")),[E,P]}var $1={touchstart:Me,touchmove:je,touchend:oe,touchcancel:be},I1="touchstart touchmove touchend touchcancel";function Eo(){this.evTarget=I1,this.targetIds={},ut.apply(this,arguments)}g(Eo,ut,{handler:function(_){var E=$1[_.type],P=A1.call(this,_,E);P&&this.callback(this.manager,E,{pointers:P[0],changedPointers:P[1],pointerType:j,srcEvent:_})}});function A1(v,_){var E=$(v.touches),P=this.targetIds;if(_&(Me|je)&&E.length===1)return P[E[0].identifier]=!0,[E,E];var R,W,Q=$(v.changedTouches),Ne=[],Ve=this.target;if(W=E.filter(function(Rt){return T(Rt.target,Ve)}),_===Me)for(R=0;R<W.length;)P[W[R].identifier]=!0,R++;for(R=0;R<Q.length;)P[Q[R].identifier]&&Ne.push(Q[R]),_&(oe|be)&&delete P[Q[R].identifier],R++;if(Ne.length)return[H(W.concat(Ne),"identifier"),Ne]}function fa(){ut.apply(this,arguments);var v=m(this.handler,this);this.touch=new Eo(this.manager,v),this.mouse=new xo(this.manager,v)}g(fa,ut,{handler:function(_,E,P){var R=P.pointerType==j,W=P.pointerType==ve;if(R)this.mouse.allow=!1;else if(W&&!this.mouse.allow)return;E&(oe|be)&&(this.mouse.allow=!0),this.callback(_,E,P)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Dc=Y(s.style,"touchAction"),Hc=Dc!==i,Fc="compute",jc="auto",da="manipulation",ai="none",li="pan-x",ui="pan-y";function va(v,_){this.manager=v,this.set(_)}va.prototype={set:function(v){v==Fc&&(v=this.compute()),Hc&&(this.manager.element.style[Dc]=v),this.actions=v.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var v=[];return d(this.manager.recognizers,function(_){y(_.options.enable,[_])&&(v=v.concat(_.getTouchAction()))}),N1(v.join(" "))},preventDefaults:function(v){if(!Hc){var _=v.srcEvent,E=v.offsetDirection;if(this.manager.session.prevented){_.preventDefault();return}var P=this.actions,R=z(P,ai),W=z(P,ui),Q=z(P,li);if(R||W&&E&kt||Q&&E&jr)return this.preventSrc(_)}},preventSrc:function(v){this.manager.session.prevented=!0,v.preventDefault()}};function N1(v){if(z(v,ai))return ai;var _=z(v,li),E=z(v,ui);return _&&E?li+" "+ui:_||E?_?li:ui:z(v,da)?da:jc}var So=1,ct=2,mn=4,cr=8,Bt=cr,ci=16,Lt=32;function Yt(v){this.id=V(),this.manager=null,this.options=w(v||{},this.defaults),this.options.enable=x(this.options.enable,!0),this.state=So,this.simultaneous={},this.requireFail=[]}Yt.prototype={defaults:{},set:function(v){return p(this.options,v),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(v){if(f(v,"recognizeWith",this))return this;var _=this.simultaneous;return v=Mo(v,this),_[v.id]||(_[v.id]=v,v.recognizeWith(this)),this},dropRecognizeWith:function(v){return f(v,"dropRecognizeWith",this)?this:(v=Mo(v,this),delete this.simultaneous[v.id],this)},requireFailure:function(v){if(f(v,"requireFailure",this))return this;var _=this.requireFail;return v=Mo(v,this),D(_,v)===-1&&(_.push(v),v.requireFailure(this)),this},dropRequireFailure:function(v){if(f(v,"dropRequireFailure",this))return this;v=Mo(v,this);var _=D(this.requireFail,v);return _>-1&&this.requireFail.splice(_,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(v){return!!this.simultaneous[v.id]},emit:function(v){var _=this,E=this.state;function P(R){_.manager.emit(_.options.event+(R?O1(E):""),v)}E<cr&&P(!0),P(),E>=cr&&P(!0)},tryEmit:function(v){if(this.canEmit())return this.emit(v);this.state=Lt},canEmit:function(){for(var v=0;v<this.requireFail.length;){if(!(this.requireFail[v].state&(Lt|So)))return!1;v++}return!0},recognize:function(v){var _=p({},v);if(!y(this.options.enable,[this,_])){this.reset(),this.state=Lt;return}this.state&(Bt|ci|Lt)&&(this.state=So),this.state=this.process(_),this.state&(ct|mn|cr|ci)&&this.tryEmit(_)},process:function(v){},getTouchAction:function(){},reset:function(){}};function O1(v){return v&ci?"cancel":v&cr?"end":v&mn?"move":v&ct?"start":""}function Vc(v){return v==si?"down":v==oi?"up":v==ni?"left":v==ii?"right":""}function Mo(v,_){var E=_.manager;return E?E.get(v):v}function gt(){Yt.apply(this,arguments)}g(gt,Yt,{defaults:{pointers:1},attrTest:function(v){var _=this.options.pointers;return _===0||v.pointers.length===_},process:function(v){var _=this.state,E=v.eventType,P=_&(ct|mn),R=this.attrTest(v);return P&&(E&be||!R)?_|ci:P||R?E&oe?_|cr:_&ct?_|mn:ct:Lt}});function To(){gt.apply(this,arguments),this.pX=null,this.pY=null}g(To,gt,{defaults:{event:"pan",threshold:10,pointers:1,direction:kc},getTouchAction:function(){var v=this.options.direction,_=[];return v&kt&&_.push(ui),v&jr&&_.push(li),_},directionTest:function(v){var _=this.options,E=!0,P=v.distance,R=v.direction,W=v.deltaX,Q=v.deltaY;return R&_.direction||(_.direction&kt?(R=W===0?_o:W<0?ni:ii,E=W!=this.pX,P=Math.abs(v.deltaX)):(R=Q===0?_o:Q<0?oi:si,E=Q!=this.pY,P=Math.abs(v.deltaY))),v.direction=R,E&&P>_.threshold&&R&_.direction},attrTest:function(v){return gt.prototype.attrTest.call(this,v)&&(this.state&ct||!(this.state&ct)&&this.directionTest(v))},emit:function(v){this.pX=v.deltaX,this.pY=v.deltaY;var _=Vc(v.direction);_&&this.manager.emit(this.options.event+_,v),this._super.emit.call(this,v)}});function pa(){gt.apply(this,arguments)}g(pa,gt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ai]},attrTest:function(v){return this._super.attrTest.call(this,v)&&(Math.abs(v.scale-1)>this.options.threshold||this.state&ct)},emit:function(v){if(this._super.emit.call(this,v),v.scale!==1){var _=v.scale<1?"in":"out";this.manager.emit(this.options.event+_,v)}}});function ma(){Yt.apply(this,arguments),this._timer=null,this._input=null}g(ma,Yt,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[jc]},process:function(v){var _=this.options,E=v.pointers.length===_.pointers,P=v.distance<_.threshold,R=v.deltaTime>_.time;if(this._input=v,!P||!E||v.eventType&(oe|be)&&!R)this.reset();else if(v.eventType&Me)this.reset(),this._timer=h(function(){this.state=Bt,this.tryEmit()},_.time,this);else if(v.eventType&oe)return Bt;return Lt},reset:function(){clearTimeout(this._timer)},emit:function(v){this.state===Bt&&(v&&v.eventType&oe?this.manager.emit(this.options.event+"up",v):(this._input.timeStamp=c(),this.manager.emit(this.options.event,this._input)))}});function ya(){gt.apply(this,arguments)}g(ya,gt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ai]},attrTest:function(v){return this._super.attrTest.call(this,v)&&(Math.abs(v.rotation)>this.options.threshold||this.state&ct)}});function _a(){gt.apply(this,arguments)}g(_a,gt,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:kt|jr,pointers:1},getTouchAction:function(){return To.prototype.getTouchAction.call(this)},attrTest:function(v){var _=this.options.direction,E;return _&(kt|jr)?E=v.velocity:_&kt?E=v.velocityX:_&jr&&(E=v.velocityY),this._super.attrTest.call(this,v)&&_&v.direction&&v.distance>this.options.threshold&&u(E)>this.options.velocity&&v.eventType&oe},emit:function(v){var _=Vc(v.direction);_&&this.manager.emit(this.options.event+_,v),this.manager.emit(this.options.event,v)}});function Co(){Yt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}g(Co,Yt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[da]},process:function(v){var _=this.options,E=v.pointers.length===_.pointers,P=v.distance<_.threshold,R=v.deltaTime<_.time;if(this.reset(),v.eventType&Me&&this.count===0)return this.failTimeout();if(P&&R&&E){if(v.eventType!=oe)return this.failTimeout();var W=this.pTime?v.timeStamp-this.pTime<_.interval:!0,Q=!this.pCenter||wo(this.pCenter,v.center)<_.posThreshold;this.pTime=v.timeStamp,this.pCenter=v.center,!Q||!W?this.count=1:this.count+=1,this._input=v;var Ne=this.count%_.taps;if(Ne===0)return this.hasRequireFailures()?(this._timer=h(function(){this.state=Bt,this.tryEmit()},_.interval,this),ct):Bt}return Lt},failTimeout:function(){return this._timer=h(function(){this.state=Lt},this.options.interval,this),Lt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Bt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Vr(v,_){return _=_||{},_.recognizers=x(_.recognizers,Vr.defaults.preset),new ga(v,_)}Vr.VERSION="2.0.4",Vr.defaults={domEvents:!1,touchAction:Fc,enable:!0,inputTarget:null,inputClass:null,preset:[[ya,{enable:!1}],[pa,{enable:!1},["rotate"]],[_a,{direction:kt}],[To,{direction:kt},["swipe"]],[Co],[Co,{event:"doubletap",taps:2},["tap"]],[ma]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var D1=1,Uc=2;function ga(v,_){_=_||{},this.options=w(_,Vr.defaults),this.options.inputTarget=this.options.inputTarget||v,this.handlers={},this.session={},this.recognizers=[],this.element=v,this.input=p1(this),this.touchAction=new va(this,this.options.touchAction),Wc(this,!0),d(_.recognizers,function(E){var P=this.add(new E[0](E[1]));E[2]&&P.recognizeWith(E[2]),E[3]&&P.requireFailure(E[3])},this)}ga.prototype={set:function(v){return p(this.options,v),v.touchAction&&this.touchAction.update(),v.inputTarget&&(this.input.destroy(),this.input.target=v.inputTarget,this.input.init()),this},stop:function(v){this.session.stopped=v?Uc:D1},recognize:function(v){var _=this.session;if(!_.stopped){this.touchAction.preventDefaults(v);var E,P=this.recognizers,R=_.curRecognizer;(!R||R&&R.state&Bt)&&(R=_.curRecognizer=null);for(var W=0;W<P.length;)E=P[W],_.stopped!==Uc&&(!R||E==R||E.canRecognizeWith(R))?E.recognize(v):E.reset(),!R&&E.state&(ct|mn|cr)&&(R=_.curRecognizer=E),W++}},get:function(v){if(v instanceof Yt)return v;for(var _=this.recognizers,E=0;E<_.length;E++)if(_[E].options.event==v)return _[E];return null},add:function(v){if(f(v,"add",this))return this;var _=this.get(v.options.event);return _&&this.remove(_),this.recognizers.push(v),v.manager=this,this.touchAction.update(),v},remove:function(v){if(f(v,"remove",this))return this;var _=this.recognizers;return v=this.get(v),_.splice(D(_,v),1),this.touchAction.update(),this},on:function(v,_){var E=this.handlers;return d(L(v),function(P){E[P]=E[P]||[],E[P].push(_)}),this},off:function(v,_){var E=this.handlers;return d(L(v),function(P){_?E[P].splice(D(E[P],_),1):delete E[P]}),this},emit:function(v,_){this.options.domEvents&&H1(v,_);var E=this.handlers[v]&&this.handlers[v].slice();if(!(!E||!E.length)){_.type=v,_.preventDefault=function(){_.srcEvent.preventDefault()};for(var P=0;P<E.length;)E[P](_),P++}},destroy:function(){this.element&&Wc(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Wc(v,_){var E=v.element;d(v.options.cssProps,function(P,R){E.style[Y(E.style,R)]=_?P:""})}function H1(v,_){var E=r.createEvent("Event");E.initEvent(v,!0,!0),E.gesture=_,_.target.dispatchEvent(E)}p(Vr,{INPUT_START:Me,INPUT_MOVE:je,INPUT_END:oe,INPUT_CANCEL:be,STATE_POSSIBLE:So,STATE_BEGAN:ct,STATE_CHANGED:mn,STATE_ENDED:cr,STATE_RECOGNIZED:Bt,STATE_CANCELLED:ci,STATE_FAILED:Lt,DIRECTION_NONE:_o,DIRECTION_LEFT:ni,DIRECTION_RIGHT:ii,DIRECTION_UP:oi,DIRECTION_DOWN:si,DIRECTION_HORIZONTAL:kt,DIRECTION_VERTICAL:jr,DIRECTION_ALL:kc,Manager:ga,Input:ut,TouchAction:va,TouchInput:Eo,MouseInput:xo,PointerEventInput:ha,TouchMouseInput:fa,SingleTouchInput:Oc,Recognizer:Yt,AttrRecognizer:gt,Tap:Co,Pan:To,Swipe:_a,Pinch:pa,Rotate:ya,Press:ma,on:S,off:C,each:d,merge:w,extend:p,inherit:g,bindFn:m,prefixed:Y}),e.exports?e.exports=Vr:t[n]=Vr})(window,document,"Hammer")})(j0);var V0=j0.exports,wn=V0,DM=1,el="MarzipanoHammerElementId";function U0(e,t){return e[el]||(e[el]=DM++),t+e[el]}function oa(){this._managers={},this._refCount={}}oa.prototype.get=function(e,t){var r=U0(e,t);return this._managers[r]||(this._managers[r]=this._createManager(e,t),this._refCount[r]=0),this._refCount[r]++,new sa(this,this._managers[r],e,t)};oa.prototype._createManager=function(e,t){var r=new wn.Manager(e);return t==="mouse"?r.add(new wn.Pan({direction:wn.DIRECTION_ALL,threshold:0})):(t==="touch"||t==="pen"||t==="kinect")&&(r.add(new wn.Pan({direction:wn.DIRECTION_ALL,threshold:20,pointers:1})),r.add(new wn.Pinch)),r};oa.prototype._releaseHandle=function(e,t){var r=U0(e,t);this._refCount[r]&&(this._refCount[r]--,this._refCount[r]||(this._managers[r].destroy(),delete this._managers[r],delete this._refCount[r]))};function sa(e,t,r,n){this._manager=t,this._element=r,this._type=n,this._hammerGestures=e,this._eventHandlers=[]}sa.prototype.on=function(e,t){var r=this._type,n=function(i){r===i.pointerType&&t(i)};this._eventHandlers.push({events:e,handler:n}),this._manager.on(e,n)};sa.prototype.release=function(){for(var e=0;e<this._eventHandlers.length;e++){var t=this._eventHandlers[e];this._manager.off(t.events,t.handler)}this._hammerGestures._releaseHandle(this._element,this._type),this._manager=null,this._element=null,this._type=null,this._hammerGestures=null};sa.prototype.manager=function(){return this._manager};var aa=new oa;function HM(e,t,r,n,i){var o=Math.sqrt(Math.pow(t,2)+Math.pow(r,2));e=Math.max(e,o/n),W0(t,r,e,i),i[0]=Math.abs(i[0]),i[1]=Math.abs(i[1])}function W0(e,t,r,n){var i=Math.atan(t/e);n[0]=r*Math.cos(i),n[1]=r*Math.sin(i)}var B0={maxFriction:HM,changeVectorNorm:W0},FM=ue,_f=lr,jM=aa,VM=Vt,UM=B0.maxFriction,WM=ie,BM={friction:6,maxFrictionTime:.3,hammerEvent:"pan"},gf=typeof MARZIPANODEBUG<"u"&&MARZIPANODEBUG.controls;function ur(e,t,r){if(this._element=e,this._opts=VM(r||{},BM),this._startEvent=null,this._lastEvent=null,this._active=!1,this._dynamics={x:new _f,y:new _f},this._hammer=jM.get(e,t),this._hammer.on("hammer.input",this._handleHammerEvent.bind(this)),this._opts.hammerEvent!="pan"&&this._opts.hammerEvent!="pinch")throw new Error(this._opts.hammerEvent+" is not a hammerEvent managed in DragControlMethod");this._hammer.on(this._opts.hammerEvent+"start",this._handleStart.bind(this)),this._hammer.on(this._opts.hammerEvent+"move",this._handleMove.bind(this)),this._hammer.on(this._opts.hammerEvent+"end",this._handleEnd.bind(this)),this._hammer.on(this._opts.hammerEvent+"cancel",this._handleEnd.bind(this))}FM(ur);ur.prototype.destroy=function(){this._hammer.release(),WM(this)};ur.prototype._handleHammerEvent=function(e){if(e.isFirst){if(gf&&this._active)throw new Error("DragControlMethod active detected when already active");this._active=!0,this.emit("active")}if(e.isFinal){if(gf&&!this._active)throw new Error("DragControlMethod inactive detected when already inactive");this._active=!1,this.emit("inactive")}};ur.prototype._handleStart=function(e){e.preventDefault(),this._startEvent=e};ur.prototype._handleMove=function(e){e.preventDefault(),this._startEvent&&(this._updateDynamicsMove(e),this.emit("parameterDynamics","axisScaledX",this._dynamics.x),this.emit("parameterDynamics","axisScaledY",this._dynamics.y))};ur.prototype._handleEnd=function(e){e.preventDefault(),this._startEvent&&(this._updateDynamicsRelease(e),this.emit("parameterDynamics","axisScaledX",this._dynamics.x),this.emit("parameterDynamics","axisScaledY",this._dynamics.y)),this._startEvent=!1,this._lastEvent=!1};ur.prototype._updateDynamicsMove=function(e){var t=e.deltaX,r=e.deltaY,n=this._lastEvent||this._startEvent;n&&(t-=n.deltaX,r-=n.deltaY);var i=this._element.getBoundingClientRect(),o=i.right-i.left,s=i.bottom-i.top;t/=o,r/=s,this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.offset=-t,this._dynamics.y.offset=-r,this._lastEvent=e};var tl=[null,null];ur.prototype._updateDynamicsRelease=function(e){var t=this._element.getBoundingClientRect(),r=t.right-t.left,n=t.bottom-t.top,i=1e3*e.velocityX/r,o=1e3*e.velocityY/n;this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.velocity=i,this._dynamics.y.velocity=o,UM(this._opts.friction,this._dynamics.x.velocity,this._dynamics.y.velocity,this._opts.maxFrictionTime,tl),this._dynamics.x.friction=tl[0],this._dynamics.y.friction=tl[1]};var Y0=ur,YM=ue,wf=lr,bM=aa,XM=Vt,GM=B0.maxFriction,qM=ie,QM={speed:8,friction:6,maxFrictionTime:.3};function vn(e,t,r){this._element=e,this._opts=XM(r||{},QM),this._active=!1,this._hammer=bM.get(e,t),this._dynamics={x:new wf,y:new wf},this._hammer.on("panstart",this._handleStart.bind(this)),this._hammer.on("panmove",this._handleMove.bind(this)),this._hammer.on("panend",this._handleRelease.bind(this)),this._hammer.on("pancancel",this._handleRelease.bind(this))}YM(vn);vn.prototype.destroy=function(){this._hammer.release(),qM(this)};vn.prototype._handleStart=function(e){e.preventDefault(),this._active||(this._active=!0,this.emit("active"))};vn.prototype._handleMove=function(e){e.preventDefault(),this._updateDynamics(e,!1)};vn.prototype._handleRelease=function(e){e.preventDefault(),this._updateDynamics(e,!0),this._active&&(this._active=!1,this.emit("inactive"))};var rl=[null,null];vn.prototype._updateDynamics=function(e,t){var r=this._element.getBoundingClientRect(),n=r.right-r.left,i=r.bottom-r.top,o=Math.max(n,i),s=e.deltaX/o*this._opts.speed,a=e.deltaY/o*this._opts.speed;this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.velocity=s,this._dynamics.y.velocity=a,t&&(GM(this._opts.friction,this._dynamics.x.velocity,this._dynamics.y.velocity,this._opts.maxFrictionTime,rl),this._dynamics.x.friction=rl[0],this._dynamics.y.friction=rl[1]),this.emit("parameterDynamics","x",this._dynamics.x),this.emit("parameterDynamics","y",this._dynamics.y)};var b0=vn,ZM=ue,KM=lr,JM=Vt,e5=ie,t5={frictionTime:.2,zoomDelta:.001};function po(e,t){this._element=e,this._opts=JM(t||{},t5),this._dynamics=new KM,this._eventList=[];var r=this._opts.frictionTime?this.withSmoothing:this.withoutSmoothing;this._wheelListener=r.bind(this),e.addEventListener("wheel",this._wheelListener)}ZM(po);po.prototype.destroy=function(){this._element.removeEventListener("wheel",this._wheelListener),e5(this)};po.prototype.withoutSmoothing=function(e){this._dynamics.offset=X0(e)*this._opts.zoomDelta,this.emit("parameterDynamics","zoom",this._dynamics),e.preventDefault(),this.emit("active"),this.emit("inactive")};po.prototype.withSmoothing=function(e){var t=e.timeStamp;for(this._eventList.push(e);this._eventList[0].timeStamp<t-this._opts.frictionTime*1e3;)this._eventList.shift(0);for(var r=0,n=0;n<this._eventList.length;n++){var i=X0(this._eventList[n])*this._opts.zoomDelta;r+=i/this._opts.frictionTime}this._dynamics.velocity=r,this._dynamics.friction=Math.abs(r)/this._opts.frictionTime,this.emit("parameterDynamics","zoom",this._dynamics),e.preventDefault(),this.emit("active"),this.emit("inactive")};function X0(e){var t=e.deltaMode==1?20:1;return e.deltaY*t}var G0=po,r5=ue,n5=lr,i5=aa,o5=ie;function ti(e,t,r){this._hammer=i5.get(e,t),this._lastEvent=null,this._active=!1,this._dynamics=new n5,this._hammer.on("pinchstart",this._handleStart.bind(this)),this._hammer.on("pinch",this._handleEvent.bind(this)),this._hammer.on("pinchend",this._handleEnd.bind(this)),this._hammer.on("pinchcancel",this._handleEnd.bind(this))}r5(ti);ti.prototype.destroy=function(){this._hammer.release(),o5(this)};ti.prototype._handleStart=function(){this._active||(this._active=!0,this.emit("active"))};ti.prototype._handleEnd=function(){this._lastEvent=null,this._active&&(this._active=!1,this.emit("inactive"))};ti.prototype._handleEvent=function(e){var t=e.scale;this._lastEvent&&(t/=this._lastEvent.scale),this._dynamics.offset=(t-1)*-1,this.emit("parameterDynamics","zoom",this._dynamics),this._lastEvent=e};var q0=ti,s5=ue,a5=lr,l5=ie;function mo(e){if(!e)throw new Error("VelocityControlMethod: parameter must be defined");this._parameter=e,this._dynamics=new a5}s5(mo);mo.prototype.destroy=function(){l5(this)};mo.prototype.setVelocity=function(e){this._dynamics.velocity=e,this.emit("parameterDynamics",this._parameter,this._dynamics)};mo.prototype.setFriction=function(e){this._dynamics.friction=e,this.emit("parameterDynamics",this._parameter,this._dynamics)};var u5=mo,c5=ue,h5=lr,f5=ie;function yo(e,t,r,n){if(!e)throw new Error("ElementPressControlMethod: element must be defined");if(!t)throw new Error("ElementPressControlMethod: parameter must be defined");if(!r)throw new Error("ElementPressControlMethod: velocity must be defined");if(!n)throw new Error("ElementPressControlMethod: friction must be defined");this._element=e,this._pressHandler=this._handlePress.bind(this),this._releaseHandler=this._handleRelease.bind(this),e.addEventListener("mousedown",this._pressHandler),e.addEventListener("mouseup",this._releaseHandler),e.addEventListener("mouseleave",this._releaseHandler),e.addEventListener("touchstart",this._pressHandler),e.addEventListener("touchmove",this._releaseHandler),e.addEventListener("touchend",this._releaseHandler),this._parameter=t,this._velocity=r,this._friction=n,this._dynamics=new h5,this._pressing=!1}c5(yo);yo.prototype.destroy=function(){this._element.removeEventListener("mousedown",this._pressHandler),this._element.removeEventListener("mouseup",this._releaseHandler),this._element.removeEventListener("mouseleave",this._releaseHandler),this._element.removeEventListener("touchstart",this._pressHandler),this._element.removeEventListener("touchmove",this._releaseHandler),this._element.removeEventListener("touchend",this._releaseHandler),f5(this)};yo.prototype._handlePress=function(){this._pressing=!0,this._dynamics.velocity=this._velocity,this._dynamics.friction=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("active")};yo.prototype._handleRelease=function(){this._pressing&&(this._dynamics.friction=this._friction,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive")),this._pressing=!1};var d5=yo,v5=ue,p5=lr,m5=ln,y5=ie;function zt(e){e=e||{},this._methods=[],this._parameters=["x","y","axisScaledX","axisScaledY","zoom","yaw","pitch","roll"],this._now=e.nowForTesting||m5,this._composedOffsets={},this._composeReturn={offsets:this._composedOffsets,changing:null}}v5(zt);zt.prototype.add=function(e){if(!this.has(e)){var t={};this._parameters.forEach(function(i){t[i]={dynamics:new p5,time:null}});var r=this._updateDynamics.bind(this,t),n={instance:e,dynamics:t,parameterDynamicsHandler:r};e.addEventListener("parameterDynamics",r),this._methods.push(n)}};zt.prototype.remove=function(e){var t=this._indexOfInstance(e);if(t>=0){var r=this._methods.splice(t,1)[0];r.instance.removeEventListener("parameterDynamics",r.parameterDynamicsHandler)}};zt.prototype.has=function(e){return this._indexOfInstance(e)>=0};zt.prototype._indexOfInstance=function(e){for(var t=0;t<this._methods.length;t++)if(this._methods[t].instance===e)return t;return-1};zt.prototype.list=function(){for(var e=[],t=0;t<this._methods.length;t++)e.push(this._methods[t].instance);return e};zt.prototype._updateDynamics=function(e,t,r){var n=e[t];if(!n)throw new Error("Unknown control parameter "+t);var i=this._now();n.dynamics.update(r,(i-n.time)/1e3),n.time=i,this.emit("change")};zt.prototype._resetComposedOffsets=function(){for(var e=0;e<this._parameters.length;e++)this._composedOffsets[this._parameters[e]]=0};zt.prototype.offsets=function(){var e,t=!1,r=this._now();this._resetComposedOffsets();for(var n=0;n<this._methods.length;n++)for(var i=this._methods[n].dynamics,o=0;o<this._parameters.length;o++){e=this._parameters[o];var s=i[e],a=s.dynamics;a.offset!=null&&(this._composedOffsets[e]+=a.offset,a.offset=null);var l=(r-s.time)/1e3,u=a.offsetFromVelocity(l);u&&(this._composedOffsets[e]+=u);var c=a.velocityAfter(l);a.velocity=c,c&&(t=!0),s.time=r}return this._composeReturn.changing=t,this._composeReturn};zt.prototype.destroy=function(){for(var e=this.list(),t=0;t<e.length;t++)this.remove(e[t]);y5(this)};var _5=zt,g5=ue,w5=_5,x5=ie,Q0=typeof MARZIPANODEBUG<"u"&&MARZIPANODEBUG.controls;function re(e){e=e||{},this._methods={},this._methodGroups={},this._composer=new w5,this._enabled=e&&e.enabled?!!e.enabled:!0,this._activeCount=0,this.updatedViews_=[],this._attachedRenderLoop=null}g5(re);re.prototype.destroy=function(){this.detach(),this._composer.destroy(),x5(this)};re.prototype.methods=function(){var e={};for(var t in this._methods)e[t]=this._methods[t];return e};re.prototype.method=function(e){return this._methods[e]};re.prototype.registerMethod=function(e,t,r){if(this._methods[e])throw new Error("Control method already registered with id "+e);this._methods[e]={instance:t,enabled:!1,active:!1,activeHandler:this._handleActive.bind(this,e),inactiveHandler:this._handleInactive.bind(this,e)},r&&this.enableMethod(e,t)};re.prototype.unregisterMethod=function(e){var t=this._methods[e];if(!t)throw new Error("No control method registered with id "+e);t.enabled&&this.disableMethod(e),delete this._methods[e]};re.prototype.enableMethod=function(e){var t=this._methods[e];if(!t)throw new Error("No control method registered with id "+e);t.enabled||(t.enabled=!0,t.active&&this._incrementActiveCount(),this._listen(e),this._updateComposer(),this.emit("methodEnabled",e))};re.prototype.disableMethod=function(e){var t=this._methods[e];if(!t)throw new Error("No control method registered with id "+e);t.enabled&&(t.enabled=!1,t.active&&this._decrementActiveCount(),this._unlisten(e),this._updateComposer(),this.emit("methodDisabled",e))};re.prototype.addMethodGroup=function(e,t){this._methodGroups[e]=t};re.prototype.removeMethodGroup=function(e){delete this._methodGroups[e]};re.prototype.methodGroups=function(){var e={};for(var t in this._methodGroups)e[t]=this._methodGroups[t];return e};re.prototype.enableMethodGroup=function(e){var t=this;t._methodGroups[e].forEach(function(r){t.enableMethod(r)})};re.prototype.disableMethodGroup=function(e){var t=this;t._methodGroups[e].forEach(function(r){t.disableMethod(r)})};re.prototype.enabled=function(){return this._enabled};re.prototype.enable=function(){this._enabled||(this._enabled=!0,this._activeCount>0&&this.emit("active"),this.emit("enabled"),this._updateComposer())};re.prototype.disable=function(){this._enabled&&(this._enabled=!1,this._activeCount>0&&this.emit("inactive"),this.emit("disabled"),this._updateComposer())};re.prototype.attach=function(e){this._attachedRenderLoop&&this.detach(),this._attachedRenderLoop=e,this._beforeRenderHandler=this._updateViewsWithControls.bind(this),this._changeHandler=e.renderOnNextFrame.bind(e),this._attachedRenderLoop.addEventListener("beforeRender",this._beforeRenderHandler),this._composer.addEventListener("change",this._changeHandler)};re.prototype.detach=function(){this._attachedRenderLoop&&(this._attachedRenderLoop.removeEventListener("beforeRender",this._beforeRenderHandler),this._composer.removeEventListener("change",this._changeHandler),this._beforeRenderHandler=null,this._changeHandler=null,this._attachedRenderLoop=null)};re.prototype.attached=function(){return this._attachedRenderLoop!=null};re.prototype._listen=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");t.instance.addEventListener("active",t.activeHandler),t.instance.addEventListener("inactive",t.inactiveHandler)};re.prototype._unlisten=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");t.instance.removeEventListener("active",t.activeHandler),t.instance.removeEventListener("inactive",t.inactiveHandler)};re.prototype._handleActive=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");if(!t.enabled)throw new Error("Should not receive event from disabled control method");t.active||(t.active=!0,this._incrementActiveCount())};re.prototype._handleInactive=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");if(!t.enabled)throw new Error("Should not receive event from disabled control method");t.active&&(t.active=!1,this._decrementActiveCount())};re.prototype._incrementActiveCount=function(){this._activeCount++,Q0&&this._checkActiveCount(),this._enabled&&this._activeCount===1&&this.emit("active")};re.prototype._decrementActiveCount=function(){this._activeCount--,Q0&&this._checkActiveCount(),this._enabled&&this._activeCount===0&&this.emit("inactive")};re.prototype._checkActiveCount=function(){var e=0;for(var t in this._methods){var r=this._methods[t];r.enabled&&r.active&&e++}if(e!=this._activeCount)throw new Error("Bad control state")};re.prototype._updateComposer=function(){var e=this._composer;for(var t in this._methods){var r=this._methods[t],n=this._enabled&&r.enabled;n&&!e.has(r.instance)&&e.add(r.instance),!n&&e.has(r.instance)&&e.remove(r.instance)}};re.prototype._updateViewsWithControls=function(){var e=this._composer.offsets();e.changing&&this._attachedRenderLoop.renderOnNextFrame(),this.updatedViews_.length=0;for(var t=this._attachedRenderLoop.stage().listLayers(),r=0;r<t.length;r++){var n=t[r].view();this.updatedViews_.indexOf(n)<0&&(t[r].view().updateWithControlParameters(e.offsets),this.updatedViews_.push(n))}};var Z0=re,E5=Je.setTransform,xf=Sc;function S5(e,t,r,n){n=n||"";var i="translateX("+xf(t)+"px) translateY("+xf(r)+"px) translateZ(0) "+n;E5(e,i)}var K0=S5,M5=ue,T5=K0,C5=Je.setTransform,P5=ie;function at(e,t,r,n,i){i=i||{},i.perspective=i.perspective||{},i.perspective.extraTransforms=i.perspective.extraTransforms!=null?i.perspective.extraTransforms:"",this._domElement=e,this._parentDomElement=t,this._view=r,this._coords={},this._perspective={},this.setPosition(n),this._parentDomElement.appendChild(this._domElement),this.setPerspective(i.perspective),this._visible=!0,this._position={x:0,y:0}}M5(at);at.prototype.destroy=function(){this._parentDomElement.removeChild(this._domElement),P5(this)};at.prototype.domElement=function(){return this._domElement};at.prototype.position=function(){return this._coords};at.prototype.setPosition=function(e){for(var t in e)this._coords[t]=e[t];this._update()};at.prototype.perspective=function(){return this._perspective};at.prototype.setPerspective=function(e){for(var t in e)this._perspective[t]=e[t];this._update()};at.prototype.show=function(){this._visible||(this._visible=!0,this._update())};at.prototype.hide=function(){this._visible&&(this._visible=!1,this._update())};at.prototype._update=function(){var e=this._domElement,t=this._coords,r=this._position,n,i,o=!1;if(this._visible){var s=this._view;this._perspective.radius?(o=!0,this._setEmbeddedPosition(s,t)):(s.coordinatesToScreen(t,r),n=r.x,i=r.y,n!=null&&i!=null&&(o=!0,this._setPosition(n,i)))}o?(e.style.display="block",e.style.position="absolute"):(e.style.display="none",e.style.position="")};at.prototype._setEmbeddedPosition=function(e,t){var r=e.coordinatesToPerspectiveTransform(t,this._perspective.radius,this._perspective.extraTransforms);C5(this._domElement,r)};at.prototype._setPosition=function(e,t){T5(this._domElement,e,t,this._perspective.extraTransforms)};var J0=at,z5=ue,k5=J0,L5=Yv,Ef=K0,Sf=Je.setAbsolute,R5=Je.setOverflowHidden,$5=Je.setOverflowVisible,I5=Je.setNullSize,A5=Je.setPixelSize,Mf=Je.setWithVendorPrefix("pointer-events"),N5=ie;function lt(e,t,r,n,i){i=i||{},this._parentDomElement=e,this._stage=t,this._view=r,this._renderLoop=n,this._hotspots=[],this._visible=!0,this._rect=i.rect,this._visibilityOrRectChanged=!0,this._stageWidth=null,this._stageHeight=null,this._tmpRect={},this._hotspotContainerWrapper=document.createElement("div"),Sf(this._hotspotContainerWrapper),Mf(this._hotspotContainerWrapper,"none"),this._parentDomElement.appendChild(this._hotspotContainerWrapper),this._hotspotContainer=document.createElement("div"),Sf(this._hotspotContainer),Mf(this._hotspotContainer,"all"),this._hotspotContainerWrapper.appendChild(this._hotspotContainer),this._updateHandler=this._update.bind(this),this._renderLoop.addEventListener("afterRender",this._updateHandler)}z5(lt);lt.prototype.destroy=function(){for(;this._hotspots.length;)this.destroyHotspot(this._hotspots[0]);this._parentDomElement.removeChild(this._hotspotContainerWrapper),this._renderLoop.removeEventListener("afterRender",this._updateHandler),N5(this)};lt.prototype.domElement=function(){return this._hotspotContainer};lt.prototype.setRect=function(e){this._rect=e,this._visibilityOrRectChanged=!0};lt.prototype.rect=function(){return this._rect};lt.prototype.createHotspot=function(e,t,r){t=t||{};var n=new k5(e,this._hotspotContainer,this._view,t,r);return this._hotspots.push(n),n._update(),this.emit("hotspotsChange"),n};lt.prototype.hasHotspot=function(e){return this._hotspots.indexOf(e)>=0};lt.prototype.listHotspots=function(){return[].concat(this._hotspots)};lt.prototype.destroyHotspot=function(e){var t=this._hotspots.indexOf(e);if(t<0)throw new Error("No such hotspot");this._hotspots.splice(t,1),e.destroy(),this.emit("hotspotsChange")};lt.prototype.hide=function(){this._visible&&(this._visible=!1,this._visibilityOrRectChanged=!0,this._update())};lt.prototype.show=function(){this._visible||(this._visible=!0,this._visibilityOrRectChanged=!0,this._update())};lt.prototype._update=function(){var e=this._hotspotContainerWrapper,t=this._stage.width(),r=this._stage.height(),n=this._tmpRect;if(this._visibilityOrRectChanged||this._rect&&(t!==this._stageWidth||r!==this._stageHeight)){var i=this._visible;e.style.display=i?"block":"none",i&&(this._rect?(L5(t,r,this._rect,n),Ef(e,t*n.x,r*n.y),A5(e,t*n.width,r*n.height),R5(e)):(Ef(e,0,0),I5(e),$5(e))),this._stageWidth=t,this._stageHeight=r,this._visibilityOrRectChanged=!1}for(var o=0;o<this._hotspots.length;o++)this._hotspots[o]._update()};var e1=lt,O5=D0,D5=N0,H5=e1,F5=ue,t1=ln,j5=fo,V5=co,Tf=Vt,U5=ie;function Se(e,t){this._viewer=e,this._view=t,this._layers=[],this._hotspotContainer=new H5(e._controlContainer,e.stage(),this._view,e.renderLoop()),this._movement=null,this._movementStartTime=null,this._movementStep=null,this._movementParams=null,this._movementCallback=null,this._updateMovementHandler=this._updateMovement.bind(this),this._updateHotspotContainerHandler=this._updateHotspotContainer.bind(this),this._viewer.addEventListener("sceneChange",this._updateHotspotContainerHandler),this._viewChangeHandler=this.emit.bind(this,"viewChange"),this._view.addEventListener("change",this._viewChangeHandler),this._updateHotspotContainer()}F5(Se);Se.prototype.destroy=function(){this._view.removeEventListener("change",this._viewChangeHandler),this._viewer.removeEventListener("sceneChange",this._updateHotspotContainerHandler),this._movement&&this.stopMovement(),this._hotspotContainer.destroy(),this.destroyAllLayers(),U5(this)};Se.prototype.hotspotContainer=function(){return this._hotspotContainer};Se.prototype.layer=function(){return this._layers[0]};Se.prototype.listLayers=function(){return[].concat(this._layers)};Se.prototype.view=function(){return this._view};Se.prototype.viewer=function(){return this._viewer};Se.prototype.visible=function(){return this._viewer.scene()===this};Se.prototype.createLayer=function(e){e=e||{};var t=e.textureStoreOpts||{},r=e.layerOpts||{},n=e.source,i=e.geometry,o=this._view,s=this._viewer.stage(),a=new D5(n,s,t),l=new O5(n,i,o,a,r);return this._layers.push(l),e.pinFirstLevel&&l.pinFirstLevel(),this.emit("layerChange"),l};Se.prototype.destroyLayer=function(e){var t=this._layers.indexOf(e);if(t<0)throw new Error("No such layer in scene");this._layers.splice(t,1),this.emit("layerChange"),e.textureStore().destroy(),e.destroy()};Se.prototype.destroyAllLayers=function(){for(;this._layers.length>0;)this.destroyLayer(this._layers[0])};Se.prototype.switchTo=function(e,t){return this._viewer.switchScene(this,e,t)};Se.prototype.lookTo=function(e,t,r){var n=this;if(t=t||{},r=r||j5,V5(e)!=="object")throw new Error("Target view parameters must be an object");var i=function(p){return(p*=2)<1?.5*p*p:-.5*(--p*(p-2)-1)},o=t.ease!=null?t.ease:i,s=t.controlsInterrupt!=null?t.controlsInterrupt:!1,a=t.transitionDuration!=null?t.transitionDuration:1e3,l=t.shortest!=null?t.shortest:!0,u=this._view,c=u.parameters(),h={};Tf(h,e),Tf(h,c),l&&u.normalizeToClosest&&u.normalizeToClosest(h,h);var f=function(){var p=!1;return function(w,g){if(g>=a&&p)return null;var m=Math.min(g/a,1);for(var y in w){var x=c[y],S=h[y];w[y]=x+o(m)*(S-x)}return p=g>=a,w}},d=this._viewer.controls().enabled();s||this._viewer.controls().disable(),this.startMovement(f,function(){d&&n._viewer.controls().enable(),r()})};Se.prototype.startMovement=function(e,t){var r=this._viewer.renderLoop();this._movement&&this.stopMovement();var n=e();if(typeof n!="function")throw new Error("Bad movement");this._movement=e,this._movementStep=n,this._movementStartTime=t1(),this._movementParams={},this._movementCallback=t,r.addEventListener("beforeRender",this._updateMovementHandler),r.renderOnNextFrame()};Se.prototype.stopMovement=function(){var e=this._movementCallback,t=this._viewer.renderLoop();this._movement&&(this._movement=null,this._movementStep=null,this._movementStartTime=null,this._movementParams=null,this._movementCallback=null,t.removeEventListener("beforeRender",this._updateMovementHandler),e&&e())};Se.prototype.movement=function(){return this._movement};Se.prototype._updateMovement=function(){if(!this._movement)throw new Error("Should not call update");var e=this._viewer.renderLoop(),t=this._view,r=t1()-this._movementStartTime,n=this._movementStep,i=this._movementParams;i=t.parameters(i),i=n(i,r),i==null?this.stopMovement():(t.setParameters(i),e.renderOnNextFrame())};Se.prototype._updateHotspotContainer=function(){this.visible()?this._hotspotContainer.show():this._hotspotContainer.hide()};var r1=Se,W5=ue,B5=Vt,n1=ln,Y5={duration:1/0};function Ut(e){e=B5(e||{},Y5),this._duration=e.duration,this._startTime=null,this._handle=null,this._check=this._check.bind(this)}W5(Ut);Ut.prototype.start=function(){this._startTime=n1(),this._handle==null&&this._duration<1/0&&this._setup(this._duration)};Ut.prototype.started=function(){return this._startTime!=null};Ut.prototype.stop=function(){this._startTime=null,this._handle!=null&&(clearTimeout(this._handle),this._handle=null)};Ut.prototype._setup=function(e){this._handle=setTimeout(this._check,e)};Ut.prototype._teardown=function(){clearTimeout(this._handle),this._handle=null};Ut.prototype._check=function(){var e=n1(),t=e-this._startTime,r=this._duration-t;this._teardown(),r<=0?(this.emit("timeout"),this._startTime=null):r<1/0&&this._setup(r)};Ut.prototype.duration=function(){return this._duration};Ut.prototype.setDuration=function(e){this._duration=e,this._startTime!=null&&this._check()};var b5=Ut,X5=Vt,G5=ie,q5={active:"move",inactive:"default",disabled:"default"};function ri(e,t,r,n){n=X5(n||{},q5),this._element=r,this._controls=e,this._id=t,this._attached=!1,this._setActiveCursor=this._setCursor.bind(this,n.active),this._setInactiveCursor=this._setCursor.bind(this,n.inactive),this._setDisabledCursor=this._setCursor.bind(this,n.disabled),this._setOriginalCursor=this._setCursor.bind(this,this._element.style.cursor),this._updateAttachmentHandler=this._updateAttachment.bind(this),e.addEventListener("methodEnabled",this._updateAttachmentHandler),e.addEventListener("methodDisabled",this._updateAttachmentHandler),e.addEventListener("enabled",this._updateAttachmentHandler),e.addEventListener("disabled",this._updateAttachmentHandler),this._updateAttachment()}ri.prototype.destroy=function(){this._detachFromControlMethod(this._controls.method(this._id)),this._setOriginalCursor(),this._controls.removeEventListener("methodEnabled",this._updateAttachmentHandler),this._controls.removeEventListener("methodDisabled",this._updateAttachmentHandler),this._controls.removeEventListener("enabled",this._updateAttachmentHandler),this._controls.removeEventListener("disabled",this._updateAttachmentHandler),G5(this)};ri.prototype._updateAttachment=function(){var e=this._controls,t=this._id;e.enabled()&&e.method(t).enabled?this._attachToControlMethod(e.method(t)):this._detachFromControlMethod(e.method(t))};ri.prototype._attachToControlMethod=function(e){this._attached||(e.instance.addEventListener("active",this._setActiveCursor),e.instance.addEventListener("inactive",this._setInactiveCursor),e.active?this._setActiveCursor():this._setInactiveCursor(),this._attached=!0)};ri.prototype._detachFromControlMethod=function(e){this._attached&&(e.instance.removeEventListener("active",this._setActiveCursor),e.instance.removeEventListener("inactive",this._setInactiveCursor),this._setDisabledCursor(),this._attached=!1)};ri.prototype._setCursor=function(e){this._element.style.cursor=e};var Q5=ri,Z5=Vt,nl=Y0,K5=b0,J5=G0,eT=q0,ht=F0,tT={mouseViewMode:"drag",dragMode:"pan"};function rT(e,t,r){r=Z5(r||{},tT);var n={mouseViewDrag:new nl(t,"mouse"),mouseViewQtvr:new K5(t,"mouse"),leftArrowKey:new ht(37,"x",-.7,3),rightArrowKey:new ht(39,"x",.7,3),upArrowKey:new ht(38,"y",-.7,3),downArrowKey:new ht(40,"y",.7,3),plusKey:new ht(107,"zoom",-.7,3),minusKey:new ht(109,"zoom",.7,3),wKey:new ht(87,"y",-.7,3),aKey:new ht(65,"x",-.7,3),sKey:new ht(83,"y",.7,3),dKey:new ht(68,"x",.7,3),qKey:new ht(81,"roll",.7,3),eKey:new ht(69,"roll",-.7,3)},i=["scrollZoom","touchView","pinch"];r.scrollZoom!==!1&&(n.scrollZoom=new J5(t));var o={arrowKeys:["leftArrowKey","rightArrowKey","upArrowKey","downArrowKey"],plusMinusKeys:["plusKey","minusKey"],wasdKeys:["wKey","aKey","sKey","dKey"],qeKeys:["qKey","eKey"]};switch(r.dragMode){case"pinch":n.pinch=new nl(t,"touch",{hammerEvent:"pinch"});break;case"pan":n.touchView=new nl(t,"touch"),n.pinch=new eT(t,"touch");break;default:throw new Error("Unknown drag mode: "+r.dragMode)}switch(r.mouseViewMode){case"drag":i.push("mouseViewDrag");break;case"qtvr":i.push("mouseViewQtvr");break;default:throw new Error("Unknown mouse view mode: "+r.mouseViewMode)}for(var s in n){var a=n[s];e.registerMethod(s,a),i.indexOf(s)>=0&&e.enableMethod(s)}for(var l in o){var u=o[l];e.addMethodGroup(l,u)}return n}var i1=rT,Cf=ln;function nT(e,t,r){var n=!1,i=Cf();function o(){if(!n){var s=(Cf()-i)/e;s<1?(t(s),requestAnimationFrame(o)):(t(1),r())}}return t(0),requestAnimationFrame(o),function(){n=!0,r.apply(null,arguments)}}var o1=nT,iT=ue,oT=H0,sT=Z0,aT=r1,lT=b5,uT=tp,cT=Q5,Pf=aa,hT=i1,fT=w0,dT=Je.setOverflowHidden,vT=Je.setAbsolute,pT=Je.setFullSize,mT=o1,yT=fo,_T=ie;function Z(e,t){t=t||{},this._domElement=e,dT(e),this._stage=new uT(t.stage),fT(this._stage),this._domElement.appendChild(this._stage.domElement()),this._controlContainer=document.createElement("div"),vT(this._controlContainer),pT(this._controlContainer),e.appendChild(this._controlContainer),this._size={},this.updateSize(),this._updateSizeListener=this.updateSize.bind(this),window.addEventListener("resize",this._updateSizeListener),this._renderLoop=new oT(this._stage),this._controls=new sT,this._controlMethods=hT(this._controls,this._controlContainer,t.controls),this._controls.attach(this._renderLoop),this._hammerManagerTouch=Pf.get(this._controlContainer,"touch"),this._hammerManagerMouse=Pf.get(this._controlContainer,"mouse"),this._dragCursor=new cT(this._controls,"mouseViewDrag",e,t.cursors&&t.cursors.drag||{}),this._renderLoop.start(),this._scenes=[],this._currentScene=null,this._replacedScene=null,this._cancelCurrentTween=null,this._layerChangeHandler=this._updateSceneLayers.bind(this),this._viewChangeHandler=this.emit.bind(this,"viewChange"),this._idleTimer=new lT,this._idleTimer.start(),this._resetIdleTimerHandler=this._resetIdleTimer.bind(this),this.addEventListener("viewChange",this._resetIdleTimerHandler),this._triggerIdleTimerHandler=this._triggerIdleTimer.bind(this),this._idleTimer.addEventListener("timeout",this._triggerIdleTimerHandler),this._stopMovementHandler=this.stopMovement.bind(this),this._controls.addEventListener("active",this._stopMovementHandler),this.addEventListener("sceneChange",this._stopMovementHandler),this._idleMovement=null}iT(Z);Z.prototype.destroy=function(){window.removeEventListener("resize",this._updateSizeListener),this._currentScene&&this._removeSceneEventListeners(this._currentScene),this._replacedScene&&this._removeSceneEventListeners(this._replacedScene),this._dragCursor.destroy();for(var e in this._controlMethods)this._controlMethods[e].destroy();for(;this._scenes.length;)this.destroyScene(this._scenes[0]);this._domElement.removeChild(this._stage.domElement()),this._stage.destroy(),this._renderLoop.destroy(),this._controls.destroy(),this._controls=null,this._cancelCurrentTween&&this._cancelCurrentTween(),_T(this)};Z.prototype.updateSize=function(){var e=this._size;e.width=this._domElement.clientWidth,e.height=this._domElement.clientHeight,this._stage.setSize(e)};Z.prototype.stage=function(){return this._stage};Z.prototype.renderLoop=function(){return this._renderLoop};Z.prototype.controls=function(){return this._controls};Z.prototype.domElement=function(){return this._domElement};Z.prototype.createScene=function(e){e=e||{};var t=this.createEmptyScene({view:e.view});return t.createLayer({source:e.source,geometry:e.geometry,pinFirstLevel:e.pinFirstLevel,textureStoreOpts:e.textureStoreOpts,layerOpts:e.layerOpts}),t};Z.prototype.createEmptyScene=function(e){e=e||{};var t=new aT(this,e.view);return this._scenes.push(t),t};Z.prototype._updateSceneLayers=function(){var e,t,r=this._stage,n=this._currentScene,i=this._replacedScene,o=r.listLayers(),s=[];if(i&&(s=s.concat(i.listLayers())),n&&(s=s.concat(n.listLayers())),Math.abs(o.length-s.length)!==1)throw new Error("Stage and scene out of sync");if(s.length<o.length){for(e=0;e<o.length;e++)if(t=o[e],s.indexOf(t)<0){this._removeLayerFromStage(t);break}}if(s.length>o.length)for(e=0;e<s.length;e++)t=s[e],o.indexOf(t)<0&&this._addLayerToStage(t,e)};Z.prototype._addLayerToStage=function(e,t){e.pinFirstLevel(),this._stage.addLayer(e,t)};Z.prototype._removeLayerFromStage=function(e){this._stage.removeLayer(e),e.unpinFirstLevel(),e.textureStore().clearNotPinned()};Z.prototype._addSceneEventListeners=function(e){e.addEventListener("layerChange",this._layerChangeHandler),e.addEventListener("viewChange",this._viewChangeHandler)};Z.prototype._removeSceneEventListeners=function(e){e.removeEventListener("layerChange",this._layerChangeHandler),e.removeEventListener("viewChange",this._viewChangeHandler)};Z.prototype.destroyScene=function(e){var t=this._scenes.indexOf(e);if(t<0)throw new Error("No such scene in viewer");var r,n;if(this._currentScene===e){for(this._removeSceneEventListeners(e),n=e.listLayers(),r=0;r<n.length;r++)this._removeLayerFromStage(n[r]);this._cancelCurrentTween&&(this._cancelCurrentTween(),this._cancelCurrentTween=null),this._currentScene=null,this.emit("sceneChange")}if(this._replacedScene===e){for(this._removeSceneEventListeners(e),n=e.listLayers(),r=0;r<n.length;r++)this._removeLayerFromStage(n[r]);this._replacedScene=null}this._scenes.splice(t,1),e.destroy()};Z.prototype.destroyAllScenes=function(){for(;this._scenes.length>0;)this.destroyScene(this._scenes[0])};Z.prototype.hasScene=function(e){return this._scenes.indexOf(e)>=0};Z.prototype.listScenes=function(){return[].concat(this._scenes)};Z.prototype.scene=function(){return this._currentScene};Z.prototype.view=function(){var e=this._currentScene;return e?e.view():null};Z.prototype.lookTo=function(e,t,r){var n=this._currentScene;n&&n.lookTo(e,t,r)};Z.prototype.startMovement=function(e,t){var r=this._currentScene;r&&r.startMovement(e,t)};Z.prototype.stopMovement=function(){var e=this._currentScene;e&&e.stopMovement()};Z.prototype.movement=function(){var e=this._currentScene;if(e)return e.movement()};Z.prototype.setIdleMovement=function(e,t){this._idleTimer.setDuration(e),this._idleMovement=t};Z.prototype.breakIdleMovement=function(){this.stopMovement(),this._resetIdleTimer()};Z.prototype._resetIdleTimer=function(){this._idleTimer.start()};Z.prototype._triggerIdleTimer=function(){var e=this._idleMovement;e&&this.startMovement(e)};var gT=1e3;function wT(e,t,r){var n=t.listLayers();n.forEach(function(i){i.mergeEffects({opacity:e})}),t._hotspotContainer.domElement().style.opacity=e}Z.prototype.switchScene=function(e,t,r){var n=this;t=t||{},r=r||yT;var i=this._stage,o=this._currentScene;if(o===e){r();return}if(this._scenes.indexOf(e)<0)throw new Error("No such scene in viewer");this._cancelCurrentTween&&(this._cancelCurrentTween(),this._cancelCurrentTween=null);var s=o?o.listLayers():[],a=e.listLayers(),l=i.listLayers();if(o&&(l.length!==s.length||l.length>1&&l[0]!=s[0]))throw new Error("Stage not in sync with viewer");for(var u=t.transitionDuration!=null?t.transitionDuration:gT,c=t.transitionUpdate!=null?t.transitionUpdate:wT,h=0;h<a.length;h++)this._addLayerToStage(a[h]);function f(p){c(p,e,o)}function d(){if(n._replacedScene){n._removeSceneEventListeners(n._replacedScene),s=n._replacedScene.listLayers();for(var p=0;p<s.length;p++)n._removeLayerFromStage(s[p]);n._replacedScene=null}n._cancelCurrentTween=null,r()}this._cancelCurrentTween=mT(u,f,d),this._currentScene=e,this._replacedScene=o,this.emit("sceneChange"),this.emit("viewChange"),this._addSceneEventListeners(e)};var xT=Z,la=Ae.vec4,ET=Ae.mat4;function ST(e){var t=e||{};return t.colorOffset=t.colorOffset||la.create(),t.colorMatrix=t.colorMatrix||ET.create(),t}function s1(e,t,r){MT(r,e,t.colorMatrix),la.add(r,r,t.colorOffset)}function MT(e,t,r){var n=t[0],i=t[1],o=t[2],s=t[3];return e[0]=r[0]*n+r[1]*i+r[2]*o+r[3]*s,e[1]=r[4]*n+r[5]*i+r[6]*o+r[7]*s,e[2]=r[8]*n+r[9]*i+r[10]*o+r[11]*s,e[3]=r[12]*n+r[13]*i+r[14]*o+r[15]*s,e}var Ur=la.create();function TT(e,t){for(var r=e.width,n=e.height,i=e.data,o=0;o<r*n;o++)la.set(Ur,i[o*4+0]/255,i[o*4+1]/255,i[o*4+2]/255,i[o*4+3]/255),s1(Ur,t,Ur),i[o*4+0]=Ur[0]*255,i[o*4+1]=Ur[1]*255,i[o*4+2]=Ur[2]*255,i[o*4+3]=Ur[3]*255}var CT={identity:ST,applyToPixel:s1,applyToImageData:TT},PT=Vt,il=.1,ol=.01,zT={yawSpeed:il,pitchSpeed:il,fovSpeed:il,yawAccel:ol,pitchAccel:ol,fovAccel:ol,targetPitch:0,targetFov:null};function kT(e){e=PT(e||{},zT);var t=e.yawSpeed,r=e.pitchSpeed,n=e.fovSpeed,i=e.yawAccel,o=e.pitchAccel,s=e.fovAccel,a=e.targetPitch,l=e.targetFov;return function(){var c=0,h=0,f=0,d=0,p=0,w=0,g=0,m,y,x,S;return function(T,z){if(m=(z-c)/1e3,p=Math.min(h+m*i,t),y=p*m,T.yaw=T.yaw+y,a!=null&&T.pitch!==a){var L=.5*f*f/o;Math.abs(a-T.pitch)>L?w=Math.min(f+m*o,r):w=Math.max(f-m*o,0),x=w*m,a<T.pitch&&(T.pitch=Math.max(a,T.pitch-x)),a>T.pitch&&(T.pitch=Math.min(a,T.pitch+x))}if(l!=null&&T.fov!==a){var D=.5*d*d/s;Math.abs(l-T.fov)>D?g=Math.min(d+m*s,n):g=Math.max(d-m*s,0),S=g*m,l<T.fov&&(T.fov=Math.max(l,T.fov-S)),l>T.fov&&(T.fov=Math.min(l,T.fov+S))}return c=z,h=p,f=w,d=g,T}}}var LT=kT;function RT(e,t){function r(){t&&t.length>0?e.apply(null,t):e()}setTimeout(r,0)}var $T=RT;function IT(e){return e*Math.PI/180}var AT=IT;function NT(e){return e*180/Math.PI}var OT=NT,su={WebGlStage:tp,WebGlCubeRenderer:p0,WebGlFlatRenderer:y0,WebGlEquirectRenderer:g0,registerDefaultRenderers:w0,CubeGeometry:Z4,FlatGeometry:aS,EquirectGeometry:dS,RectilinearView:AS,FlatView:WS,ImageUrlSource:sM,SingleAssetSource:aM,StaticAsset:oc,DynamicAsset:fM,TextureStore:N0,Layer:D0,RenderLoop:H0,KeyControlMethod:F0,DragControlMethod:Y0,QtvrControlMethod:b0,ScrollZoomControlMethod:G0,PinchZoomControlMethod:q0,VelocityControlMethod:u5,ElementPressControlMethod:d5,Controls:Z0,Dynamics:lr,Viewer:xT,Scene:r1,Hotspot:J0,HotspotContainer:e1,colorEffects:CT,registerDefaultControls:i1,autorotate:LT,util:{async:bv,cancelize:Xv,chain:Mc,clamp:Kn,clearOwnProperties:ie,cmp:lo,compose:C0,convertFov:T0,decimal:Sc,defaults:Vt,defer:$T,degToRad:AT,delay:R0,dom:Je,extend:O0,hash:ra,inherits:Ht,mod:Or,noop:fo,now:ln,once:nc,pixelRatio:ea,radToDeg:OT,real:Ec,retry:$0,tween:o1,type:co},dependencies:{bowser:sc,glMatrix:Ae,eventEmitter:ue,hammerjs:V0}};const Mi=au(su),DT=(e,t)=>{const r={controls:{mouseViewMode:t.mouseViewMode}};return new Mi.Viewer(e.current,r)},HT=(e,t,r,n)=>{const i=Mi.ImageUrlSource.fromString(`/${n}/assets/tiles/${t.id}/{z}/{f}/{y}/{x}.jpg`,{cubeMapPreviewUrl:`/${n}/assets/tiles/${t.id}/preview.jpg`}),o=r.levels,s=r.faceSize,a=new Mi.CubeGeometry(o),l=Mi.RectilinearView.limit.traditional(s,100*Math.PI/180,120*Math.PI/180),u=new Mi.RectilinearView(t.initialViewParameters,l);return e.createScene({source:i,geometry:a,view:u,pinFirstLevel:!0})},FT=(e,t,r)=>{const[n,i]=ye.useState([]),[o,s]=ye.useState(null),[a,l]=ye.useState(t.settings.autorotateEnabled),u=ye.useRef(null);return ye.useEffect(()=>{if(!e.current)return;const{settings:h,scenes:f,common:d}=t,p=DT(e,h);s(p);const w="react-marzipano",g=f.map(m=>HT(p,m,d,w));if(i(g),g[r]&&g[r].switchTo(),a){const m={yawSpeed:.03,targetPitch:0,targetFov:Math.PI/4};u.current=su.autorotate(m),p.setIdleMovement(3e3,u.current),p.startMovement(u.current)}return()=>{p.stopMovement(),p.setIdleMovement(1/0)}},[e,t,r]),ye.useEffect(()=>{if(o)if(a){const h={yawSpeed:.03,targetPitch:0,targetFov:Math.PI/4};u.current=su.autorotate(h),o.setIdleMovement(3e3,u.current),o.startMovement(u.current)}else o.stopMovement(),o.setIdleMovement(1/0)},[a,o]),{viewer:o,sceneObjects:n,isAutorotating:a,toggleAutorotation:()=>{l(!a)}}},jT={levels:[{tileSize:256,size:256,fallbackOnly:!0},{tileSize:512,size:512},{tileSize:512,size:1024},{tileSize:512,size:2048}],faceSize:1520},VT=[{id:"0-museo-1",name:"Museo",initialViewParameters:{yaw:.0073876370454897256,pitch:.004988716927911696,fov:1.4550425388027854},linkHotspots:[{yaw:-.23817464724527682,pitch:.10231538244980953,rotation:720,target:"2-ingresso-museo-primo-locale-1",isRed:!0,text:"Hover Message"},{yaw:1.5088723555172425,pitch:.2764355655316546,rotation:270,target:"1-museo-2",isRed:!1}],infoHotspots:[{yaw:.47983935090504026,pitch:-.24488264090410183,title:"Museo Valdimagnino di Amagno",videoLink:"contadino parlante (macchima del gelato).mp4"},{yaw:-.47983935090504026,pitch:.24488264090410183,title:"Museo Valdimagnino di Amagno",infoText:"Entrata"}]},{id:"1-museo-2",name:"Museo",initialViewParameters:{yaw:-.33247259182996913,pitch:.15215586630126765,fov:1.4550425388027854},linkHotspots:[{yaw:.7585240356298737,pitch:.06473834479165141,rotation:315,target:"13-piazzetta-esterna-3",isRed:!1},{yaw:-1.763085814502526,pitch:.19675875920273,rotation:90,target:"0-museo-1",isRed:!0}],infoHotspots:[{yaw:-1.3964035004162216,pitch:-.2144186852938219,title:"Museo Valdimagnino di Amagno",infoText:"Text"}]},{id:"2-ingresso-museo-primo-locale-1",name:"Ingresso Museo - primo locale",initialViewParameters:{yaw:-1.9098935415135294,pitch:.2812820205300852,fov:1.4550425388027854},linkHotspots:[{yaw:1.1,pitch:.2,rotation:194.7,target:"0-museo-1",isRed:!1},{yaw:-1.7475782313745416,pitch:.4425969374781431,rotation:675,target:"3-ingresso-museo-primo-locale-2",isRed:!0}],infoHotspots:[{yaw:2.0696263665191124,pitch:-.23645498179391033,title:"Campane",infoText:"campane e campanelle antiche"},{yaw:-2.8455095414426914,pitch:.6174025152499762,title:"cose entrata",infoText:"Text"}]},{id:"3-ingresso-museo-primo-locale-2",name:"Ingresso Museo - primo locale",initialViewParameters:{yaw:1.494929883643513,pitch:.277927618178321,fov:1.4550425388027854},linkHotspots:[{yaw:-1,pitch:.5,rotation:114.6,target:"2-ingresso-museo-primo-locale-1",isRed:!1},{yaw:2.0633658797847385,pitch:.5653961158338117,rotation:450,target:"5-museo-secondo-locale-1",isRed:!1},{yaw:.6875001061502992,pitch:.25264886457414804,rotation:45,target:"4-ingresso-al-tunnel-della-nevera",isRed:!0}],infoHotspots:[{yaw:.6602894520743341,pitch:.3955729112845354,title:"Oggetti entrata i2",infoText:"0",videoLink:"VID-20230510-WA0000.mp4"},{yaw:1.2722730725212834,pitch:-.18766926510757997,title:"mappa su oggeto",infoText:"Text"},{yaw:-2.617942912404178,pitch:-.224065436581661,title:"oggetti entrata i2",infoText:"1"}]},{id:"4-ingresso-al-tunnel-della-nevera",name:"Ingresso al tunnel della Nevera",initialViewParameters:{yaw:-2.883657100488371,pitch:.11433160168152412,fov:1.4550425388027854},linkHotspots:[{yaw:-2.9895572951990594,pitch:.25555409802460716,rotation:0,target:"7-proseguimento-tunnel",isRed:!0},{yaw:-.6,pitch:.2,rotation:171.9,target:"3-ingresso-museo-primo-locale-2",isRed:!1},{yaw:-1.4,pitch:.3,rotation:0,target:"5-museo-secondo-locale-1",isRed:!1}],infoHotspots:[{yaw:-1.2306920914586392,pitch:-.1948963292575865,title:"Oggetti seconda stanza",infoText:"0"},{yaw:1.208816503897357,pitch:-.3406714748726614,title:"Omaggio",infoText:"Le persone che hanno conrtribuito alla costruzione di questo museo"}]},{id:"5-museo-secondo-locale-1",name:"Museo - secondo locale",initialViewParameters:{pitch:0,yaw:0,fov:1.5707963267948966},linkHotspots:[{yaw:-.6346106268420115,pitch:.3294780074123391,rotation:315,target:"3-ingresso-museo-primo-locale-2",isRed:!0},{yaw:-2.0929144475571064,pitch:.4481530042919637,rotation:45,target:"6-museo-secondo-locale-2",isRed:!1}],infoHotspots:[{yaw:.567023140974122,pitch:-.35435380978542597,title:"Title",infoText:"Text"},{yaw:-2.9003265388186144,pitch:-.03171791431554638,title:"Oggetti seconda stanza",infoText:"1"}]},{id:"6-museo-secondo-locale-2",name:"Museo - secondo locale",initialViewParameters:{pitch:0,yaw:0,fov:1.5707963267948966},linkHotspots:[{yaw:-.561814934065378,pitch:.4029667454707706,rotation:45,target:"5-museo-secondo-locale-1",isRed:!0}],infoHotspots:[{yaw:-2.86482781122937,pitch:.037348969514427566,title:"cantina vini",infoText:"Text"}]},{id:"7-proseguimento-tunnel",name:"Proseguimento tunnel",initialViewParameters:{yaw:3.036333285788925,pitch:.15215586630125344,fov:1.4550425388027854},linkHotspots:[{yaw:-.05,pitch:.3,rotation:171.9,target:"4-ingresso-al-tunnel-della-nevera",isRed:!1},{yaw:3.1060420809943405,pitch:.3208542954131417,rotation:270,target:"8-svincolo-tunnel",isRed:!0}],infoHotspots:[{yaw:.05126875333364467,pitch:.01875466431265771,title:"Aula museo",infoText:"Text"}]},{id:"8-svincolo-tunnel",name:"Svincolo Tunnel",initialViewParameters:{yaw:-2.809898127423267,pitch:.4400642649937794,fov:1.4550425388027854},linkHotspots:[{yaw:2.4,pitch:.2,rotation:171.9,target:"7-proseguimento-tunnel",isRed:!1},{yaw:-2.3842312723738512,pitch:.8399539928291748,rotation:450,target:"9-nicchia",isRed:!0},{yaw:-2.3727164315862623,pitch:.3661397457099902,rotation:0,target:"10-nevera",isRed:!1}],infoHotspots:[{yaw:-.8869616198976615,pitch:-.23188891911749288,title:"Title",infoText:"Text"},{yaw:2.5533413390312987,pitch:-.19230845110633332,title:"Museo",infoText:"Text"}]},{id:"9-nicchia",name:"Nicchia",initialViewParameters:{pitch:0,yaw:0,fov:1.5707963267948966},linkHotspots:[{yaw:-1.35,pitch:.3,rotation:0,target:"10-nevera",isRed:!0},{yaw:1.772068458614073,pitch:-.08755271039518853,rotation:135,target:"8-svincolo-tunnel",isRed:!1}],infoHotspots:[{yaw:.13748274379255676,pitch:.03552663226146535,title:"Vini vari",infoText:"Text"}]},{id:"10-nevera",name:"Nevera",initialViewParameters:{yaw:2.97670003046582,pitch:.6362944691244827,fov:1.4550425388027854},linkHotspots:[{yaw:.09453637654975111,pitch:.4148240557919394,rotation:270,target:"9-nicchia",isRed:!1},{yaw:.10584313165782433,pitch:.053376538394326545,rotation:135,target:"8-svincolo-tunnel",isRed:!1},{yaw:-3.068797817557371,pitch:-.6256786159285639,rotation:0,target:"11-piazzetta-esterna-1",isRed:!0}],infoHotspots:[{yaw:2.57093305124663,pitch:.30190122157420163,title:"Vini",infoText:"tenuti al fresco, d'inverno venivano sommersi con la neve per tenerli buoni"},{yaw:-2.7752216618608756,pitch:-.585480331577072,title:"Botola",infoText:"Chissà dove porta?"}]},{id:"11-piazzetta-esterna-1",name:"Piazzetta esterna",initialViewParameters:{yaw:-2.8050670781679656,pitch:1.2501841038691754,fov:1.4550425388027854},linkHotspots:[{yaw:0,pitch:1.5,rotation:0,target:"10-nevera",isRed:!1},{yaw:-2.8415641017869158,pitch:.3672996705966384,rotation:44.2,target:"12-piazzetta-esterna-2",isRed:!0}],infoHotspots:[]},{id:"12-piazzetta-esterna-2",name:"Piazzetta esterna",initialViewParameters:{yaw:.6178434109707948,pitch:.13968407398146887,fov:1.4550425388027854},linkHotspots:[{yaw:2.9726404786367517,pitch:.12541071417435035,rotation:180,target:"11-piazzetta-esterna-1",isRed:!1},{yaw:1.3830260574836153,pitch:.24075843149433318,rotation:225,target:"14-porticato-1",isRed:!0},{yaw:-.2921980901382035,pitch:.3223224212032427,rotation:90,target:"13-piazzetta-esterna-3",isRed:!1}],infoHotspots:[{yaw:-.4921980901382035,pitch:-.3223224212032427,title:"Cosa c'è in quel riquadro bianco?",infoText:"Vai avanti per scoprire il mistero",isRed:!1}]},{id:"13-piazzetta-esterna-3",name:"Piazzetta esterna",initialViewParameters:{yaw:3.048399731506681,pitch:.3647925166301711,fov:1.4550425388027854},linkHotspots:[{yaw:4.6,pitch:.2,rotation:630,target:"12-piazzetta-esterna-2",isRed:!1},{yaw:2.420318991846152,pitch:.25095531570031326,rotation:45,target:"1-museo-2",isRed:!0}],infoHotspots:[{yaw:-3.132283050143341,pitch:-.049574861929396974,title:"Title",infoText:"Text"},{yaw:.31532392460437464,pitch:-.2952245705925769,title:"U-UN... UN FANTASMA!!!?",infoText:"Contadino"},{yaw:-4.000000900343686,pitch:.12600622227910918,title:"Ritorniamo all'inizio",infoText:"Text"}]},{id:"14-porticato-1",name:"Porticato",initialViewParameters:{yaw:-1.5403223239823056,pitch:.2319753371478157,fov:1.4550425388027854},linkHotspots:[{yaw:.006518183541572853,pitch:-.10133365880838774,rotation:225,target:"15-porticato-2",isRed:!0},{yaw:-1.7065181835415728,pitch:.3313336588083877,rotation:180,target:"12-piazzetta-esterna-2",isRed:!1}],infoHotspots:[]},{id:"15-porticato-2",name:"Scalette porticato",initialViewParameters:{yaw:.24564178763109368,pitch:-.019954867711646784,fov:1.4550425388027854},linkHotspots:[{yaw:-.4,pitch:.4,rotation:57.3,target:"14-porticato-1",isRed:!1},{yaw:.8723147566096277,pitch:-.04103202549088891,rotation:270,target:"16-porticato-3",isRed:!0}],infoHotspots:[]},{id:"16-porticato-3",name:"Scalette porticato",initialViewParameters:{yaw:2.8886703356943286,pitch:.27615089842306517,fov:1.4550425388027854},linkHotspots:[{yaw:2.5352013986108695,pitch:.29458640795051494,rotation:90,target:"17-casa-del-maestro",isRed:!0}],infoHotspots:[{yaw:.15439878530581552,pitch:-.25511697907968767,title:"Piano superiore",infoText:"Text"}]},{id:"17-casa-del-maestro",name:"Casa del Maestro",initialViewParameters:{yaw:.9770149992645507,pitch:.17211073401290022,fov:1.4550425388027854},linkHotspots:[{yaw:2.35,pitch:.2,rotation:570,target:"16-porticato-3",isRed:!1},{yaw:.380864005166174,pitch:.3367534292801828,rotation:180,target:"13-piazzetta-esterna-3",isRed:!0}],infoHotspots:[]}],UT={mouseViewMode:"drag",autorotateEnabled:!0,fullscreenButton:!1,viewControlButtons:!1},as={common:jT,scenes:VT,settings:UT},a1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0OEVCN0IyNkY2NEMxMUU0QjYwM0YzQzFCMzYyQTIyMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0OEVCN0IyN0Y2NEMxMUU0QjYwM0YzQzFCMzYyQTIyMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ4RUI3QjI0RjY0QzExRTRCNjAzRjNDMUIzNjJBMjIyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQ4RUI3QjI1RjY0QzExRTRCNjAzRjNDMUIzNjJBMjIyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+g8gPXQAABERJREFUeNrsnUloFEEUhivGnYAm4gLuCEYUUYyKW0QUBEVExLghCC6IiAsBT4qYg1dBcQH14MEFJOJB44JCMu6oIApJPIhLQA1xjRqNGo3/s3tQw9DTS02o6vl/+A9Jqnqm55tXr7v6VSWntbVVUeaoAz8CAqEIhEAoAiEQikAIhCIQAqEIhCIQAqEIhEAoAvGnHvAW+DJcD/+Cv8B34W1wT1PfeE4MH1Ath3fDfT3aNMAL4FsEklntgMt8tm2Cx8OPCCQzWgMfDtjnIjyHQPSrN/wEzgvYT05+APySSV2vNoWA8ecLCU/hVZZ+LYvQtz+B6FUfeFiE/k0EolcDI/Z/RiB69T1C30/wNQLRq1cR+h6Fv/GyV79q4REB+7xz+7xmhOjXwYDtW+AS02DEKUJy4fPwbB9tP8Ir4LMmnkhcIuQnvBA+5H77U0lmfE/BY0yFEacI+VeD4flwIdwVfgM/hi/AL0x/8zlcH8IhiyIQAqEIhEAoAiEQqp3VMcbn1g8ep5znJTKjW6EMnLuKOxCZvV0Jz4NHKeeZeVKN8HT4Ie/UM/+lWgpvgCelaZuAZxBIZtQNXguXKmf+yo9kgrEX/IFJXe97lmFJKg73BICR7FvIHKJPxfBeeGyEY3TiZW905SunTDQREYaohRESTYvgfcq7mj2I6pnUwynPzRGrNB7zB9zd5CgxNUKK4BPwcM3HrTZ9yDIxh6yGb2QAhuieDZeQJkXrAfgI3MUjITdGeI3rBOJfp+H1KX4vSU7WCpa4V1uLI7xGgkD8q6bNz1Lac1w5c1JSb1UOf/aInnR6rgwrrDYdyC71dyXTGReEFLTVtmk3Oq7RYdpVlnz7Nyqnmv2cR7tpIY9faQMQ2yYXZTpdCt8KQvQdyiFLv0aGhGFF/rARSNgFmglbTjBbgFQSSGYUNqFXWZMkLUrqsjlAQ8j8MYQRYk50JGwaAmwCEvv8kS1AqmwCYksOkZVQUikSdB6rTgUrgmCE+FSRCjepaFV02ARkajbkD5uAZEX+sCmHNLj3IbHOH7ZESGEIGH6iQ3JSLoEE1+SQ/e54/E2q5G/DWwmk/e7Q76caopVT1SL790oFZJl7BUcg7ZDQ36aItKvKqWpJ7s/YGd5v0smaXkpaoIJvu5SUPJOXrTTmwuvgmSnayEY0pQTiXxPV/6uggqg8Td/3yllpdZNA/CtKpbsXDNmFTjZQfsCkHnzY0S0pJ51gIgwbgAzSfDwpvCtWBm/TZDqQfE3HaYY3K6fwrtnkEzY9h3TWNETJmsQaCy7xjY+QKJXuX+Gd7v2HFTBsABLmg5TZ0pPu/Yvcibcoi2Q6kIqAIKS9bB4g/2WnTlko06ffZTb2EjwrzbB2TDl791Yry2XD8xDZsWE7vEQ5zzdkv/anytmzXRbyXFGGbRcedyBZJe6XRSAUgRAIRSAEQhEIgVAEQiAUgVAEQiBUKP0WYABkJ9nd+hk+gQAAAABJRU5ErkJggg==";var WT={BASE_URL:"/react-marzipano/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const zf=e=>{let t;const r=new Set,n=(c,h)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const d=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(p=>p(t,d))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(WT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,i,l);return l},BT=e=>e?zf(e):zf;var l1={exports:{}},u1={},c1={exports:{}},h1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gn=ye;function YT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bT=typeof Object.is=="function"?Object.is:YT,XT=Gn.useState,GT=Gn.useEffect,qT=Gn.useLayoutEffect,QT=Gn.useDebugValue;function ZT(e,t){var r=t(),n=XT({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return qT(function(){i.value=r,i.getSnapshot=t,sl(i)&&o({inst:i})},[e,r,t]),GT(function(){return sl(i)&&o({inst:i}),e(function(){sl(i)&&o({inst:i})})},[e]),QT(r),r}function sl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bT(e,r)}catch{return!0}}function KT(e,t){return t()}var JT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KT:ZT;h1.useSyncExternalStore=Gn.useSyncExternalStore!==void 0?Gn.useSyncExternalStore:JT;c1.exports=h1;var eC=c1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=ye,tC=eC;function rC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nC=typeof Object.is=="function"?Object.is:rC,iC=tC.useSyncExternalStore,oC=ua.useRef,sC=ua.useEffect,aC=ua.useMemo,lC=ua.useDebugValue;u1.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=oC(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=aC(function(){function l(d){if(!u){if(u=!0,c=d,d=n(d),i!==void 0&&s.hasValue){var p=s.value;if(i(p,d))return h=p}return h=d}if(p=h,nC(c,d))return p;var w=n(d);return i!==void 0&&i(p,w)?p:(c=d,h=w)}var u=!1,c,h,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,i]);var a=iC(e,o[0],o[1]);return sC(function(){s.hasValue=!0,s.value=a},[a]),lC(a),a};l1.exports=u1;var uC=l1.exports;const cC=au(uC);var f1={BASE_URL:"/react-marzipano/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:hC}=fu,{useSyncExternalStoreWithSelector:fC}=cC;let kf=!1;const dC=e=>e;function vC(e,t=dC,r){(f1?"production":void 0)!=="production"&&r&&!kf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kf=!0);const n=fC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return hC(n),n}const Lf=e=>{(f1?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?BT(e):e,r=(n,i)=>vC(t,n,i);return Object.assign(r,t),r},d1=e=>e?Lf(e):Lf,Pc=d1(e=>({videoLink:null,isVideoVisible:!1,showVideo:t=>e({videoLink:t,isVideoVisible:!0}),closeVideo:()=>e({videoLink:null,isVideoVisible:!1})})),pC=({hotspot:e})=>{const{showVideo:t}=Pc(),[r,n]=fu.useState(!1),i=a=>{a.stopPropagation(),n(!r)},o=a=>{a.stopPropagation(),n(!1)},s=a=>{a.stopPropagation(),e.videoLink&&t(e.videoLink)};return N.jsxs("div",{className:"relative p-2 bg-blue-500 rounded-lg shadow-md transition-transform transform hover:scale-110",children:[N.jsx("div",{className:"cursor-pointer flex items-center justify-center w-8 h-8",onClick:i,children:N.jsx("img",{src:a1,alt:"Info Icon",className:"w-8 h-8 transition-transform transform hover:scale-110"})}),N.jsxs("div",{className:`absolute top-12 left-0 bg-blue-400 p-4 rounded-lg shadow-md transition-opacity duration-300 ${r?"opacity-100 visible":"opacity-0 invisible"}`,children:[N.jsxs("div",{className:"flex justify-between items-center mb-2",children:[N.jsx("div",{className:"text-lg font-bold text-white",children:e.title}),N.jsx("button",{onClick:o,className:"ml-4 bg-red-500 text-white px-2 py-1 rounded-full hover:bg-red-700",children:"X"})]}),N.jsx("hr",{className:"border-blue-300 mb-2"}),e.infoText&&N.jsx("div",{className:"mt-2 text-sm text-white",children:e.infoText}),e.videoLink&&N.jsx("div",{className:"mt-2",children:N.jsx("button",{onClick:s,className:"bg-white text-blue-500 px-4 py-2 rounded-lg shadow-md hover:bg-blue-100",children:"Watch Video"})})]})]})},mC="/react-marzipano/assets/link-LSY-V6-Z.png",yC="/react-marzipano/assets/linkred-0djMde5C.png",_C=({switchToScene:e,hotspot:t})=>N.jsx("div",{className:"w-16 p-0 m-0 rounded-3xl flex items-center justify-center cursor-pointer transition-transform transform hover:scale-110",style:{transform:`rotate(${t.rotation}deg)`},onClick:r=>{r.stopPropagation(),e()},tabIndex:0,role:"button","aria-label":t.text||"Link hotspot",title:t.text,children:N.jsx("img",{src:t.isRed?yC:mC,alt:"Link Icon",className:"w-16 h-16 transition-transform transform hover:scale-110"})}),zc=d1(e=>({currentSceneIndex:0,switchScene:t=>e({currentSceneIndex:t})})),gC=({infoHotspots:e,linkHotspots:t,sceneObjects:r,currentSceneIndex:n})=>{const{switchScene:i}=zc(),o=ye.useRef(null),s=ye.useRef([]),[a,l]=ye.useState(null);return ye.useEffect(()=>{if(a!==null){const f=r[a].hotspotContainer();console.log("Clearing existing hotspots from previous scene"),s.current.forEach((d,p)=>{try{f.hasHotspot(d)?(console.log(`Destroying hotspot ${p} from previous scene`),f.destroyHotspot(d)):console.warn(`Hotspot ${p} does not exist in the container of previous scene`)}catch(w){console.error(`Error destroying hotspot ${p} from previous scene:`,w)}}),s.current=[]}const u=r[n];if(!u||!o.current){console.error("Scene or container not found");return}const c=u.hotspotContainer();e.forEach((h,f)=>{var g;const d=document.createElement("div");(g=o.current)==null||g.appendChild(d),tu(d).render(N.jsx(pC,{hotspot:h},f));const w=c.createHotspot(d,{yaw:h.yaw,pitch:h.pitch});console.log(`Creating info hotspot ${f}`,w),s.current.push(w)}),t.forEach((h,f)=>{var m;const d=document.createElement("div");(m=o.current)==null||m.appendChild(d);const p=as.scenes.findIndex(y=>y.id===h.target);if(p===-1){console.error(`Target scene with ID ${h.target} not found.`);return}tu(d).render(N.jsx(_C,{hotspot:h,switchToScene:()=>{console.log(`Switching to target scene ${p}`),i(p)}},f));const g=c.createHotspot(d,{yaw:h.yaw,pitch:h.pitch});console.log(`Creating link hotspot ${f}`,g),s.current.push(g)}),l(n)},[n,r,e,t,i]),ye.useEffect(()=>{const u=()=>{document.querySelectorAll(".hotspot__content").forEach(h=>{h.classList.add("hidden")})};return document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}},[]),N.jsx("div",{ref:o})},wC=({data:e,sceneObjects:t,currentSceneIndex:r})=>(ye.useEffect(()=>{const n=t[r];n&&(console.log(`Switching to scene ${r}`),n.switchTo())},[r,t]),N.jsx("div",{children:N.jsx(gC,{infoHotspots:e.infoHotspots,linkHotspots:e.linkHotspots,sceneObjects:t,currentSceneIndex:r})})),xC=({onToggleAutorotation:e,isAutorotating:t,onToggleFullscreen:r,onShowInfo:n})=>N.jsxs("div",{className:"absolute top-0 left-0 w-full bg-gray-800 flex justify-between items-center z-10 p-4",children:[N.jsx("button",{className:"bg-blue-800 text-white w-10 h-10 flex items-center justify-center hover:opacity-80",onClick:n,children:N.jsx("img",{src:a1,alt:"Info",className:"w-6 h-6"})}),N.jsxs("div",{className:"flex space-x-4",children:[N.jsx("button",{className:"bg-green-800 text-white px-4 py-2 hover:opacity-80",onClick:e,children:t?"Stop Autorotation":"Start Autorotation"}),N.jsx("button",{className:"bg-red-800 text-white px-4 py-2 hover:opacity-80",onClick:r,children:"Toggle Fullscreen"})]})]}),EC="/react-marzipano/assets/image-nZVj1vgi.jpg",SC=({index:e,closeFullScreen:t,isFullScreen:r,x:n,y:i})=>{const{switchScene:o}=zc(),s=a=>{a.stopPropagation(),r&&(o(e),t())};return N.jsx("div",{className:`absolute bg-red-500 text-white flex items-center justify-center rounded-full cursor-pointer border-2 ${r?"w-8 h-8":"w-4 h-4 text-xs"}`,style:{top:`${i}%`,left:`${n}%`},onClick:s,children:e})},MC=()=>{const[e,t]=ye.useState(!1),r=()=>{t(!e)},n=()=>{t(!1)},i=[{index:10,x:23,y:36},{index:11,x:23,y:52},{index:8,x:40,y:38},{index:2,x:58,y:44},{index:0,x:69,y:63},{index:1,x:76,y:35}];return N.jsxs("div",{children:[e&&N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-10",onClick:n}),N.jsx("div",{className:`z-10 rounded-lg transition-all duration-300 ease-in-out cursor-pointer max-w-full max-h-full ${e?"fixed inset-0 m-auto flex items-center justify-center w-full h-full":"absolute bottom-10 right-10 w-[150px] lg:w-[250px] h-[150px] lg:h-[250px]"}`,onClick:e?void 0:r,children:N.jsxs("div",{className:"relative w-full h-full bg-blue-600 rounded-3xl transition-transform transform hover:scale-105",children:[N.jsx("img",{src:EC,alt:"Map",className:`w-full h-full object-contain ${e?"rounded-none":"hover:opacity-75 rounded-inherit"}`,style:{borderRadius:e?"0":"inherit"}}),e&&N.jsx("button",{onClick:o=>{o.stopPropagation(),n()},className:"absolute top-5 right-5 mt-2 mr-2 cursor-pointer bg-red-700 text-white w-12 h-12 border-2 rounded-lg shadow-lg",children:"X"}),i.map(({index:o,x:s,y:a})=>N.jsx(SC,{index:o,x:s,y:a,closeFullScreen:r,isFullScreen:e},o))]})})]})},v1=({videoLink:e,onClose:t})=>{const r="assets/videos",n=o=>o.includes("youtube.com")||o.includes("youtu.be"),i=o=>{const s=o.match(/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/\\s]{11})/);return s?`https://www.youtube.com/embed/${s[1]}`:""};return N.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75 z-20",children:N.jsxs("div",{className:"relative w-screen lg:w-fit max-w-5xl px-24 lg:p-4 bg-gray-800 rounded-lg",children:[N.jsx("button",{onClick:t,className:"absolute top-4 right-4 lg:-top-20 lg:-right-20 bg-red-600 text-white rounded-full w-14 h-14 flex items-center justify-center animate-pulse",children:"X"}),n(e)?N.jsx("iframe",{className:"relative w-[1000px] h-96 max-w-3xl p-4 bg-gray-800 rounded-lg",src:i(e),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):N.jsxs("video",{controls:!0,className:"relative w-full max-w-3xl p-4 bg-gray-800 rounded-lg",children:[N.jsx("source",{src:`${r}/${encodeURIComponent(e)}`,type:"video/mp4"}),N.jsx("source",{src:`${r}/${encodeURIComponent(e.replace(".mp4",".webm"))}`,type:"video/webm"}),N.jsx("source",{src:`${r}/${encodeURIComponent(e.replace(".mp4",".ogv"))}`,type:"video/ogg"}),"Your browser does not support the video tag."]})]})})},TC=({setInfoVisible:e})=>N.jsx("div",{className:"z-20 absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:N.jsxs("div",{className:"w-full max-w-5xl bg-gray-800 bg-opacity-90 p-8 rounded-md shadow-md text-white overflow-auto max-h-full border-4 border-blue-600",children:[N.jsxs("div",{className:"text-center mb-6",children:[N.jsx("h1",{className:"text-4xl font-extrabold mb-4 text-blue-300 text-justify",children:"Nevera Virtual Tour"}),N.jsx("p",{className:"text-xl mb-6 text-justify",children:"Benvenuto. Per navigare all'interno del museo e visitare la nevera trascina il cursore per muovere le immagini a 360° e clicca sugli hotspot con le frecce per spostarti in un altro scenario. Puoi spostarti utilizzando anche la mappa in basso a destra."}),N.jsx("div",{className:"flex justify-center",children:N.jsx("button",{id:"explore-button",className:"btn-77 mb-8",onClick:()=>e(!1),children:"Esplora"})})]}),N.jsxs("div",{className:"text-center mt-8 bg-gray-800 bg-opacity-50 p-4 rounded-md",children:[N.jsxs("div",{className:"credits text-xs mb-2 opacity-75",children:[N.jsx("span",{className:"font-semibold",children:"Autore:"})," Nicola Invernizzi,",N.jsx("span",{className:"font-semibold",children:" Sviluppatori Attuali:"})," Puiu Rares Gabriel, Faye Kenowa"]}),N.jsx("div",{className:"text-xs mb-2 opacity-75",children:"Progetto sviluppato nel contesto delle attività Computing for Social Good di Renato Cortinovis"}),N.jsx("div",{className:"copyright text-xs opacity-75",children:"CC BY-NC-SA 4.0"})]})]})}),CC=()=>{const e=ye.useRef(null),{currentSceneIndex:t}=zc(),{closeVideo:r,isVideoVisible:n,videoLink:i}=Pc(),{viewer:o,sceneObjects:s,isAutorotating:a,toggleAutorotation:l}=FT(e,as,t),u=()=>{var d;document.fullscreenElement?document.exitFullscreen():(d=e.current)==null||d.requestFullscreen().catch(p=>{alert(`Error attempting to enable full-screen mode: ${p.message} (${p.name})`)})},[c,h]=ye.useState(!1);ye.useEffect(()=>{localStorage.getItem("isFirstVisit")||(h(!0),localStorage.setItem("isFirstVisit","false"))},[]);function f(){h(!c)}return N.jsxs("div",{id:"pano",ref:e,className:"relative w-full h-full overflow-hidden",children:[N.jsx(xC,{onToggleAutorotation:l,isAutorotating:a,onToggleFullscreen:u,onShowInfo:f}),o&&s.length>0&&N.jsx(wC,{viewer:o,data:as.scenes[t],common:as.common,sceneObjects:s,currentSceneIndex:t}),N.jsx(MC,{}),n&&i&&N.jsx(v1,{videoLink:i,onClose:r}),c&&N.jsx(TC,{setInfoVisible:h})]})},PC=()=>{const{videoLink:e,isVideoVisible:t,closeVideo:r}=Pc();return N.jsxs(N.Fragment,{children:[N.jsx(CC,{}),t&&e&&N.jsx(v1,{videoLink:e,onClose:r})]})};ll.createRoot(document.getElementById("root")).render(N.jsx(fu.StrictMode,{children:N.jsx(PC,{})}));
